<?xml version="1.0" encoding="UTF-8" ?>
<testsuites name="vitest tests" tests="2104" failures="43" errors="0" time="13.448973415">
    <testsuite name="src/gemini.test.tsx" timestamp="2025-11-26T16:27:33.624Z" hostname="MacBook-Pro-6.local" tests="10" failures="0" errors="0" skipped="0" time="0.776301875">
        <testcase classname="src/gemini.test.tsx" name="gemini.tsx main function &gt; verifies that we dont load the config before relaunchAppInChildProcess" time="0.76012425">
        </testcase>
        <testcase classname="src/gemini.test.tsx" name="gemini.tsx main function &gt; should log unhandled promise rejections and open debug console on first error" time="0.005364042">
        </testcase>
        <testcase classname="src/gemini.test.tsx" name="gemini.tsx main function &gt; invokes runNonInteractiveStreamJson and performs cleanup in stream-json mode" time="0.001984791">
        </testcase>
        <testcase classname="src/gemini.test.tsx" name="gemini.tsx main function kitty protocol &gt; should call setRawMode and detectAndEnableKittyProtocol when isInteractive is true" time="0.004341459">
        </testcase>
        <testcase classname="src/gemini.test.tsx" name="validateDnsResolutionOrder &gt; should return &quot;ipv4first&quot; when the input is &quot;ipv4first&quot;" time="0.000230334">
        </testcase>
        <testcase classname="src/gemini.test.tsx" name="validateDnsResolutionOrder &gt; should return &quot;verbatim&quot; when the input is &quot;verbatim&quot;" time="0.000100208">
        </testcase>
        <testcase classname="src/gemini.test.tsx" name="validateDnsResolutionOrder &gt; should return the default &quot;ipv4first&quot; when the input is undefined" time="0.000087125">
        </testcase>
        <testcase classname="src/gemini.test.tsx" name="validateDnsResolutionOrder &gt; should return the default &quot;ipv4first&quot; and log a warning for an invalid string" time="0.000247458">
        </testcase>
        <testcase classname="src/gemini.test.tsx" name="startInteractiveUI &gt; should render the UI with proper React context and exitOnCtrlC disabled" time="0.000477708">
        </testcase>
        <testcase classname="src/gemini.test.tsx" name="startInteractiveUI &gt; should perform all startup tasks in correct order" time="0.001523833">
        </testcase>
    </testsuite>
    <testsuite name="src/nonInteractiveCli.test.ts" timestamp="2025-11-26T16:27:33.626Z" hostname="MacBook-Pro-6.local" tests="27" failures="0" errors="0" skipped="1" time="0.063390041">
        <testcase classname="src/nonInteractiveCli.test.ts" name="runNonInteractive &gt; should process input and write text output" time="0.005680208">
        </testcase>
        <testcase classname="src/nonInteractiveCli.test.ts" name="runNonInteractive &gt; should handle a single tool call and respond" time="0.001779541">
        </testcase>
        <testcase classname="src/nonInteractiveCli.test.ts" name="runNonInteractive &gt; should handle error during tool execution and should send error back to the model" time="0.001246417">
        </testcase>
        <testcase classname="src/nonInteractiveCli.test.ts" name="runNonInteractive &gt; should exit with error if sendMessageStream throws initially" time="0.001376542">
        </testcase>
        <testcase classname="src/nonInteractiveCli.test.ts" name="runNonInteractive &gt; should not exit if a tool is not found, and should send error back to model" time="0.001220083">
        </testcase>
        <testcase classname="src/nonInteractiveCli.test.ts" name="runNonInteractive &gt; should exit when max session turns are exceeded" time="0.001546417">
        </testcase>
        <testcase classname="src/nonInteractiveCli.test.ts" name="runNonInteractive &gt; should preprocess @include commands before sending to the model" time="0.000943709">
        </testcase>
        <testcase classname="src/nonInteractiveCli.test.ts" name="runNonInteractive &gt; should process input and write JSON output with stats" time="0.003952125">
        </testcase>
        <testcase classname="src/nonInteractiveCli.test.ts" name="runNonInteractive &gt; should write JSON output with stats for tool-only commands (no text response)" time="0.001629833">
        </testcase>
        <testcase classname="src/nonInteractiveCli.test.ts" name="runNonInteractive &gt; should write JSON output with stats for empty response commands" time="0.001615208">
        </testcase>
        <testcase classname="src/nonInteractiveCli.test.ts" name="runNonInteractive &gt; should handle errors in JSON format" time="0.001501583">
        </testcase>
        <testcase classname="src/nonInteractiveCli.test.ts" name="runNonInteractive &gt; should handle FatalInputError with custom exit code in JSON format" time="0.002251959">
        </testcase>
        <testcase classname="src/nonInteractiveCli.test.ts" name="runNonInteractive &gt; should execute a slash command that returns a prompt" time="0.003026875">
        </testcase>
        <testcase classname="src/nonInteractiveCli.test.ts" name="runNonInteractive &gt; should throw FatalInputError if a command requires confirmation" time="0.001527334">
        </testcase>
        <testcase classname="src/nonInteractiveCli.test.ts" name="runNonInteractive &gt; should treat an unknown slash command as a regular prompt" time="0.001494209">
        </testcase>
        <testcase classname="src/nonInteractiveCli.test.ts" name="runNonInteractive &gt; should throw for unhandled command result types" time="0.001116958">
        </testcase>
        <testcase classname="src/nonInteractiveCli.test.ts" name="runNonInteractive &gt; should pass arguments to the slash command action" time="0.001042291">
        </testcase>
        <testcase classname="src/nonInteractiveCli.test.ts" name="runNonInteractive &gt; should emit stream-json envelopes when output format is stream-json" time="0.002089584">
        </testcase>
        <testcase classname="src/nonInteractiveCli.test.ts" name="runNonInteractive &gt; should emit a single user envelope when userEnvelope is provided" time="0">
            <skipped/>
        </testcase>
        <testcase classname="src/nonInteractiveCli.test.ts" name="runNonInteractive &gt; should include usage metadata and API duration in stream-json result" time="0.003848541">
        </testcase>
        <testcase classname="src/nonInteractiveCli.test.ts" name="runNonInteractive &gt; should not emit user message when userMessage option is provided (stream-json input binding)" time="0.004601458">
        </testcase>
        <testcase classname="src/nonInteractiveCli.test.ts" name="runNonInteractive &gt; should emit tool results as user messages in stream-json format" time="0.0015605">
        </testcase>
        <testcase classname="src/nonInteractiveCli.test.ts" name="runNonInteractive &gt; should emit tool errors in tool_result blocks in stream-json format" time="0.001324792">
        </testcase>
        <testcase classname="src/nonInteractiveCli.test.ts" name="runNonInteractive &gt; should emit partial messages when includePartialMessages is true" time="0.001676541">
        </testcase>
        <testcase classname="src/nonInteractiveCli.test.ts" name="runNonInteractive &gt; should handle thinking blocks in stream-json format" time="0.001865041">
        </testcase>
        <testcase classname="src/nonInteractiveCli.test.ts" name="runNonInteractive &gt; should handle multiple tool calls in stream-json format" time="0.003465833">
        </testcase>
        <testcase classname="src/nonInteractiveCli.test.ts" name="runNonInteractive &gt; should handle userMessage with text content blocks in stream-json input mode" time="0.007967916">
        </testcase>
    </testsuite>
    <testsuite name="src/validateNonInterActiveAuth.test.ts" timestamp="2025-11-26T16:27:33.628Z" hostname="MacBook-Pro-6.local" tests="13" failures="0" errors="0" skipped="0" time="0.014392125">
        <testcase classname="src/validateNonInterActiveAuth.test.ts" name="validateNonInterActiveAuth &gt; exits if no auth type is configured or env vars set" time="0.003644708">
        </testcase>
        <testcase classname="src/validateNonInterActiveAuth.test.ts" name="validateNonInterActiveAuth &gt; uses USE_OPENAI if OPENAI_API_KEY is set" time="0.002117375">
        </testcase>
        <testcase classname="src/validateNonInterActiveAuth.test.ts" name="validateNonInterActiveAuth &gt; uses configured QWEN_OAUTH if provided" time="0.001930917">
        </testcase>
        <testcase classname="src/validateNonInterActiveAuth.test.ts" name="validateNonInterActiveAuth &gt; exits if validateAuthMethod returns error" time="0.000429208">
        </testcase>
        <testcase classname="src/validateNonInterActiveAuth.test.ts" name="validateNonInterActiveAuth &gt; skips validation if useExternalAuth is true" time="0.000475083">
        </testcase>
        <testcase classname="src/validateNonInterActiveAuth.test.ts" name="validateNonInterActiveAuth &gt; uses enforcedAuthType if provided" time="0.000828166">
        </testcase>
        <testcase classname="src/validateNonInterActiveAuth.test.ts" name="validateNonInterActiveAuth &gt; exits if currentAuthType does not match enforcedAuthType" time="0.000404291">
        </testcase>
        <testcase classname="src/validateNonInterActiveAuth.test.ts" name="validateNonInterActiveAuth &gt; JSON output mode &gt; emits error result and exits when no auth is configured" time="0.000890833">
        </testcase>
        <testcase classname="src/validateNonInterActiveAuth.test.ts" name="validateNonInterActiveAuth &gt; JSON output mode &gt; emits error result and exits when enforced auth mismatches current auth" time="0.000480875">
        </testcase>
        <testcase classname="src/validateNonInterActiveAuth.test.ts" name="validateNonInterActiveAuth &gt; JSON output mode &gt; emits error result and exits when validateAuthMethod fails" time="0.000510958">
        </testcase>
        <testcase classname="src/validateNonInterActiveAuth.test.ts" name="validateNonInterActiveAuth &gt; STREAM_JSON output mode &gt; emits error result and exits when no auth is configured" time="0.00058075">
        </testcase>
        <testcase classname="src/validateNonInterActiveAuth.test.ts" name="validateNonInterActiveAuth &gt; STREAM_JSON output mode &gt; emits error result and exits when enforced auth mismatches current auth" time="0.000493333">
        </testcase>
        <testcase classname="src/validateNonInterActiveAuth.test.ts" name="validateNonInterActiveAuth &gt; STREAM_JSON output mode &gt; emits error result and exits when validateAuthMethod fails" time="0.000489542">
        </testcase>
    </testsuite>
    <testsuite name="src/commands/mcp.test.ts" timestamp="2025-11-26T16:27:33.629Z" hostname="MacBook-Pro-6.local" tests="3" failures="0" errors="0" skipped="0" time="0.00846275">
        <testcase classname="src/commands/mcp.test.ts" name="mcp command &gt; should have correct command definition" time="0.001775458">
        </testcase>
        <testcase classname="src/commands/mcp.test.ts" name="mcp command &gt; should have exactly one option (help flag)" time="0.003908291">
        </testcase>
        <testcase classname="src/commands/mcp.test.ts" name="mcp command &gt; should register add, remove, and list subcommands" time="0.001837709">
        </testcase>
    </testsuite>
    <testsuite name="src/config/auth.test.ts" timestamp="2025-11-26T16:27:33.629Z" hostname="MacBook-Pro-6.local" tests="4" failures="0" errors="0" skipped="0" time="0.002969666">
        <testcase classname="src/config/auth.test.ts" name="validateAuthMethod &gt; should return null for USE_OPENAI" time="0.001444209">
        </testcase>
        <testcase classname="src/config/auth.test.ts" name="validateAuthMethod &gt; should return an error message for USE_OPENAI if OPENAI_API_KEY is not set" time="0.000325584">
        </testcase>
        <testcase classname="src/config/auth.test.ts" name="validateAuthMethod &gt; should return null for QWEN_OAUTH" time="0.000220833">
        </testcase>
        <testcase classname="src/config/auth.test.ts" name="validateAuthMethod &gt; should return an error message for an invalid auth method" time="0.000224541">
        </testcase>
    </testsuite>
    <testsuite name="src/config/config.integration.test.ts" timestamp="2025-11-26T16:27:33.630Z" hostname="MacBook-Pro-6.local" tests="19" failures="0" errors="0" skipped="0" time="0.317657667">
        <testcase classname="src/config/config.integration.test.ts" name="Configuration Integration Tests &gt; File Filtering Configuration &gt; should load default file filtering settings" time="0.009952042">
        </testcase>
        <testcase classname="src/config/config.integration.test.ts" name="Configuration Integration Tests &gt; File Filtering Configuration &gt; should load custom file filtering settings from configuration" time="0.000905792">
        </testcase>
        <testcase classname="src/config/config.integration.test.ts" name="Configuration Integration Tests &gt; File Filtering Configuration &gt; should merge user and workspace file filtering settings" time="0.000376166">
        </testcase>
        <testcase classname="src/config/config.integration.test.ts" name="Configuration Integration Tests &gt; Configuration Integration &gt; should handle partial configuration objects gracefully" time="0.000366917">
        </testcase>
        <testcase classname="src/config/config.integration.test.ts" name="Configuration Integration Tests &gt; Configuration Integration &gt; should handle empty configuration objects gracefully" time="0.000370958">
        </testcase>
        <testcase classname="src/config/config.integration.test.ts" name="Configuration Integration Tests &gt; Configuration Integration &gt; should handle missing configuration sections gracefully" time="0.000350334">
        </testcase>
        <testcase classname="src/config/config.integration.test.ts" name="Configuration Integration Tests &gt; Real-world Configuration Scenarios &gt; should handle a security-focused configuration" time="0.000313917">
        </testcase>
        <testcase classname="src/config/config.integration.test.ts" name="Configuration Integration Tests &gt; Real-world Configuration Scenarios &gt; should handle a CI/CD environment configuration" time="0.000393292">
        </testcase>
        <testcase classname="src/config/config.integration.test.ts" name="Configuration Integration Tests &gt; Checkpointing Configuration &gt; should enable checkpointing when the setting is true" time="0.000449625">
        </testcase>
        <testcase classname="src/config/config.integration.test.ts" name="Configuration Integration Tests &gt; Extension Context Files &gt; should have an empty array for extension context files by default" time="0.000721542">
        </testcase>
        <testcase classname="src/config/config.integration.test.ts" name="Configuration Integration Tests &gt; Extension Context Files &gt; should correctly store and return extension context file paths" time="0.000437667">
        </testcase>
        <testcase classname="src/config/config.integration.test.ts" name="Configuration Integration Tests &gt; Approval Mode Integration Tests &gt; should parse --approval-mode=auto-edit correctly through the full argument parsing flow" time="0.233824375">
        </testcase>
        <testcase classname="src/config/config.integration.test.ts" name="Configuration Integration Tests &gt; Approval Mode Integration Tests &gt; should parse --approval-mode=plan correctly through the full argument parsing flow" time="0.003183459">
        </testcase>
        <testcase classname="src/config/config.integration.test.ts" name="Configuration Integration Tests &gt; Approval Mode Integration Tests &gt; should parse --approval-mode=yolo correctly through the full argument parsing flow" time="0.003456167">
        </testcase>
        <testcase classname="src/config/config.integration.test.ts" name="Configuration Integration Tests &gt; Approval Mode Integration Tests &gt; should parse --approval-mode=default correctly through the full argument parsing flow" time="0.002309666">
        </testcase>
        <testcase classname="src/config/config.integration.test.ts" name="Configuration Integration Tests &gt; Approval Mode Integration Tests &gt; should parse legacy --yolo flag correctly" time="0.002245792">
        </testcase>
        <testcase classname="src/config/config.integration.test.ts" name="Configuration Integration Tests &gt; Approval Mode Integration Tests &gt; should reject invalid approval mode values during argument parsing" time="0.007512875">
            <system-err>
Invalid values:
  Argument: approval-mode, Given: &quot;invalid_mode&quot;, Choices: &quot;plan&quot;, &quot;default&quot;, &quot;auto-edit&quot;, &quot;yolo&quot;
Usage: qwen [options] [command]

Qwen Code - Launch an interactive CLI, use -p/--prompt for non-interactive mode

Commands:
  qwen [query..]             Launch Qwen Code CLI  [default]
  qwen mcp                   Manage MCP servers
  qwen extensions &lt;command&gt;  Manage Qwen Code extensions.

Positionals:
  query  Positional prompt. Defaults to one-shot; use -i/--prompt-interactive for interactive.

Options:
      --telemetry                 Enable telemetry? This flag specifically controls if telemetry is sent. Other --telemetry-* flags set specific values but do not enable telemetry on their own.  [deprecated: Use the &quot;telemetry.enabled&quot; setting in settings.json instead. This flag will be removed in a future version.] [boolean]
      --telemetry-target          Set the telemetry target (local or gcp). Overrides settings files.  [deprecated: Use the &quot;telemetry.target&quot; setting in settings.json instead. This flag will be removed in a future version.] [string] [choices: &quot;local&quot;, &quot;gcp&quot;]
      --telemetry-otlp-endpoint   Set the OTLP endpoint for telemetry. Overrides environment variables and settings files.  [deprecated: Use the &quot;telemetry.otlpEndpoint&quot; setting in settings.json instead. This flag will be removed in a future version.] [string]
      --telemetry-otlp-protocol   Set the OTLP protocol for telemetry (grpc or http). Overrides settings files.  [deprecated: Use the &quot;telemetry.otlpProtocol&quot; setting in settings.json instead. This flag will be removed in a future version.] [string] [choices: &quot;grpc&quot;, &quot;http&quot;]
      --telemetry-log-prompts     Enable or disable logging of user prompts for telemetry. Overrides settings files.  [deprecated: Use the &quot;telemetry.logPrompts&quot; setting in settings.json instead. This flag will be removed in a future version.] [boolean]
      --telemetry-outfile         Redirect all telemetry output to the specified file.  [deprecated: Use the &quot;telemetry.outfile&quot; setting in settings.json instead. This flag will be removed in a future version.] [string]
  -d, --debug                     Run in debug mode?  [boolean] [default: false]
      --proxy                     Proxy for Qwen Code, like schema://user:password@host:port  [deprecated: Use the &quot;proxy&quot; setting in settings.json instead. This flag will be removed in a future version.] [string]
  -m, --model                     Model  [string]
  -p, --prompt                    Prompt. Appended to input on stdin (if any).  [deprecated: Use the positional prompt instead. This flag will be removed in a future version.] [string]
  -i, --prompt-interactive        Execute the provided prompt and continue in interactive mode  [string]
  -s, --sandbox                   Run in sandbox?  [boolean]
      --sandbox-image             Sandbox image URI.  [deprecated: Use the &quot;tools.sandbox&quot; setting in settings.json instead. This flag will be removed in a future version.] [string]
  -a, --all-files                 Include ALL files in context?  [deprecated: Use @ includes in the application instead. This flag will be removed in a future version.] [boolean] [default: false]
      --show-memory-usage         Show memory usage in status bar  [deprecated: Use the &quot;ui.showMemoryUsage&quot; setting in settings.json instead. This flag will be removed in a future version.] [boolean] [default: false]
  -y, --yolo                      Automatically accept all actions (aka YOLO mode, see https://www.youtube.com/watch?v=xvFZjo5PgG0 for more details)?  [boolean] [default: false]
      --approval-mode             Set the approval mode: plan (plan only), default (prompt for approval), auto-edit (auto-approve edit tools), yolo (auto-approve all tools)  [string] [choices: &quot;plan&quot;, &quot;default&quot;, &quot;auto-edit&quot;, &quot;yolo&quot;]
  -c, --checkpointing             Enables checkpointing of file edits  [deprecated: Use the &quot;general.checkpointing.enabled&quot; setting in settings.json instead. This flag will be removed in a future version.] [boolean] [default: false]
      --experimental-acp          Starts the agent in ACP mode  [boolean]
      --allowed-mcp-server-names  Allowed MCP server names  [array]
      --allowed-tools             Tools that are allowed to run without confirmation  [array]
  -e, --extensions                A list of extensions to use. If not provided, all extensions are used.  [array]
  -l, --list-extensions           List all available extensions and exit.  [boolean]
      --include-directories       Additional directories to include in the workspace (comma-separated or multiple --include-directories)  [array]
      --openai-logging            Enable logging of OpenAI API calls for debugging and analysis  [boolean]
      --openai-logging-dir        Custom directory path for OpenAI API logs. Overrides settings files.  [string]
      --openai-api-key            OpenAI API key to use for authentication  [string]
      --openai-base-url           OpenAI base URL (for custom endpoints)  [string]
      --tavily-api-key            Tavily API key for web search  [string]
      --google-api-key            Google Custom Search API key  [string]
      --google-search-engine-id   Google Custom Search Engine ID  [string]
      --web-search-default        Default web search provider (dashscope, tavily, google)  [string]
      --screen-reader             Enable screen reader mode for accessibility.  [boolean]
      --vlm-switch-mode           Default behavior when images are detected in input. Values: once (one-time switch), session (switch for entire session), persist (continue with current model). Overrides settings files.  [string] [choices: &quot;once&quot;, &quot;session&quot;, &quot;persist&quot;]
      --input-format              The format consumed from standard input.  [string] [choices: &quot;text&quot;, &quot;stream-json&quot;] [default: &quot;text&quot;]
  -o, --output-format             The format of the CLI output.  [string] [choices: &quot;text&quot;, &quot;json&quot;, &quot;stream-json&quot;]
      --include-partial-messages  Include partial assistant messages when using stream-json output.  [boolean] [default: false]
  -v, --version                   Show version number  [boolean]
  -h, --help                      Show help  [boolean]

            </system-err>
        </testcase>
        <testcase classname="src/config/config.integration.test.ts" name="Configuration Integration Tests &gt; Approval Mode Integration Tests &gt; should reject conflicting --yolo and --approval-mode flags" time="0.041420334">
            <system-err>
Cannot use both --yolo (-y) and --approval-mode together. Use --approval-mode=yolo instead.
Usage: qwen [options] [command]

Qwen Code - Launch an interactive CLI, use -p/--prompt for non-interactive mode

Commands:
  qwen [query..]             Launch Qwen Code CLI  [default]
  qwen mcp                   Manage MCP servers
  qwen extensions &lt;command&gt;  Manage Qwen Code extensions.

Positionals:
  query  Positional prompt. Defaults to one-shot; use -i/--prompt-interactive for interactive.

Options:
      --telemetry                 Enable telemetry? This flag specifically controls if telemetry is sent. Other --telemetry-* flags set specific values but do not enable telemetry on their own.  [deprecated: Use the &quot;telemetry.enabled&quot; setting in settings.json instead. This flag will be removed in a future version.] [boolean]
      --telemetry-target          Set the telemetry target (local or gcp). Overrides settings files.  [deprecated: Use the &quot;telemetry.target&quot; setting in settings.json instead. This flag will be removed in a future version.] [string] [choices: &quot;local&quot;, &quot;gcp&quot;]
      --telemetry-otlp-endpoint   Set the OTLP endpoint for telemetry. Overrides environment variables and settings files.  [deprecated: Use the &quot;telemetry.otlpEndpoint&quot; setting in settings.json instead. This flag will be removed in a future version.] [string]
      --telemetry-otlp-protocol   Set the OTLP protocol for telemetry (grpc or http). Overrides settings files.  [deprecated: Use the &quot;telemetry.otlpProtocol&quot; setting in settings.json instead. This flag will be removed in a future version.] [string] [choices: &quot;grpc&quot;, &quot;http&quot;]
      --telemetry-log-prompts     Enable or disable logging of user prompts for telemetry. Overrides settings files.  [deprecated: Use the &quot;telemetry.logPrompts&quot; setting in settings.json instead. This flag will be removed in a future version.] [boolean]
      --telemetry-outfile         Redirect all telemetry output to the specified file.  [deprecated: Use the &quot;telemetry.outfile&quot; setting in settings.json instead. This flag will be removed in a future version.] [string]
  -d, --debug                     Run in debug mode?  [boolean] [default: false]
      --proxy                     Proxy for Qwen Code, like schema://user:password@host:port  [deprecated: Use the &quot;proxy&quot; setting in settings.json instead. This flag will be removed in a future version.] [string]
  -m, --model                     Model  [string]
  -p, --prompt                    Prompt. Appended to input on stdin (if any).  [deprecated: Use the positional prompt instead. This flag will be removed in a future version.] [string]
  -i, --prompt-interactive        Execute the provided prompt and continue in interactive mode  [string]
  -s, --sandbox                   Run in sandbox?  [boolean]
      --sandbox-image             Sandbox image URI.  [deprecated: Use the &quot;tools.sandbox&quot; setting in settings.json instead. This flag will be removed in a future version.] [string]
  -a, --all-files                 Include ALL files in context?  [deprecated: Use @ includes in the application instead. This flag will be removed in a future version.] [boolean] [default: false]
      --show-memory-usage         Show memory usage in status bar  [deprecated: Use the &quot;ui.showMemoryUsage&quot; setting in settings.json instead. This flag will be removed in a future version.] [boolean] [default: false]
  -y, --yolo                      Automatically accept all actions (aka YOLO mode, see https://www.youtube.com/watch?v=xvFZjo5PgG0 for more details)?  [boolean] [default: false]
      --approval-mode             Set the approval mode: plan (plan only), default (prompt for approval), auto-edit (auto-approve edit tools), yolo (auto-approve all tools)  [string] [choices: &quot;plan&quot;, &quot;default&quot;, &quot;auto-edit&quot;, &quot;yolo&quot;]
  -c, --checkpointing             Enables checkpointing of file edits  [deprecated: Use the &quot;general.checkpointing.enabled&quot; setting in settings.json instead. This flag will be removed in a future version.] [boolean] [default: false]
      --experimental-acp          Starts the agent in ACP mode  [boolean]
      --allowed-mcp-server-names  Allowed MCP server names  [array]
      --allowed-tools             Tools that are allowed to run without confirmation  [array]
  -e, --extensions                A list of extensions to use. If not provided, all extensions are used.  [array]
  -l, --list-extensions           List all available extensions and exit.  [boolean]
      --include-directories       Additional directories to include in the workspace (comma-separated or multiple --include-directories)  [array]
      --openai-logging            Enable logging of OpenAI API calls for debugging and analysis  [boolean]
      --openai-logging-dir        Custom directory path for OpenAI API logs. Overrides settings files.  [string]
      --openai-api-key            OpenAI API key to use for authentication  [string]
      --openai-base-url           OpenAI base URL (for custom endpoints)  [string]
      --tavily-api-key            Tavily API key for web search  [string]
      --google-api-key            Google Custom Search API key  [string]
      --google-search-engine-id   Google Custom Search Engine ID  [string]
      --web-search-default        Default web search provider (dashscope, tavily, google)  [string]
      --screen-reader             Enable screen reader mode for accessibility.  [boolean]
      --vlm-switch-mode           Default behavior when images are detected in input. Values: once (one-time switch), session (switch for entire session), persist (continue with current model). Overrides settings files.  [string] [choices: &quot;once&quot;, &quot;session&quot;, &quot;persist&quot;]
      --input-format              The format consumed from standard input.  [string] [choices: &quot;text&quot;, &quot;stream-json&quot;] [default: &quot;text&quot;]
  -o, --output-format             The format of the CLI output.  [string] [choices: &quot;text&quot;, &quot;json&quot;, &quot;stream-json&quot;]
      --include-partial-messages  Include partial assistant messages when using stream-json output.  [boolean] [default: false]
  -v, --version                   Show version number  [boolean]
  -h, --help                      Show help  [boolean]
process.exit unexpectedly called with &quot;1&quot;
Usage: qwen [options] [command]

Qwen Code - Launch an interactive CLI, use -p/--prompt for non-interactive mode

Commands:
  qwen [query..]             Launch Qwen Code CLI  [default]
  qwen mcp                   Manage MCP servers
  qwen extensions &lt;command&gt;  Manage Qwen Code extensions.

Positionals:
  query  Positional prompt. Defaults to one-shot; use -i/--prompt-interactive for interactive.

Options:
      --telemetry                 Enable telemetry? This flag specifically controls if telemetry is sent. Other --telemetry-* flags set specific values but do not enable telemetry on their own.  [deprecated: Use the &quot;telemetry.enabled&quot; setting in settings.json instead. This flag will be removed in a future version.] [boolean]
      --telemetry-target          Set the telemetry target (local or gcp). Overrides settings files.  [deprecated: Use the &quot;telemetry.target&quot; setting in settings.json instead. This flag will be removed in a future version.] [string] [choices: &quot;local&quot;, &quot;gcp&quot;]
      --telemetry-otlp-endpoint   Set the OTLP endpoint for telemetry. Overrides environment variables and settings files.  [deprecated: Use the &quot;telemetry.otlpEndpoint&quot; setting in settings.json instead. This flag will be removed in a future version.] [string]
      --telemetry-otlp-protocol   Set the OTLP protocol for telemetry (grpc or http). Overrides settings files.  [deprecated: Use the &quot;telemetry.otlpProtocol&quot; setting in settings.json instead. This flag will be removed in a future version.] [string] [choices: &quot;grpc&quot;, &quot;http&quot;]
      --telemetry-log-prompts     Enable or disable logging of user prompts for telemetry. Overrides settings files.  [deprecated: Use the &quot;telemetry.logPrompts&quot; setting in settings.json instead. This flag will be removed in a future version.] [boolean]
      --telemetry-outfile         Redirect all telemetry output to the specified file.  [deprecated: Use the &quot;telemetry.outfile&quot; setting in settings.json instead. This flag will be removed in a future version.] [string]
  -d, --debug                     Run in debug mode?  [boolean] [default: false]
      --proxy                     Proxy for Qwen Code, like schema://user:password@host:port  [deprecated: Use the &quot;proxy&quot; setting in settings.json instead. This flag will be removed in a future version.] [string]
  -m, --model                     Model  [string]
  -p, --prompt                    Prompt. Appended to input on stdin (if any).  [deprecated: Use the positional prompt instead. This flag will be removed in a future version.] [string]
  -i, --prompt-interactive        Execute the provided prompt and continue in interactive mode  [string]
  -s, --sandbox                   Run in sandbox?  [boolean]
      --sandbox-image             Sandbox image URI.  [deprecated: Use the &quot;tools.sandbox&quot; setting in settings.json instead. This flag will be removed in a future version.] [string]
  -a, --all-files                 Include ALL files in context?  [deprecated: Use @ includes in the application instead. This flag will be removed in a future version.] [boolean] [default: false]
      --show-memory-usage         Show memory usage in status bar  [deprecated: Use the &quot;ui.showMemoryUsage&quot; setting in settings.json instead. This flag will be removed in a future version.] [boolean] [default: false]
  -y, --yolo                      Automatically accept all actions (aka YOLO mode, see https://www.youtube.com/watch?v=xvFZjo5PgG0 for more details)?  [boolean] [default: false]
      --approval-mode             Set the approval mode: plan (plan only), default (prompt for approval), auto-edit (auto-approve edit tools), yolo (auto-approve all tools)  [string] [choices: &quot;plan&quot;, &quot;default&quot;, &quot;auto-edit&quot;, &quot;yolo&quot;]
  -c, --checkpointing             Enables checkpointing of file edits  [deprecated: Use the &quot;general.checkpointing.enabled&quot; setting in settings.json instead. This flag will be removed in a future version.] [boolean] [default: false]
      --experimental-acp          Starts the agent in ACP mode  [boolean]
      --allowed-mcp-server-names  Allowed MCP server names  [array]
      --allowed-tools             Tools that are allowed to run without confirmation  [array]
  -e, --extensions                A list of extensions to use. If not provided, all extensions are used.  [array]
  -l, --list-extensions           List all available extensions and exit.  [boolean]
      --include-directories       Additional directories to include in the workspace (comma-separated or multiple --include-directories)  [array]
      --openai-logging            Enable logging of OpenAI API calls for debugging and analysis  [boolean]
      --openai-logging-dir        Custom directory path for OpenAI API logs. Overrides settings files.  [string]
      --openai-api-key            OpenAI API key to use for authentication  [string]
      --openai-base-url           OpenAI base URL (for custom endpoints)  [string]
      --tavily-api-key            Tavily API key for web search  [string]
      --google-api-key            Google Custom Search API key  [string]
      --google-search-engine-id   Google Custom Search Engine ID  [string]
      --web-search-default        Default web search provider (dashscope, tavily, google)  [string]
      --screen-reader             Enable screen reader mode for accessibility.  [boolean]
      --vlm-switch-mode           Default behavior when images are detected in input. Values: once (one-time switch), session (switch for entire session), persist (continue with current model). Overrides settings files.  [string] [choices: &quot;once&quot;, &quot;session&quot;, &quot;persist&quot;]
      --input-format              The format consumed from standard input.  [string] [choices: &quot;text&quot;, &quot;stream-json&quot;] [default: &quot;text&quot;]
  -o, --output-format             The format of the CLI output.  [string] [choices: &quot;text&quot;, &quot;json&quot;, &quot;stream-json&quot;]
      --include-partial-messages  Include partial assistant messages when using stream-json output.  [boolean] [default: false]
  -v, --version                   Show version number  [boolean]
  -h, --help                      Show help  [boolean]

            </system-err>
        </testcase>
        <testcase classname="src/config/config.integration.test.ts" name="Configuration Integration Tests &gt; Approval Mode Integration Tests &gt; should handle backward compatibility with mixed scenarios" time="0.004912375">
        </testcase>
    </testsuite>
    <testsuite name="src/config/config.test.ts" timestamp="2025-11-26T16:27:33.632Z" hostname="MacBook-Pro-6.local" tests="166" failures="0" errors="0" skipped="3" time="0.575753792">
        <testcase classname="src/config/config.test.ts" name="parseArguments &gt; should throw an error when both --prompt and --prompt-interactive are used together" time="0.020327083">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="parseArguments &gt; should throw an error when using short flags -p and -i together" time="0.008420625">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="parseArguments &gt; should allow --prompt without --prompt-interactive" time="0.002401">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="parseArguments &gt; should allow --prompt-interactive without --prompt" time="0.001770833">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="parseArguments &gt; should allow -i flag as alias for --prompt-interactive" time="0.004074917">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="parseArguments &gt; should convert positional query argument to prompt by default" time="0.002506708">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="parseArguments &gt; should map @path to prompt (one-shot) when it starts with @" time="0.0025785">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="parseArguments &gt; should map @path to prompt even when config flags are present" time="0.002171791">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="parseArguments &gt; maps unquoted positional @path + arg to prompt (one-shot)" time="0.001865208">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="parseArguments &gt; should handle multiple @path arguments in a single command (one-shot)" time="0.001797834">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="parseArguments &gt; should handle mixed quoted and unquoted @path arguments (one-shot)" time="0.002153916">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="parseArguments &gt; should map @path to prompt with ambient flags (debug, telemetry)" time="0.004495041">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="parseArguments &gt; should map any @command to prompt (one-shot)" time="0.011234625">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="parseArguments &gt; should handle @command with leading whitespace" time="0.001790708">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="parseArguments &gt; should throw an error when both --yolo and --approval-mode are used together" time="0.005173583">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="parseArguments &gt; should throw an error when using short flags -y and --approval-mode together" time="0.005107167">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="parseArguments &gt; should throw an error when include-partial-messages is used without stream-json output" time="0.009237167">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="parseArguments &gt; should parse stream-json formats and include-partial-messages flag" time="0.009245167">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="parseArguments &gt; should allow --approval-mode without --yolo" time="0.003921666">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="parseArguments &gt; should allow --yolo without --approval-mode" time="0.00585975">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="parseArguments &gt; should reject invalid --approval-mode values" time="0.004611916">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="parseArguments &gt; should support comma-separated values for --allowed-tools" time="0.005187583">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="parseArguments &gt; should support comma-separated values for --allowed-mcp-server-names" time="0.002199791">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="parseArguments &gt; should support comma-separated values for --extensions" time="0.001620334">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig &gt; should propagate stream-json formats to config" time="0.005583916">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig &gt; should set showMemoryUsage to true when --show-memory-usage flag is present" time="0.001838458">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig &gt; should set showMemoryUsage to false when --memory flag is not present" time="0.0015955">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig &gt; should set showMemoryUsage to false by default from settings if CLI flag is not present" time="0.001537083">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig &gt; should prioritize CLI flag over settings for showMemoryUsage (CLI true, settings false)" time="0.003022209">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig &gt; Proxy configuration &gt; should leave proxy to empty by default" time="0.001717667">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig &gt; Proxy configuration &gt; should set proxy to http://localhost:7890 according to environment variable [https_proxy]" time="0.002912667">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig &gt; Proxy configuration &gt; should set proxy to http://localhost:7890 according to environment variable [http_proxy]" time="0.001765542">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig &gt; Proxy configuration &gt; should set proxy to http://localhost:7890 according to environment variable [HTTPS_PROXY]" time="0.001950208">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig &gt; Proxy configuration &gt; should set proxy to http://localhost:7890 according to environment variable [HTTP_PROXY]" time="0.012270708">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig &gt; Proxy configuration &gt; should set proxy when --proxy flag is present" time="0.011898125">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig &gt; Proxy configuration &gt; should prioritize CLI flag over environment variable for proxy (CLI http://localhost:7890, environment variable http://localhost:7891)" time="0.003420958">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig telemetry &gt; should set telemetry to false by default when no flag or setting is present" time="0.001578333">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig telemetry &gt; should set telemetry to true when --telemetry flag is present" time="0.029114875">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig telemetry &gt; should set telemetry to false when --no-telemetry flag is present" time="0.014772167">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig telemetry &gt; should use telemetry value from settings if CLI flag is not present (settings true)" time="0.002353708">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig telemetry &gt; should use telemetry value from settings if CLI flag is not present (settings false)" time="0.003455917">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig telemetry &gt; should prioritize --telemetry CLI flag (true) over settings (false)" time="0.012357708">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig telemetry &gt; should prioritize --no-telemetry CLI flag (false) over settings (true)" time="0.001508709">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig telemetry &gt; should use telemetry OTLP endpoint from settings if CLI flag is not present" time="0.001369625">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig telemetry &gt; should prioritize --telemetry-otlp-endpoint CLI flag over settings" time="0.001465542">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig telemetry &gt; should use default endpoint if no OTLP endpoint is provided via CLI or settings" time="0.001408667">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig telemetry &gt; should use telemetry target from settings if CLI flag is not present" time="0.001489125">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig telemetry &gt; should prioritize --telemetry-target CLI flag over settings" time="0.001415541">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig telemetry &gt; should use default target if no target is provided via CLI or settings" time="0.001304208">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig telemetry &gt; should use telemetry log prompts from settings if CLI flag is not present" time="0.001294125">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig telemetry &gt; should prioritize --telemetry-log-prompts CLI flag (true) over settings (false)" time="0.0013485">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig telemetry &gt; should prioritize --no-telemetry-log-prompts CLI flag (false) over settings (true)" time="0.001388791">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig telemetry &gt; should use default log prompts (true) if no value is provided via CLI or settings" time="0.001488667">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig telemetry &gt; should use telemetry OTLP protocol from settings if CLI flag is not present" time="0.008684833">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig telemetry &gt; should prioritize --telemetry-otlp-protocol CLI flag over settings" time="0.001647083">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig telemetry &gt; should use default protocol if no OTLP protocol is provided via CLI or settings" time="0.001441125">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig telemetry &gt; should reject invalid --telemetry-otlp-protocol values" time="0.003094541">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="Hierarchical Memory Loading (config.ts) - Placeholder Suite &gt; should pass extension context file paths to loadServerHierarchicalMemory" time="0.002176375">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="Hierarchical Memory Loading (config.ts) - Placeholder Suite &gt; should correctly use mocked homedir for global path" time="0">
            <skipped/>
        </testcase>
        <testcase classname="src/config/config.test.ts" name="mergeMcpServers &gt; should not modify the original settings object" time="0.014897625">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="mergeExcludeTools &gt; should merge excludeTools from settings and extensions" time="0.008137458">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="mergeExcludeTools &gt; should handle overlapping excludeTools between settings and extensions" time="0.00162775">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="mergeExcludeTools &gt; should handle overlapping excludeTools between extensions" time="0.001425833">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="mergeExcludeTools &gt; should return an empty array when no excludeTools are specified and it is interactive" time="0.001281458">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="mergeExcludeTools &gt; should return default excludes when no excludeTools are specified and it is not interactive" time="0.001309166">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="mergeExcludeTools &gt; should handle settings with excludeTools but no extensions" time="0.012548083">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="mergeExcludeTools &gt; should handle extensions with excludeTools but no settings" time="0.002587209">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="mergeExcludeTools &gt; should not modify the original settings object" time="0.00559025">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="Approval mode tool exclusion logic &gt; should exclude all interactive tools in non-interactive mode with default approval mode" time="0.001839833">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="Approval mode tool exclusion logic &gt; should exclude all interactive tools in non-interactive mode with plan approval mode" time="0.001537209">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="Approval mode tool exclusion logic &gt; should exclude all interactive tools in non-interactive mode with explicit default approval mode" time="0.001417334">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="Approval mode tool exclusion logic &gt; should exclude only shell tools in non-interactive mode with auto-edit approval mode" time="0.001421792">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="Approval mode tool exclusion logic &gt; should exclude no interactive tools in non-interactive mode with yolo approval mode" time="0.001382625">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="Approval mode tool exclusion logic &gt; should exclude no interactive tools in non-interactive mode with legacy yolo flag" time="0.00137025">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="Approval mode tool exclusion logic &gt; should not exclude interactive tools in interactive mode regardless of approval mode" time="0.021896209">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="Approval mode tool exclusion logic &gt; should merge approval mode exclusions with settings exclusions in auto-edit mode" time="0.001685125">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="Approval mode tool exclusion logic &gt; should throw an error for invalid approval mode values in loadCliConfig" time="0.000258958">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig with allowed-mcp-server-names &gt; should allow all MCP servers if the flag is not provided" time="0.00172125">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig with allowed-mcp-server-names &gt; should allow only the specified MCP server" time="0.001633791">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig with allowed-mcp-server-names &gt; should allow multiple specified MCP servers" time="0.00189925">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig with allowed-mcp-server-names &gt; should handle server names that do not exist" time="0.001626709">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig with allowed-mcp-server-names &gt; should allow no MCP servers if the flag is provided but empty" time="0.001506709">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig with allowed-mcp-server-names &gt; should read allowMCPServers from settings" time="0.001458583">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig with allowed-mcp-server-names &gt; should read excludeMCPServers from settings" time="0.00147075">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig with allowed-mcp-server-names &gt; should override allowMCPServers with excludeMCPServers if overlapping" time="0.001358333">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig with allowed-mcp-server-names &gt; should prioritize mcp server flag if set" time="0.002150791">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig with allowed-mcp-server-names &gt; should prioritize CLI flag over both allowed and excluded settings" time="0.003664958">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig extensions &gt; should not filter extensions if --extensions flag is not used" time="0.0017885">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig extensions &gt; should filter extensions if --extensions flag is used" time="0.001327417">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig model selection &gt; selects a model from settings.json if provided" time="0">
            <skipped/>
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig model selection &gt; uses the default gemini model if nothing is set" time="0">
            <skipped/>
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig model selection &gt; always prefers model from argvs" time="0.001273792">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig model selection &gt; selects the model from argvs if provided" time="0.001217167">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig folderTrust &gt; should be false when folderTrust is false" time="0.001366375">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig folderTrust &gt; should be true when folderTrust is true" time="0.001253334">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig folderTrust &gt; should be false by default" time="0.001306417">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig with includeDirectories &gt; should combine and resolve paths from settings and CLI arguments" time="0.039736583">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig chatCompression &gt; should pass chatCompression settings to the core config" time="0.001848708">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig chatCompression &gt; should have undefined chatCompression if not in settings" time="0.004193542">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig useRipgrep &gt; should be true by default when useRipgrep is not set in settings" time="0.001588417">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig useRipgrep &gt; should be false when useRipgrep is set to false in settings" time="0.002243959">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig useRipgrep &gt; should be true when useRipgrep is explicitly set to true in settings" time="0.00282525">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig useBuiltinRipgrep &gt; should be true by default when useBuiltinRipgrep is not set in settings" time="0.0014565">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig useBuiltinRipgrep &gt; should be false when useBuiltinRipgrep is set to false in settings" time="0.001379041">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig useBuiltinRipgrep &gt; should be true when useBuiltinRipgrep is explicitly set to true in settings" time="0.001411833">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="screenReader configuration &gt; should use screenReader value from settings if CLI flag is not present (settings true)" time="0.001498334">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="screenReader configuration &gt; should use screenReader value from settings if CLI flag is not present (settings false)" time="0.001286583">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="screenReader configuration &gt; should prioritize --screen-reader CLI flag (true) over settings (false)" time="0.001404542">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="screenReader configuration &gt; should be false by default when no flag or setting is present" time="0.001307">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig tool exclusions &gt; should not exclude interactive tools in interactive mode without YOLO" time="0.001479209">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig tool exclusions &gt; should not exclude interactive tools in interactive mode with YOLO" time="0.0013685">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig tool exclusions &gt; should exclude interactive tools in non-interactive mode without YOLO" time="0.001331625">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig tool exclusions &gt; should not exclude interactive tools in non-interactive mode with YOLO" time="0.001352667">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig interactive &gt; should be interactive if isTTY and no prompt" time="0.00129275">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig interactive &gt; should be interactive if prompt-interactive is set" time="0.003620458">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig interactive &gt; should not be interactive if not isTTY and no prompt" time="0.001538959">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig interactive &gt; should not be interactive if prompt is set" time="0.003422375">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig interactive &gt; should not be interactive if positional prompt words are provided with other flags" time="0.003440875">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig interactive &gt; should not be interactive if positional prompt words are provided with multiple flags" time="0.002841792">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig interactive &gt; should be interactive if no positional prompt words are provided with flags" time="0.0017865">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig approval mode &gt; should default to DEFAULT approval mode when no flags are set" time="0.00199625">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig approval mode &gt; should set PLAN approval mode when --approval-mode=plan" time="0.001507541">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig approval mode &gt; should set YOLO approval mode when --yolo flag is used" time="0.001337583">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig approval mode &gt; should set YOLO approval mode when -y flag is used" time="0.001746375">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig approval mode &gt; should set DEFAULT approval mode when --approval-mode=default" time="0.001776917">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig approval mode &gt; should set AUTO_EDIT approval mode when --approval-mode=auto-edit" time="0.001845125">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig approval mode &gt; should set YOLO approval mode when --approval-mode=yolo" time="0.001692458">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig approval mode &gt; should use approval mode from settings when CLI flags are not provided" time="0.008152583">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig approval mode &gt; should normalize approval mode values from settings" time="0.0015055">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig approval mode &gt; should throw when approval mode in settings is invalid" time="0.001314459">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig approval mode &gt; should prioritize --approval-mode over --yolo when both would be valid (but validation prevents this)" time="0.001430167">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig approval mode &gt; should fall back to --yolo behavior when --approval-mode is not set" time="0.001411292">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig approval mode &gt; when folder is NOT trusted &gt; should override --approval-mode=yolo to DEFAULT" time="0.001960917">
            <system-err>
[WARN] Approval mode overridden to &quot;default&quot; because the current folder is not trusted.

            </system-err>
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig approval mode &gt; when folder is NOT trusted &gt; should override --approval-mode=auto-edit to DEFAULT" time="0.0014935">
            <system-err>
[WARN] Approval mode overridden to &quot;default&quot; because the current folder is not trusted.

            </system-err>
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig approval mode &gt; when folder is NOT trusted &gt; should override --yolo flag to DEFAULT" time="0.001374583">
            <system-err>
[WARN] Approval mode overridden to &quot;default&quot; because the current folder is not trusted.

            </system-err>
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig approval mode &gt; when folder is NOT trusted &gt; should remain DEFAULT when --approval-mode=default" time="0.001389125">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig approval mode &gt; when folder is NOT trusted &gt; should allow PLAN approval mode in untrusted folders" time="0.001433167">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig fileFiltering &gt; should pass &apos;disableFuzzySearch&apos; from settings to config when true" time="0.001505084">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig fileFiltering &gt; should pass &apos;disableFuzzySearch&apos; from settings to config when false" time="0.001267083">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig fileFiltering &gt; should pass &apos;respectGitIgnore&apos; from settings to config when true" time="0.001308083">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig fileFiltering &gt; should pass &apos;respectGitIgnore&apos; from settings to config when false" time="0.004477334">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig fileFiltering &gt; should pass &apos;respectQwenIgnore&apos; from settings to config when true" time="0.002058042">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig fileFiltering &gt; should pass &apos;respectQwenIgnore&apos; from settings to config when false" time="0.001339959">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig fileFiltering &gt; should pass &apos;enableRecursiveFileSearch&apos; from settings to config when true" time="0.00136975">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="loadCliConfig fileFiltering &gt; should pass &apos;enableRecursiveFileSearch&apos; from settings to config when false" time="0.00125">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="Output format &gt; should default to TEXT" time="0.001357">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="Output format &gt; should use the format from settings" time="0.00231575">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="Output format &gt; should prioritize the format from argv" time="0.001433041">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="Output format &gt; should error on invalid --output-format argument" time="0.002908833">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="parseArguments with positional prompt &gt; should throw an error when both a positional prompt and the --prompt flag are used" time="0.0072485">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="parseArguments with positional prompt &gt; should correctly parse a positional prompt to query field" time="0.001906417">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="parseArguments with positional prompt &gt; should correctly parse a prompt from the --prompt flag" time="0.001356291">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="Telemetry configuration via environment variables &gt; should prioritize GEMINI_TELEMETRY_ENABLED over settings" time="0.001455917">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="Telemetry configuration via environment variables &gt; should prioritize GEMINI_TELEMETRY_TARGET over settings" time="0.0013125">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="Telemetry configuration via environment variables &gt; should throw when GEMINI_TELEMETRY_TARGET is invalid" time="0.001971083">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="Telemetry configuration via environment variables &gt; should prioritize GEMINI_TELEMETRY_OTLP_ENDPOINT over settings and default env var" time="0.005573875">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="Telemetry configuration via environment variables &gt; should prioritize GEMINI_TELEMETRY_OTLP_PROTOCOL over settings" time="0.015455375">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="Telemetry configuration via environment variables &gt; should prioritize GEMINI_TELEMETRY_LOG_PROMPTS over settings" time="0.00145875">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="Telemetry configuration via environment variables &gt; should prioritize GEMINI_TELEMETRY_OUTFILE over settings" time="0.001359125">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="Telemetry configuration via environment variables &gt; should prioritize GEMINI_TELEMETRY_USE_COLLECTOR over settings" time="0.002527084">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="Telemetry configuration via environment variables &gt; should use settings value when GEMINI_TELEMETRY_ENABLED is not set" time="0.001788041">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="Telemetry configuration via environment variables &gt; should use settings value when GEMINI_TELEMETRY_TARGET is not set" time="0.001437292">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="Telemetry configuration via environment variables &gt; should treat GEMINI_TELEMETRY_ENABLED=&apos;1&apos; as true" time="0.003488584">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="Telemetry configuration via environment variables &gt; should treat GEMINI_TELEMETRY_ENABLED=&apos;0&apos; as false" time="0.001442583">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="Telemetry configuration via environment variables &gt; should treat GEMINI_TELEMETRY_LOG_PROMPTS=&apos;1&apos; as true" time="0.001429292">
        </testcase>
        <testcase classname="src/config/config.test.ts" name="Telemetry configuration via environment variables &gt; should treat GEMINI_TELEMETRY_LOG_PROMPTS=&apos;false&apos; as false" time="0.001293875">
        </testcase>
    </testsuite>
    <testsuite name="src/config/extension.test.ts" timestamp="2025-11-26T16:27:33.645Z" hostname="MacBook-Pro-6.local" tests="53" failures="0" errors="0" skipped="0" time="0.410631">
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; loadExtensions &gt; should include extension path in loaded extension" time="0.006684041">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; loadExtensions &gt; should load context file path when QWEN.md is present" time="0.003044583">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; loadExtensions &gt; should load context file path from the extension config" time="0.001685375">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; loadExtensions &gt; should filter out disabled extensions" time="0.003714959">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; loadExtensions &gt; should hydrate variables" time="0.001923875">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; loadExtensions &gt; should load a linked extension correctly" time="0.006121667">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; loadExtensions &gt; should resolve environment variables in extension configuration" time="0.001858042">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; loadExtensions &gt; should handle missing environment variables gracefully" time="0.001528167">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; loadExtensions &gt; should skip extensions with invalid JSON and log a warning" time="0.003424041">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; loadExtensions &gt; should skip extensions with missing name and log a warning" time="0.002341125">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; loadExtensions &gt; should filter trust out of mcp servers" time="0.001718542">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; loadExtensions &gt; should throw an error for invalid extension names" time="0.0017145">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; annotateActiveExtensions &gt; should mark all extensions as active if no enabled extensions are provided" time="0.000981208">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; annotateActiveExtensions &gt; should mark only the enabled extensions as active" time="0.000775542">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; annotateActiveExtensions &gt; should mark all extensions as inactive when &quot;none&quot; is provided" time="0.000612417">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; annotateActiveExtensions &gt; should handle case-insensitivity" time="0.001030375">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; annotateActiveExtensions &gt; should log an error for unknown extensions" time="0.00094325">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; annotateActiveExtensions &gt; autoUpdate &gt; should be false if autoUpdate is not set in install metadata" time="0.001640708">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; annotateActiveExtensions &gt; autoUpdate &gt; should be true if autoUpdate is true in install metadata" time="0.001203625">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; annotateActiveExtensions &gt; autoUpdate &gt; should respect the per-extension settings from install metadata" time="0.001096459">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; installExtension &gt; should install an extension from a local path" time="0.012735375">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; installExtension &gt; should throw an error if the extension already exists" time="0.006818542">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; installExtension &gt; should throw an error and cleanup if qwen-extension.json is missing" time="0.00149525">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; installExtension &gt; should throw an error for invalid JSON in qwen-extension.json" time="0.001697417">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; installExtension &gt; should throw an error for missing name in qwen-extension.json" time="0.001890459">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; installExtension &gt; should install an extension from a git URL" time="0.20175075">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; installExtension &gt; should install a linked extension" time="0.003968458">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; installExtension &gt; should log to clearcut on successful install" time="0.015350583">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; installExtension &gt; should show users information on their mcp server when installing" time="0.019150583">
            <system-out>
Installing extension &quot;my-local-extension&quot;.
**Extensions may introduce unexpected behavior. Ensure you have investigated the extension source and trust the author.**
This extension will run the following MCP servers:
  * test-server (local): node server.js
  * test-server-2 (remote): https://google.com

            </system-out>
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; installExtension &gt; should continue installation if user accepts prompt for local extension with mcp servers" time="0.00863675">
            <system-out>
Installing extension &quot;my-local-extension&quot;.
**Extensions may introduce unexpected behavior. Ensure you have investigated the extension source and trust the author.**
This extension will run the following MCP servers:
  * test-server (local): node server.js

            </system-out>
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; installExtension &gt; should cancel installation if user declines prompt for local extension with mcp servers" time="0.002754041">
            <system-out>
Installing extension &quot;my-local-extension&quot;.
**Extensions may introduce unexpected behavior. Ensure you have investigated the extension source and trust the author.**
This extension will run the following MCP servers:
  * test-server (local): node server.js

            </system-out>
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; installExtension &gt; should save the autoUpdate flag to the install metadata" time="0.010025416">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; installExtension &gt; should ignore consent flow if not required" time="0.008053333">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; installExtension &gt; should throw an error for invalid extension names" time="0.00292675">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; uninstallExtension &gt; should uninstall an extension by name" time="0.004492208">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; uninstallExtension &gt; should uninstall an extension by name and retain existing extensions" time="0.003077167">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; uninstallExtension &gt; should throw an error if the extension does not exist" time="0.001373333">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; uninstallExtension &gt; should log uninstall event" time="0.005166583">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; uninstallExtension &gt; should uninstall an extension by its source URL" time="0.004008291">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; uninstallExtension &gt; should fail to uninstall by URL if an extension has no install metadata" time="0.001910792">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; performWorkspaceExtensionMigration &gt; folder trust &gt; refuses to install extensions from untrusted folders" time="0.002282208">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; performWorkspaceExtensionMigration &gt; folder trust &gt; does not copy extensions to the user dir" time="0.001965125">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; performWorkspaceExtensionMigration &gt; folder trust &gt; does not load any extensions in the workspace config" time="0.003792458">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; performWorkspaceExtensionMigration &gt; should install the extensions in the user directory" time="0.014680583">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; performWorkspaceExtensionMigration &gt; should return the names of failed installations" time="0.005776292">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; disableExtension &gt; should disable an extension at the user scope" time="0.0024675">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; disableExtension &gt; should disable an extension at the workspace scope" time="0.001775333">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; disableExtension &gt; should handle disabling the same extension twice" time="0.002493958">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; disableExtension &gt; should throw an error if you request system scope" time="0.001437042">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; disableExtension &gt; should log a disable event" time="0.001923834">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; enableExtension &gt; should enable an extension at the user scope" time="0.002864">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; enableExtension &gt; should enable an extension at the workspace scope" time="0.0030825">
        </testcase>
        <testcase classname="src/config/extension.test.ts" name="extension tests &gt; enableExtension &gt; should log an enable event" time="0.002611542">
        </testcase>
    </testsuite>
    <testsuite name="src/config/keyBindings.test.ts" timestamp="2025-11-26T16:27:33.649Z" hostname="MacBook-Pro-6.local" tests="3" failures="0" errors="0" skipped="0" time="0.003653458">
        <testcase classname="src/config/keyBindings.test.ts" name="keyBindings config &gt; defaultKeyBindings &gt; should have bindings for all commands" time="0.001668875">
        </testcase>
        <testcase classname="src/config/keyBindings.test.ts" name="keyBindings config &gt; defaultKeyBindings &gt; should have valid key binding structures" time="0.00112175">
        </testcase>
        <testcase classname="src/config/keyBindings.test.ts" name="keyBindings config &gt; defaultKeyBindings &gt; should export all required types" time="0.000086167">
        </testcase>
    </testsuite>
    <testsuite name="src/config/settings.test.ts" timestamp="2025-11-26T16:27:33.649Z" hostname="MacBook-Pro-6.local" tests="90" failures="0" errors="0" skipped="0" time="0.039332458">
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should load empty settings if no files exist" time="0.003762875">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should load system settings if only system file exists" time="0.002418209">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should load user settings if only user file exists" time="0.000518292">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should load workspace settings if only workspace file exists" time="0.000328459">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should merge system, user and workspace settings, with system taking precedence over workspace, and workspace over user" time="0.000575166">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should correctly migrate a complex legacy (v1) settings file" time="0.000538">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should rewrite allowedTools to tools.allowed during migration" time="0.00036225">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should add version field to migrated settings file" time="0.000364125">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should not re-migrate settings that have version field" time="0.000253542">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should add version field to V2 settings without version and write to disk" time="0.000391708">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should correctly handle partially migrated settings without version field" time="0.000326208">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should correctly merge and migrate legacy array properties from multiple scopes" time="0.001069834">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should merge all settings files with the correct precedence" time="0.000730875">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should use folderTrust from workspace settings when trusted" time="0.00027725">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should use system folderTrust over user setting" time="0.000249333">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should handle contextFileName correctly when only in user settings" time="0.000259125">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should handle contextFileName correctly when only in workspace settings" time="0.000205458">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should handle excludedProjectEnvVars correctly when only in user settings" time="0.00023275">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should handle excludedProjectEnvVars correctly when only in workspace settings" time="0.000178458">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should merge excludedProjectEnvVars with workspace taking precedence over user" time="0.000253375">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should default contextFileName to undefined if not in any settings file" time="0.001051833">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should load telemetry setting from user settings" time="0.00046325">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should load telemetry setting from workspace settings" time="0.000192458">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should prioritize workspace telemetry setting over user setting" time="0.000200917">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should have telemetry as undefined if not in any settings file" time="0.000143292">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should merge MCP servers correctly, with workspace taking precedence" time="0.000545084">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should handle MCP servers when only in user settings" time="0.000225208">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should handle MCP servers when only in workspace settings" time="0.000183625">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should have mcpServers as undefined if not in any settings file" time="0.000114834">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should merge MCP servers from system, user, and workspace with system taking precedence" time="0.000276709">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should merge mcp allowed/excluded lists with system taking precedence over workspace" time="0.000252709">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should merge chatCompression settings, with workspace taking precedence" time="0.001721458">
            <system-out>
{ contextPercentageThreshold: [33m0.5[39m }

            </system-out>
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should merge output format settings, with workspace taking precedence" time="0.000255334">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should handle chatCompression when only in user settings" time="0.000194875">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should have model as undefined if not in any settings file" time="0.000119417">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should ignore chatCompression if contextPercentageThreshold is invalid" time="0.000311333">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should deep merge chatCompression settings" time="0.0002325">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should merge includeDirectories from all scopes" time="0.000255042">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should handle JSON parsing errors gracefully" time="0.001047958">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should resolve environment variables in user settings" time="0.00314">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should resolve environment variables in workspace settings" time="0.000344959">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should correctly resolve and merge env variables from different scopes" time="0.000416708">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should correctly merge dnsResolutionOrder with workspace taking precedence" time="0.000232291">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should use user dnsResolutionOrder if workspace is not defined" time="0.000345417">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should leave unresolved environment variables as is" time="0.000415375">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should resolve multiple environment variables in a single string" time="0.000214041">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should resolve environment variables in arrays" time="0.000225625">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should correctly pass through null, boolean, and number types, and handle undefined properties" time="0.000360333">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; should resolve multiple concatenated environment variables in a single string value" time="0.000178208">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadSettings &gt; when QWEN_CODE_SYSTEM_SETTINGS_PATH is set &gt; should load system settings from the path specified in the environment variable" time="0.000309">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; excludedProjectEnvVars integration &gt; should exclude DEBUG and DEBUG_MODE from project .env files by default" time="0.000362416">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; excludedProjectEnvVars integration &gt; should respect custom excludedProjectEnvVars from user settings" time="0.000234166">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; excludedProjectEnvVars integration &gt; should merge excludedProjectEnvVars with workspace taking precedence" time="0.000282333">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; with workspace trust &gt; should merge workspace settings when workspace is trusted" time="0.000234958">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; with workspace trust &gt; should NOT merge workspace settings when workspace is not trusted" time="0.00025">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; migrateSettingsToV1 &gt; should handle an empty object" time="0.000292583">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; migrateSettingsToV1 &gt; should migrate a simple v2 settings object to v1" time="0.0001745">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; migrateSettingsToV1 &gt; should handle nested properties correctly" time="0.000145375">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; migrateSettingsToV1 &gt; should preserve mcpServers at the top level" time="0.00014225">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; migrateSettingsToV1 &gt; should carry over unrecognized top-level properties" time="0.000139417">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; migrateSettingsToV1 &gt; should handle a complex object with mixed properties" time="0.000180917">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; migrateSettingsToV1 &gt; should not migrate a v1 settings object" time="0.000122">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; migrateSettingsToV1 &gt; should migrate a full v2 settings object to v1" time="0.000259208">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; migrateSettingsToV1 &gt; should handle partial v2 settings" time="0.0001325">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; migrateSettingsToV1 &gt; should handle settings with different data types" time="0.000138959">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; migrateSettingsToV1 &gt; should preserve unrecognized top-level keys" time="0.000138333">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; migrateSettingsToV1 &gt; should handle an empty v2 settings object" time="0.000106708">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; migrateSettingsToV1 &gt; should correctly handle mcpServers at the top level" time="0.000234458">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; migrateSettingsToV1 &gt; should correctly migrate customWittyPhrases" time="0.000133958">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; migrateSettingsToV1 &gt; should remove version field when migrating to V1" time="0.000144958">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; migrateSettingsToV1 &gt; should handle version field in unrecognized properties" time="0.000161375">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadEnvironment &gt; sets environment variables from .env files" time="0.000554667">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; loadEnvironment &gt; does not load env files from untrusted spaces" time="0.000185709">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; needsMigration &gt; should return false for an empty object" time="0.000081041">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; needsMigration &gt; should return false for settings that are already in V2 format" time="0.000141375">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; needsMigration &gt; should return true for settings with a V1 key that needs to be moved" time="0.000071917">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; needsMigration &gt; should return true for settings with a mix of V1 and V2 keys" time="0.000414">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; needsMigration &gt; should return false for settings with only V1 keys that are the same in V2" time="0.000121334">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; needsMigration &gt; should return true for settings with a mix of V1 keys that are the same in V2 and V1 keys that need moving" time="0.000089">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; needsMigration &gt; should return false for settings with unrecognized keys" time="0.000076667">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; needsMigration &gt; should return false for settings with v2 keys and unrecognized keys" time="0.000077167">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; needsMigration &gt; with version field &gt; should return false when version field indicates current or newer version" time="0.000092208">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; needsMigration &gt; with version field &gt; should return false when version field indicates a newer version" time="0.000067375">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; needsMigration &gt; with version field &gt; should return true when version field indicates an older version" time="0.000066208">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; needsMigration &gt; with version field &gt; should use fallback logic when version field is not a number" time="0.000068667">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; needsMigration &gt; with version field &gt; should use fallback logic when version field is missing" time="0.000062959">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; needsMigration &gt; edge case: partially migrated settings &gt; should return true for partially migrated settings without version field" time="0.000070125">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; needsMigration &gt; edge case: partially migrated settings &gt; should return false for partially migrated settings WITH version field" time="0.000064875">
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; migrateDeprecatedSettings &gt; should migrate disabled extensions from user and workspace settings" time="0.002753625">
            <system-out>
Migrating deprecated extensions.disabled settings from User settings...
Migrating deprecated extensions.disabled settings from Workspace settings...

            </system-out>
        </testcase>
        <testcase classname="src/config/settings.test.ts" name="Settings Loading and Merging &gt; migrateDeprecatedSettings &gt; should not do anything if there are no deprecated settings" time="0.000338125">
        </testcase>
    </testsuite>
    <testsuite name="src/config/settingsSchema.test.ts" timestamp="2025-11-26T16:27:33.662Z" hostname="MacBook-Pro-6.local" tests="14" failures="0" errors="0" skipped="0" time="0.010591958">
        <testcase classname="src/config/settingsSchema.test.ts" name="SettingsSchema &gt; getSettingsSchema &gt; should contain all expected top-level settings" time="0.001684667">
        </testcase>
        <testcase classname="src/config/settingsSchema.test.ts" name="SettingsSchema &gt; getSettingsSchema &gt; should have correct structure for each setting" time="0.004626334">
        </testcase>
        <testcase classname="src/config/settingsSchema.test.ts" name="SettingsSchema &gt; getSettingsSchema &gt; should have correct nested setting structure" time="0.000367208">
        </testcase>
        <testcase classname="src/config/settingsSchema.test.ts" name="SettingsSchema &gt; getSettingsSchema &gt; should have accessibility nested properties" time="0.000068917">
        </testcase>
        <testcase classname="src/config/settingsSchema.test.ts" name="SettingsSchema &gt; getSettingsSchema &gt; should have checkpointing nested properties" time="0.000066083">
        </testcase>
        <testcase classname="src/config/settingsSchema.test.ts" name="SettingsSchema &gt; getSettingsSchema &gt; should have fileFiltering nested properties" time="0.000071542">
        </testcase>
        <testcase classname="src/config/settingsSchema.test.ts" name="SettingsSchema &gt; getSettingsSchema &gt; should have unique categories" time="0.000714292">
        </testcase>
        <testcase classname="src/config/settingsSchema.test.ts" name="SettingsSchema &gt; getSettingsSchema &gt; should have consistent default values for boolean settings" time="0.000927583">
        </testcase>
        <testcase classname="src/config/settingsSchema.test.ts" name="SettingsSchema &gt; getSettingsSchema &gt; should have showInDialog property configured" time="0.000267959">
        </testcase>
        <testcase classname="src/config/settingsSchema.test.ts" name="SettingsSchema &gt; getSettingsSchema &gt; should infer Settings type correctly" time="0.000457958">
        </testcase>
        <testcase classname="src/config/settingsSchema.test.ts" name="SettingsSchema &gt; getSettingsSchema &gt; should have includeDirectories setting in schema" time="0.000097375">
        </testcase>
        <testcase classname="src/config/settingsSchema.test.ts" name="SettingsSchema &gt; getSettingsSchema &gt; should have loadMemoryFromIncludeDirectories setting in schema" time="0.000177583">
        </testcase>
        <testcase classname="src/config/settingsSchema.test.ts" name="SettingsSchema &gt; getSettingsSchema &gt; should have folderTrustFeature setting in schema" time="0.000088584">
        </testcase>
        <testcase classname="src/config/settingsSchema.test.ts" name="SettingsSchema &gt; getSettingsSchema &gt; should have debugKeystrokeLogging setting in schema" time="0.000104666">
        </testcase>
    </testsuite>
    <testsuite name="src/config/trustedFolders.test.ts" timestamp="2025-11-26T16:27:33.665Z" hostname="MacBook-Pro-6.local" tests="21" failures="0" errors="0" skipped="0" time="0.008143958">
        <testcase classname="src/config/trustedFolders.test.ts" name="Trusted Folders Loading &gt; should load empty rules if no files exist" time="0.002007708">
        </testcase>
        <testcase classname="src/config/trustedFolders.test.ts" name="Trusted Folders Loading &gt; isPathTrusted &gt; provides a method to determine if a path is trusted" time="0.000645416">
        </testcase>
        <testcase classname="src/config/trustedFolders.test.ts" name="Trusted Folders Loading &gt; should load user rules if only user file exists" time="0.00020925">
        </testcase>
        <testcase classname="src/config/trustedFolders.test.ts" name="Trusted Folders Loading &gt; should handle JSON parsing errors gracefully" time="0.00024825">
        </testcase>
        <testcase classname="src/config/trustedFolders.test.ts" name="Trusted Folders Loading &gt; should use GEMINI_CLI_TRUSTED_FOLDERS_PATH env var if set" time="0.000151542">
        </testcase>
        <testcase classname="src/config/trustedFolders.test.ts" name="Trusted Folders Loading &gt; setValue should update the user config and save it" time="0.00067575">
        </testcase>
        <testcase classname="src/config/trustedFolders.test.ts" name="isWorkspaceTrusted &gt; should throw a fatal error if the config is malformed" time="0.001035084">
        </testcase>
        <testcase classname="src/config/trustedFolders.test.ts" name="isWorkspaceTrusted &gt; should throw a fatal error if the config is not a JSON object" time="0.000243917">
        </testcase>
        <testcase classname="src/config/trustedFolders.test.ts" name="isWorkspaceTrusted &gt; should return true for a directly trusted folder" time="0.00020775">
        </testcase>
        <testcase classname="src/config/trustedFolders.test.ts" name="isWorkspaceTrusted &gt; should return true for a child of a trusted folder" time="0.000224625">
        </testcase>
        <testcase classname="src/config/trustedFolders.test.ts" name="isWorkspaceTrusted &gt; should return true for a child of a trusted parent folder" time="0.000144042">
        </testcase>
        <testcase classname="src/config/trustedFolders.test.ts" name="isWorkspaceTrusted &gt; should return false for a directly untrusted folder" time="0.00013925">
        </testcase>
        <testcase classname="src/config/trustedFolders.test.ts" name="isWorkspaceTrusted &gt; should return undefined for a child of an untrusted folder" time="0.000142041">
        </testcase>
        <testcase classname="src/config/trustedFolders.test.ts" name="isWorkspaceTrusted &gt; should return undefined when no rules match" time="0.000133041">
        </testcase>
        <testcase classname="src/config/trustedFolders.test.ts" name="isWorkspaceTrusted &gt; should prioritize trust over distrust" time="0.000147041">
        </testcase>
        <testcase classname="src/config/trustedFolders.test.ts" name="isWorkspaceTrusted &gt; should handle path normalization" time="0.000148167">
        </testcase>
        <testcase classname="src/config/trustedFolders.test.ts" name="isWorkspaceTrusted with IDE override &gt; should return true when ideTrust is true, ignoring config" time="0.000213125">
        </testcase>
        <testcase classname="src/config/trustedFolders.test.ts" name="isWorkspaceTrusted with IDE override &gt; should return false when ideTrust is false, ignoring config" time="0.00009725">
        </testcase>
        <testcase classname="src/config/trustedFolders.test.ts" name="isWorkspaceTrusted with IDE override &gt; should fall back to config when ideTrust is undefined" time="0.000135958">
        </testcase>
        <testcase classname="src/config/trustedFolders.test.ts" name="isWorkspaceTrusted with IDE override &gt; should always return true if folderTrust setting is disabled" time="0.000077208">
        </testcase>
        <testcase classname="src/config/trustedFolders.test.ts" name="Trusted Folders Caching &gt; should cache the loaded folders object" time="0.000193667">
        </testcase>
    </testsuite>
    <testsuite name="src/nonInteractive/session.test.ts" timestamp="2025-11-26T16:27:33.671Z" hostname="MacBook-Pro-6.local" tests="21" failures="0" errors="0" skipped="0" time="0.070741167">
        <testcase classname="src/nonInteractive/session.test.ts" name="runNonInteractiveStreamJson &gt; initializes session and processes initialize control request" time="0.002802917">
        </testcase>
        <testcase classname="src/nonInteractive/session.test.ts" name="runNonInteractiveStreamJson &gt; processes user message when received as first message" time="0.003196417">
        </testcase>
        <testcase classname="src/nonInteractive/session.test.ts" name="runNonInteractiveStreamJson &gt; processes multiple user messages sequentially" time="0.000483125">
        </testcase>
        <testcase classname="src/nonInteractive/session.test.ts" name="runNonInteractiveStreamJson &gt; enqueues user messages received during processing" time="0.027258125">
        </testcase>
        <testcase classname="src/nonInteractive/session.test.ts" name="runNonInteractiveStreamJson &gt; processes control request in idle state" time="0.000759334">
        </testcase>
        <testcase classname="src/nonInteractive/session.test.ts" name="runNonInteractiveStreamJson &gt; handles control response in idle state" time="0.000631292">
        </testcase>
        <testcase classname="src/nonInteractive/session.test.ts" name="runNonInteractiveStreamJson &gt; handles control cancel in idle state" time="0.00195425">
        </testcase>
        <testcase classname="src/nonInteractive/session.test.ts" name="runNonInteractiveStreamJson &gt; handles control request during processing state" time="0.012150459">
        </testcase>
        <testcase classname="src/nonInteractive/session.test.ts" name="runNonInteractiveStreamJson &gt; handles control response during processing state" time="0.012680542">
        </testcase>
        <testcase classname="src/nonInteractive/session.test.ts" name="runNonInteractiveStreamJson &gt; handles user message with text content" time="0.00154675">
        </testcase>
        <testcase classname="src/nonInteractive/session.test.ts" name="runNonInteractiveStreamJson &gt; handles user message with array content blocks" time="0.000635583">
        </testcase>
        <testcase classname="src/nonInteractive/session.test.ts" name="runNonInteractiveStreamJson &gt; skips user message with no text content" time="0.000380083">
        </testcase>
        <testcase classname="src/nonInteractive/session.test.ts" name="runNonInteractiveStreamJson &gt; handles error from processUserMessage" time="0.00047675">
        </testcase>
        <testcase classname="src/nonInteractive/session.test.ts" name="runNonInteractiveStreamJson &gt; handles stream error gracefully" time="0.001147542">
        </testcase>
        <testcase classname="src/nonInteractive/session.test.ts" name="runNonInteractiveStreamJson &gt; stops processing when abort signal is triggered" time="0.000558292">
        </testcase>
        <testcase classname="src/nonInteractive/session.test.ts" name="runNonInteractiveStreamJson &gt; generates unique prompt IDs for each message" time="0.00108275">
        </testcase>
        <testcase classname="src/nonInteractive/session.test.ts" name="runNonInteractiveStreamJson &gt; ignores non-initialize control request during initialization" time="0.00045525">
        </testcase>
        <testcase classname="src/nonInteractive/session.test.ts" name="runNonInteractiveStreamJson &gt; cleans up console patcher on completion" time="0.000378541">
        </testcase>
        <testcase classname="src/nonInteractive/session.test.ts" name="runNonInteractiveStreamJson &gt; cleans up output adapter on completion" time="0.000238">
        </testcase>
        <testcase classname="src/nonInteractive/session.test.ts" name="runNonInteractiveStreamJson &gt; calls dispatcher shutdown on completion" time="0.000270084">
        </testcase>
        <testcase classname="src/nonInteractive/session.test.ts" name="runNonInteractiveStreamJson &gt; handles empty stream gracefully" time="0.00027775">
        </testcase>
    </testsuite>
    <testsuite name="src/test-utils/mockCommandContext.test.ts" timestamp="2025-11-26T16:27:33.672Z" hostname="MacBook-Pro-6.local" tests="3" failures="0" errors="0" skipped="0" time="0.003239209">
        <testcase classname="src/test-utils/mockCommandContext.test.ts" name="createMockCommandContext &gt; should return a valid CommandContext object with default mocks" time="0.001744334">
        </testcase>
        <testcase classname="src/test-utils/mockCommandContext.test.ts" name="createMockCommandContext &gt; should apply top-level overrides correctly" time="0.000466542">
        </testcase>
        <testcase classname="src/test-utils/mockCommandContext.test.ts" name="createMockCommandContext &gt; should apply deeply nested overrides correctly" time="0.000242458">
        </testcase>
    </testsuite>
    <testsuite name="src/services/BuiltinCommandLoader.test.ts" timestamp="2025-11-26T16:27:33.672Z" hostname="MacBook-Pro-6.local" tests="7" failures="0" errors="0" skipped="0" time="0.004235791">
        <testcase classname="src/services/BuiltinCommandLoader.test.ts" name="BuiltinCommandLoader &gt; should correctly pass the config object to restore command factory" time="0.002417916">
        </testcase>
        <testcase classname="src/services/BuiltinCommandLoader.test.ts" name="BuiltinCommandLoader &gt; should filter out null command definitions returned by factories" time="0.0002435">
        </testcase>
        <testcase classname="src/services/BuiltinCommandLoader.test.ts" name="BuiltinCommandLoader &gt; should handle a null config gracefully when calling factories" time="0.000153833">
        </testcase>
        <testcase classname="src/services/BuiltinCommandLoader.test.ts" name="BuiltinCommandLoader &gt; should return a list of all loaded commands" time="0.000280333">
        </testcase>
        <testcase classname="src/services/BuiltinCommandLoader.test.ts" name="BuiltinCommandLoader &gt; should include permissions command when folder trust is enabled" time="0.000106458">
        </testcase>
        <testcase classname="src/services/BuiltinCommandLoader.test.ts" name="BuiltinCommandLoader &gt; should exclude permissions command when folder trust is disabled" time="0.000113667">
        </testcase>
        <testcase classname="src/services/BuiltinCommandLoader.test.ts" name="BuiltinCommandLoader &gt; should always include modelCommand" time="0.000109208">
        </testcase>
    </testsuite>
    <testsuite name="src/services/CommandService.test.ts" timestamp="2025-11-26T16:27:33.673Z" hostname="MacBook-Pro-6.local" tests="11" failures="0" errors="0" skipped="0" time="0.009731875">
        <testcase classname="src/services/CommandService.test.ts" name="CommandService &gt; should load commands from a single loader" time="0.002360375">
        </testcase>
        <testcase classname="src/services/CommandService.test.ts" name="CommandService &gt; should aggregate commands from multiple loaders" time="0.000424208">
        </testcase>
        <testcase classname="src/services/CommandService.test.ts" name="CommandService &gt; should override commands from earlier loaders with those from later loaders" time="0.000530125">
        </testcase>
        <testcase classname="src/services/CommandService.test.ts" name="CommandService &gt; should handle loaders that return an empty array of commands gracefully" time="0.000278">
        </testcase>
        <testcase classname="src/services/CommandService.test.ts" name="CommandService &gt; should load commands from successful loaders even if one fails" time="0.002220834">
        </testcase>
        <testcase classname="src/services/CommandService.test.ts" name="CommandService &gt; getCommands should return a readonly array that cannot be mutated" time="0.000598125">
        </testcase>
        <testcase classname="src/services/CommandService.test.ts" name="CommandService &gt; should pass the abort signal to all loaders" time="0.000999375">
        </testcase>
        <testcase classname="src/services/CommandService.test.ts" name="CommandService &gt; should rename extension commands when they conflict" time="0.000463334">
        </testcase>
        <testcase classname="src/services/CommandService.test.ts" name="CommandService &gt; should handle user/project command override correctly" time="0.000334125">
        </testcase>
        <testcase classname="src/services/CommandService.test.ts" name="CommandService &gt; should handle secondary conflicts when renaming extension commands" time="0.00037125">
        </testcase>
        <testcase classname="src/services/CommandService.test.ts" name="CommandService &gt; should handle multiple secondary conflicts with incrementing suffixes" time="0.000253541">
        </testcase>
    </testsuite>
    <testsuite name="src/services/FileCommandLoader.test.ts" timestamp="2025-11-26T16:27:33.673Z" hostname="MacBook-Pro-6.local" tests="39" failures="0" errors="0" skipped="0" time="0.14756475">
        <testcase classname="src/services/FileCommandLoader.test.ts" name="FileCommandLoader &gt; loads a single command from a file" time="0.012287875">
        </testcase>
        <testcase classname="src/services/FileCommandLoader.test.ts" name="FileCommandLoader &gt; loads commands from a symlinked directory" time="0.001867917">
        </testcase>
        <testcase classname="src/services/FileCommandLoader.test.ts" name="FileCommandLoader &gt; loads commands from a symlinked subdirectory" time="0.003305542">
        </testcase>
        <testcase classname="src/services/FileCommandLoader.test.ts" name="FileCommandLoader &gt; loads multiple commands" time="0.005520959">
        </testcase>
        <testcase classname="src/services/FileCommandLoader.test.ts" name="FileCommandLoader &gt; creates deeply nested namespaces correctly" time="0.009188917">
        </testcase>
        <testcase classname="src/services/FileCommandLoader.test.ts" name="FileCommandLoader &gt; creates namespaces from nested directories" time="0.007856583">
        </testcase>
        <testcase classname="src/services/FileCommandLoader.test.ts" name="FileCommandLoader &gt; returns both user and project commands in order" time="0.009139334">
        </testcase>
        <testcase classname="src/services/FileCommandLoader.test.ts" name="FileCommandLoader &gt; ignores files with TOML syntax errors" time="0.002816959">
            <system-err>
[FileCommandLoader] Failed to parse TOML file /Users/user/.qwen/commands/invalid.toml: Invalid character, expected &quot;=&quot; at row 1, col 7, pos 6:
1&gt; this is not valid toml
         ^



            </system-err>
        </testcase>
        <testcase classname="src/services/FileCommandLoader.test.ts" name="FileCommandLoader &gt; ignores files that are semantically invalid (missing prompt)" time="0.007441666">
            <system-err>
[FileCommandLoader] Skipping invalid command file: /Users/user/.qwen/commands/no_prompt.toml. Validation errors: {
  formErrors: [],
  fieldErrors: { prompt: [ [32m&quot;The &apos;prompt&apos; field is required.&quot;[39m ] }
}

            </system-err>
        </testcase>
        <testcase classname="src/services/FileCommandLoader.test.ts" name="FileCommandLoader &gt; handles filename edge cases correctly" time="0.0017225">
        </testcase>
        <testcase classname="src/services/FileCommandLoader.test.ts" name="FileCommandLoader &gt; handles file system errors gracefully" time="0.000522833">
        </testcase>
        <testcase classname="src/services/FileCommandLoader.test.ts" name="FileCommandLoader &gt; uses a default description if not provided" time="0.000802917">
        </testcase>
        <testcase classname="src/services/FileCommandLoader.test.ts" name="FileCommandLoader &gt; uses the provided description" time="0.002340916">
        </testcase>
        <testcase classname="src/services/FileCommandLoader.test.ts" name="FileCommandLoader &gt; should sanitize colons in filenames to prevent namespace conflicts" time="0.001158375">
        </testcase>
        <testcase classname="src/services/FileCommandLoader.test.ts" name="FileCommandLoader &gt; Processor Instantiation Logic &gt; instantiates only DefaultArgumentProcessor if no {{args}} or !{} are present" time="0.001126083">
        </testcase>
        <testcase classname="src/services/FileCommandLoader.test.ts" name="FileCommandLoader &gt; Processor Instantiation Logic &gt; instantiates only ShellProcessor if {{args}} is present (but not !{})" time="0.001206875">
        </testcase>
        <testcase classname="src/services/FileCommandLoader.test.ts" name="FileCommandLoader &gt; Processor Instantiation Logic &gt; instantiates ShellProcessor and DefaultArgumentProcessor if !{} is present (but not {{args}})" time="0.002126292">
        </testcase>
        <testcase classname="src/services/FileCommandLoader.test.ts" name="FileCommandLoader &gt; Processor Instantiation Logic &gt; instantiates only ShellProcessor if both {{args}} and !{} are present" time="0.005695333">
        </testcase>
        <testcase classname="src/services/FileCommandLoader.test.ts" name="FileCommandLoader &gt; Processor Instantiation Logic &gt; instantiates AtFileProcessor and DefaultArgumentProcessor if @{} is present" time="0.001379458">
        </testcase>
        <testcase classname="src/services/FileCommandLoader.test.ts" name="FileCommandLoader &gt; Processor Instantiation Logic &gt; instantiates ShellProcessor and AtFileProcessor if !{} and @{} are present" time="0.000971083">
        </testcase>
        <testcase classname="src/services/FileCommandLoader.test.ts" name="FileCommandLoader &gt; Processor Instantiation Logic &gt; instantiates only ShellProcessor and AtFileProcessor if {{args}} and @{} are present" time="0.000896625">
        </testcase>
        <testcase classname="src/services/FileCommandLoader.test.ts" name="FileCommandLoader &gt; Extension Command Loading &gt; loads commands from active extensions" time="0.002317625">
        </testcase>
        <testcase classname="src/services/FileCommandLoader.test.ts" name="FileCommandLoader &gt; Extension Command Loading &gt; extension commands have extensionName metadata for conflict resolution" time="0.007115792">
        </testcase>
        <testcase classname="src/services/FileCommandLoader.test.ts" name="FileCommandLoader &gt; Extension Command Loading &gt; only loads commands from active extensions" time="0.002647708">
        </testcase>
        <testcase classname="src/services/FileCommandLoader.test.ts" name="FileCommandLoader &gt; Extension Command Loading &gt; handles missing extension commands directory gracefully" time="0.0023715">
        </testcase>
        <testcase classname="src/services/FileCommandLoader.test.ts" name="FileCommandLoader &gt; Extension Command Loading &gt; handles nested command structure in extensions" time="0.005237541">
        </testcase>
        <testcase classname="src/services/FileCommandLoader.test.ts" name="FileCommandLoader &gt; Argument Handling Integration (via ShellProcessor) &gt; correctly processes a command with {{args}}" time="0.004207">
        </testcase>
        <testcase classname="src/services/FileCommandLoader.test.ts" name="FileCommandLoader &gt; Default Argument Processor Integration &gt; correctly processes a command without {{args}}" time="0.00250025">
        </testcase>
        <testcase classname="src/services/FileCommandLoader.test.ts" name="FileCommandLoader &gt; Shell Processor Integration &gt; instantiates ShellProcessor if {{args}} is present (even without shell trigger)" time="0.001677834">
        </testcase>
        <testcase classname="src/services/FileCommandLoader.test.ts" name="FileCommandLoader &gt; Shell Processor Integration &gt; instantiates ShellProcessor if the trigger is present" time="0.001330666">
        </testcase>
        <testcase classname="src/services/FileCommandLoader.test.ts" name="FileCommandLoader &gt; Shell Processor Integration &gt; does not instantiate ShellProcessor if no triggers ({{args}} or !{}) are present" time="0.001875">
        </testcase>
        <testcase classname="src/services/FileCommandLoader.test.ts" name="FileCommandLoader &gt; Shell Processor Integration &gt; returns a &quot;submit_prompt&quot; action if shell processing succeeds" time="0.001463709">
        </testcase>
        <testcase classname="src/services/FileCommandLoader.test.ts" name="FileCommandLoader &gt; Shell Processor Integration &gt; returns a &quot;confirm_shell_commands&quot; action if shell processing requires it" time="0.001694959">
        </testcase>
        <testcase classname="src/services/FileCommandLoader.test.ts" name="FileCommandLoader &gt; Shell Processor Integration &gt; re-throws other errors from the processor" time="0.006322208">
        </testcase>
        <testcase classname="src/services/FileCommandLoader.test.ts" name="FileCommandLoader &gt; Shell Processor Integration &gt; assembles the processor pipeline in the correct order (AtFile -&gt; Shell -&gt; Default)" time="0.008070916">
        </testcase>
        <testcase classname="src/services/FileCommandLoader.test.ts" name="FileCommandLoader &gt; @-file Processor Integration &gt; correctly processes a command with @{file}" time="0.007091833">
        </testcase>
        <testcase classname="src/services/FileCommandLoader.test.ts" name="FileCommandLoader &gt; with folder trust enabled &gt; loads multiple commands" time="0.005168375">
        </testcase>
        <testcase classname="src/services/FileCommandLoader.test.ts" name="FileCommandLoader &gt; with folder trust enabled &gt; does not load when folder is not trusted" time="0.002967125">
        </testcase>
        <testcase classname="src/services/FileCommandLoader.test.ts" name="FileCommandLoader &gt; AbortError handling &gt; should silently ignore AbortError when operation is cancelled" time="0.002602042">
            <system-err>
[FileCommandLoader] Error loading commands from /Users/user/.qwen/commands: DOMException {}

[FileCommandLoader] Error loading commands from /Users/user/qwen-masters-code/packages/cli/.qwen/commands: DOMException {}

            </system-err>
        </testcase>
    </testsuite>
    <testsuite name="src/services/McpPromptLoader.test.ts" timestamp="2025-11-26T16:27:33.676Z" hostname="MacBook-Pro-6.local" tests="25" failures="0" errors="0" skipped="0" time="0.007070375">
        <testcase classname="src/services/McpPromptLoader.test.ts" name="McpPromptLoader &gt; parseArgs &gt; should handle multi-word positional arguments" time="0.001601667">
        </testcase>
        <testcase classname="src/services/McpPromptLoader.test.ts" name="McpPromptLoader &gt; parseArgs &gt; should handle quoted multi-word positional arguments" time="0.000193666">
        </testcase>
        <testcase classname="src/services/McpPromptLoader.test.ts" name="McpPromptLoader &gt; parseArgs &gt; should handle a single positional argument with multiple words" time="0.000110208">
        </testcase>
        <testcase classname="src/services/McpPromptLoader.test.ts" name="McpPromptLoader &gt; parseArgs &gt; should handle escaped quotes in positional arguments" time="0.000092125">
        </testcase>
        <testcase classname="src/services/McpPromptLoader.test.ts" name="McpPromptLoader &gt; parseArgs &gt; should handle escaped backslashes in positional arguments" time="0.000081584">
        </testcase>
        <testcase classname="src/services/McpPromptLoader.test.ts" name="McpPromptLoader &gt; parseArgs &gt; should handle named args followed by positional args" time="0.000100708">
        </testcase>
        <testcase classname="src/services/McpPromptLoader.test.ts" name="McpPromptLoader &gt; parseArgs &gt; should handle positional args followed by named args" time="0.000089375">
        </testcase>
        <testcase classname="src/services/McpPromptLoader.test.ts" name="McpPromptLoader &gt; parseArgs &gt; should handle positional args interspersed with named args" time="0.000094041">
        </testcase>
        <testcase classname="src/services/McpPromptLoader.test.ts" name="McpPromptLoader &gt; parseArgs &gt; should treat an escaped quote at the start as a literal" time="0.000179875">
        </testcase>
        <testcase classname="src/services/McpPromptLoader.test.ts" name="McpPromptLoader &gt; parseArgs &gt; should handle a complex mix of args" time="0.000106834">
        </testcase>
        <testcase classname="src/services/McpPromptLoader.test.ts" name="McpPromptLoader &gt; loadCommands &gt; should load prompts as slash commands" time="0.000917916">
        </testcase>
        <testcase classname="src/services/McpPromptLoader.test.ts" name="McpPromptLoader &gt; loadCommands &gt; should handle prompt invocation successfully" time="0.00066125">
        </testcase>
        <testcase classname="src/services/McpPromptLoader.test.ts" name="McpPromptLoader &gt; loadCommands &gt; should return an error for missing required arguments" time="0.000152458">
        </testcase>
        <testcase classname="src/services/McpPromptLoader.test.ts" name="McpPromptLoader &gt; loadCommands &gt; should return an error message if prompt invocation fails" time="0.000304208">
        </testcase>
        <testcase classname="src/services/McpPromptLoader.test.ts" name="McpPromptLoader &gt; loadCommands &gt; should return an empty array if config is not available" time="0.000090167">
        </testcase>
        <testcase classname="src/services/McpPromptLoader.test.ts" name="McpPromptLoader &gt; loadCommands &gt; completion &gt; should suggest no arguments when using positional arguments" time="0.000214375">
        </testcase>
        <testcase classname="src/services/McpPromptLoader.test.ts" name="McpPromptLoader &gt; loadCommands &gt; completion &gt; should suggest all arguments when none are present" time="0.000218666">
        </testcase>
        <testcase classname="src/services/McpPromptLoader.test.ts" name="McpPromptLoader &gt; loadCommands &gt; completion &gt; should suggest remaining arguments when some are present" time="0.000184917">
        </testcase>
        <testcase classname="src/services/McpPromptLoader.test.ts" name="McpPromptLoader &gt; loadCommands &gt; completion &gt; should suggest no arguments when all are present" time="0.000094791">
        </testcase>
        <testcase classname="src/services/McpPromptLoader.test.ts" name="McpPromptLoader &gt; loadCommands &gt; completion &gt; should suggest nothing for prompts with no arguments" time="0.000112959">
        </testcase>
        <testcase classname="src/services/McpPromptLoader.test.ts" name="McpPromptLoader &gt; loadCommands &gt; completion &gt; should suggest arguments matching a partial argument" time="0.000113959">
        </testcase>
        <testcase classname="src/services/McpPromptLoader.test.ts" name="McpPromptLoader &gt; loadCommands &gt; completion &gt; should suggest arguments even when a partial argument is parsed as a value" time="0.000123208">
        </testcase>
        <testcase classname="src/services/McpPromptLoader.test.ts" name="McpPromptLoader &gt; loadCommands &gt; completion &gt; should auto-close the quote for a named argument value" time="0.000117375">
        </testcase>
        <testcase classname="src/services/McpPromptLoader.test.ts" name="McpPromptLoader &gt; loadCommands &gt; completion &gt; should auto-close the quote for an empty named argument value" time="0.000114583">
        </testcase>
        <testcase classname="src/services/McpPromptLoader.test.ts" name="McpPromptLoader &gt; loadCommands &gt; completion &gt; should not add a quote if already present" time="0.000110375">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/App.test.tsx" timestamp="2025-11-26T16:27:33.678Z" hostname="MacBook-Pro-6.local" tests="7" failures="0" errors="0" skipped="0" time="0.026158166">
        <testcase classname="src/ui/App.test.tsx" name="App &gt; should render main content and composer when not quitting" time="0.014121083">
        </testcase>
        <testcase classname="src/ui/App.test.tsx" name="App &gt; should render quitting display when quittingMessages is set" time="0.000855292">
        </testcase>
        <testcase classname="src/ui/App.test.tsx" name="App &gt; should render dialog manager when dialogs are visible" time="0.00139775">
        </testcase>
        <testcase classname="src/ui/App.test.tsx" name="App &gt; should show Ctrl+C exit prompt when dialogs are visible and ctrlCPressedOnce is true" time="0.002361458">
        </testcase>
        <testcase classname="src/ui/App.test.tsx" name="App &gt; should show Ctrl+D exit prompt when dialogs are visible and ctrlDPressedOnce is true" time="0.00172">
        </testcase>
        <testcase classname="src/ui/App.test.tsx" name="App &gt; should render ScreenReaderAppLayout when screen reader is enabled" time="0.001588542">
        </testcase>
        <testcase classname="src/ui/App.test.tsx" name="App &gt; should render DefaultAppLayout when screen reader is not enabled" time="0.003267375">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/AppContainer.test.tsx" timestamp="2025-11-26T16:27:33.678Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/AppContainer.test.tsx" name="src/ui/AppContainer.test.tsx" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/ansi-align/node_modules/strip-ansi/index.js not supported.
Instead change the require of /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js in /Users/user/qwen-masters-code/node_modules/ansi-align/node_modules/strip-ansi/index.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/ansi-align/node_modules/strip-ansi/index.js not supported.
Instead change the require of /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js in /Users/user/qwen-masters-code/node_modules/ansi-align/node_modules/strip-ansi/index.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/ansi-align/node_modules/strip-ansi/index.js:2:19


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/keyMatchers.test.ts" timestamp="2025-11-26T16:27:33.680Z" hostname="MacBook-Pro-6.local" tests="34" failures="0" errors="0" skipped="0" time="0.005549834">
        <testcase classname="src/ui/keyMatchers.test.ts" name="keyMatchers &gt; Data-driven key binding matches original logic &gt; should match return correctly" time="0.001003542">
        </testcase>
        <testcase classname="src/ui/keyMatchers.test.ts" name="keyMatchers &gt; Data-driven key binding matches original logic &gt; should match escape correctly" time="0.000163667">
        </testcase>
        <testcase classname="src/ui/keyMatchers.test.ts" name="keyMatchers &gt; Data-driven key binding matches original logic &gt; should match home correctly" time="0.000141416">
        </testcase>
        <testcase classname="src/ui/keyMatchers.test.ts" name="keyMatchers &gt; Data-driven key binding matches original logic &gt; should match end correctly" time="0.000234208">
        </testcase>
        <testcase classname="src/ui/keyMatchers.test.ts" name="keyMatchers &gt; Data-driven key binding matches original logic &gt; should match killLineRight correctly" time="0.000097708">
        </testcase>
        <testcase classname="src/ui/keyMatchers.test.ts" name="keyMatchers &gt; Data-driven key binding matches original logic &gt; should match killLineLeft correctly" time="0.000110458">
        </testcase>
        <testcase classname="src/ui/keyMatchers.test.ts" name="keyMatchers &gt; Data-driven key binding matches original logic &gt; should match clearInput correctly" time="0.0000995">
        </testcase>
        <testcase classname="src/ui/keyMatchers.test.ts" name="keyMatchers &gt; Data-driven key binding matches original logic &gt; should match deleteWordBackward correctly" time="0.000117292">
        </testcase>
        <testcase classname="src/ui/keyMatchers.test.ts" name="keyMatchers &gt; Data-driven key binding matches original logic &gt; should match clearScreen correctly" time="0.000089833">
        </testcase>
        <testcase classname="src/ui/keyMatchers.test.ts" name="keyMatchers &gt; Data-driven key binding matches original logic &gt; should match historyUp correctly" time="0.000098459">
        </testcase>
        <testcase classname="src/ui/keyMatchers.test.ts" name="keyMatchers &gt; Data-driven key binding matches original logic &gt; should match historyDown correctly" time="0.000090417">
        </testcase>
        <testcase classname="src/ui/keyMatchers.test.ts" name="keyMatchers &gt; Data-driven key binding matches original logic &gt; should match navigationUp correctly" time="0.000106917">
        </testcase>
        <testcase classname="src/ui/keyMatchers.test.ts" name="keyMatchers &gt; Data-driven key binding matches original logic &gt; should match navigationDown correctly" time="0.00009875">
        </testcase>
        <testcase classname="src/ui/keyMatchers.test.ts" name="keyMatchers &gt; Data-driven key binding matches original logic &gt; should match acceptSuggestion correctly" time="0.00010475">
        </testcase>
        <testcase classname="src/ui/keyMatchers.test.ts" name="keyMatchers &gt; Data-driven key binding matches original logic &gt; should match completionUp correctly" time="0.000111792">
        </testcase>
        <testcase classname="src/ui/keyMatchers.test.ts" name="keyMatchers &gt; Data-driven key binding matches original logic &gt; should match completionDown correctly" time="0.0000995">
        </testcase>
        <testcase classname="src/ui/keyMatchers.test.ts" name="keyMatchers &gt; Data-driven key binding matches original logic &gt; should match submit correctly" time="0.000116291">
        </testcase>
        <testcase classname="src/ui/keyMatchers.test.ts" name="keyMatchers &gt; Data-driven key binding matches original logic &gt; should match newline correctly" time="0.000135167">
        </testcase>
        <testcase classname="src/ui/keyMatchers.test.ts" name="keyMatchers &gt; Data-driven key binding matches original logic &gt; should match openExternalEditor correctly" time="0.000103834">
        </testcase>
        <testcase classname="src/ui/keyMatchers.test.ts" name="keyMatchers &gt; Data-driven key binding matches original logic &gt; should match pasteClipboardImage correctly" time="0.000082583">
        </testcase>
        <testcase classname="src/ui/keyMatchers.test.ts" name="keyMatchers &gt; Data-driven key binding matches original logic &gt; should match showErrorDetails correctly" time="0.000083">
        </testcase>
        <testcase classname="src/ui/keyMatchers.test.ts" name="keyMatchers &gt; Data-driven key binding matches original logic &gt; should match toggleToolDescriptions correctly" time="0.000077917">
        </testcase>
        <testcase classname="src/ui/keyMatchers.test.ts" name="keyMatchers &gt; Data-driven key binding matches original logic &gt; should match toggleIDEContextDetail correctly" time="0.00009475">
        </testcase>
        <testcase classname="src/ui/keyMatchers.test.ts" name="keyMatchers &gt; Data-driven key binding matches original logic &gt; should match quit correctly" time="0.000083458">
        </testcase>
        <testcase classname="src/ui/keyMatchers.test.ts" name="keyMatchers &gt; Data-driven key binding matches original logic &gt; should match exit correctly" time="0.00007875">
        </testcase>
        <testcase classname="src/ui/keyMatchers.test.ts" name="keyMatchers &gt; Data-driven key binding matches original logic &gt; should match showMoreLines correctly" time="0.000091125">
        </testcase>
        <testcase classname="src/ui/keyMatchers.test.ts" name="keyMatchers &gt; Data-driven key binding matches original logic &gt; should match reverseSearch correctly" time="0.000080292">
        </testcase>
        <testcase classname="src/ui/keyMatchers.test.ts" name="keyMatchers &gt; Data-driven key binding matches original logic &gt; should match submitReverseSearch correctly" time="0.00008">
        </testcase>
        <testcase classname="src/ui/keyMatchers.test.ts" name="keyMatchers &gt; Data-driven key binding matches original logic &gt; should match acceptSuggestionReverseSearch correctly" time="0.000187208">
        </testcase>
        <testcase classname="src/ui/keyMatchers.test.ts" name="keyMatchers &gt; Data-driven key binding matches original logic &gt; should match toggleShellInputFocus correctly" time="0.00006975">
        </testcase>
        <testcase classname="src/ui/keyMatchers.test.ts" name="keyMatchers &gt; Data-driven key binding matches original logic &gt; should properly handle ACCEPT_SUGGESTION_REVERSE_SEARCH cases" time="0.000080208">
        </testcase>
        <testcase classname="src/ui/keyMatchers.test.ts" name="keyMatchers &gt; Custom key bindings &gt; should work with custom configuration" time="0.000107166">
        </testcase>
        <testcase classname="src/ui/keyMatchers.test.ts" name="keyMatchers &gt; Custom key bindings &gt; should support multiple key bindings for same command" time="0.000074166">
        </testcase>
        <testcase classname="src/ui/keyMatchers.test.ts" name="keyMatchers &gt; Edge Cases &gt; should handle empty binding arrays" time="0.000056667">
        </testcase>
    </testsuite>
    <testsuite name="src/commands/extensions/install.test.ts" timestamp="2025-11-26T16:27:33.682Z" hostname="MacBook-Pro-6.local" tests="8" failures="0" errors="0" skipped="0" time="0.011157541">
        <testcase classname="src/commands/extensions/install.test.ts" name="extensions install command &gt; should fail if no source is provided" time="0.00650375">
        </testcase>
        <testcase classname="src/commands/extensions/install.test.ts" name="handleInstall &gt; should install an extension from a http source" time="0.0020485">
            <system-out>
Extension &quot;http-extension&quot; installed successfully and enabled.

            </system-out>
        </testcase>
        <testcase classname="src/commands/extensions/install.test.ts" name="handleInstall &gt; should install an extension from a https source" time="0.000340083">
            <system-out>
Extension &quot;https-extension&quot; installed successfully and enabled.

            </system-out>
        </testcase>
        <testcase classname="src/commands/extensions/install.test.ts" name="handleInstall &gt; should install an extension from a git source" time="0.000200708">
            <system-out>
Extension &quot;git-extension&quot; installed successfully and enabled.

            </system-out>
        </testcase>
        <testcase classname="src/commands/extensions/install.test.ts" name="handleInstall &gt; throws an error from an unknown source" time="0.00069225">
            <system-err>
Install source not found.

            </system-err>
        </testcase>
        <testcase classname="src/commands/extensions/install.test.ts" name="handleInstall &gt; should install an extension from a sso source" time="0.000194333">
            <system-out>
Extension &quot;sso-extension&quot; installed successfully and enabled.

            </system-out>
        </testcase>
        <testcase classname="src/commands/extensions/install.test.ts" name="handleInstall &gt; should install an extension from a local path" time="0.000177959">
            <system-out>
Extension &quot;local-extension&quot; installed successfully and enabled.

            </system-out>
        </testcase>
        <testcase classname="src/commands/extensions/install.test.ts" name="handleInstall &gt; should throw an error if install extension fails" time="0.000214417">
            <system-err>
Install extension failed

            </system-err>
        </testcase>
    </testsuite>
    <testsuite name="src/commands/extensions/new.test.ts" timestamp="2025-11-26T16:27:33.683Z" hostname="MacBook-Pro-6.local" tests="4" failures="0" errors="0" skipped="0" time="0.019916875">
        <testcase classname="src/commands/extensions/new.test.ts" name="extensions new command &gt; should fail if no path is provided" time="0.00978025">
        </testcase>
        <testcase classname="src/commands/extensions/new.test.ts" name="extensions new command &gt; should create directory when no template is provided" time="0.005574166">
            <system-out>
Successfully created new extension at /some/path.
You can install this using &quot;qwen extensions link /some/path&quot; to test it out.

            </system-out>
        </testcase>
        <testcase classname="src/commands/extensions/new.test.ts" name="extensions new command &gt; should create directory and copy files when path does not exist" time="0.002286792">
            <system-out>
Successfully created new extension from template &quot;context&quot; at /some/path.
You can install this using &quot;qwen extensions link /some/path&quot; to test it out.

            </system-out>
        </testcase>
        <testcase classname="src/commands/extensions/new.test.ts" name="extensions new command &gt; should throw an error if the path already exists" time="0.001321083">
            <system-err>
Path already exists: /some/path

            </system-err>
        </testcase>
    </testsuite>
    <testsuite name="src/commands/extensions/uninstall.test.ts" timestamp="2025-11-26T16:27:33.683Z" hostname="MacBook-Pro-6.local" tests="1" failures="0" errors="0" skipped="0" time="0.007261292">
        <testcase classname="src/commands/extensions/uninstall.test.ts" name="extensions uninstall command &gt; should fail if no source is provided" time="0.006516833">
        </testcase>
    </testsuite>
    <testsuite name="src/utils/attentionNotification.test.ts" timestamp="2025-11-26T16:27:33.684Z" hostname="MacBook-Pro-6.local" tests="4" failures="0" errors="0" skipped="0" time="0.007808084">
        <testcase classname="src/utils/attentionNotification.test.ts" name="notifyTerminalAttention &gt; emits terminal bell character" time="0.002229208">
        </testcase>
        <testcase classname="src/utils/attentionNotification.test.ts" name="notifyTerminalAttention &gt; returns false when not running inside a tty" time="0.000212791">
        </testcase>
        <testcase classname="src/utils/attentionNotification.test.ts" name="notifyTerminalAttention &gt; returns false when stream write fails" time="0.004296166">
            <system-err>
Failed to send terminal bell: Error: Write failed
    at Object.&lt;anonymous&gt; [90m(/Users/user/qwen-masters-code/packages/cli/[39msrc/utils/attentionNotification.test.ts:46:13[90m)[39m
    at Object.mockCall (file:///Users/user/qwen-masters-code/node_modules/[4m@vitest[24m/spy/dist/index.js:96:15)
    at Object.spy [as write] (file:///Users/user/qwen-masters-code/node_modules/[4mtinyspy[24m/dist/index.js:47:103)
    at notifyTerminalAttention [90m(/Users/user/qwen-masters-code/packages/cli/[39msrc/utils/attentionNotification.ts:37:12[90m)[39m
    at [90m/Users/user/qwen-masters-code/packages/cli/[39msrc/utils/attentionNotification.test.ts:49:20
    at file:///Users/user/qwen-masters-code/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/user/qwen-masters-code/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/user/qwen-masters-code/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (&lt;anonymous&gt;)
    at runWithTimeout (file:///Users/user/qwen-masters-code/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)

            </system-err>
        </testcase>
        <testcase classname="src/utils/attentionNotification.test.ts" name="notifyTerminalAttention &gt; works with different notification reasons" time="0.000253875">
        </testcase>
    </testsuite>
    <testsuite name="src/utils/cleanup.test.ts" timestamp="2025-11-26T16:27:33.684Z" hostname="MacBook-Pro-6.local" tests="4" failures="0" errors="0" skipped="0" time="0.002807">
        <testcase classname="src/utils/cleanup.test.ts" name="cleanup &gt; should run a registered synchronous function" time="0.001482209">
        </testcase>
        <testcase classname="src/utils/cleanup.test.ts" name="cleanup &gt; should run a registered asynchronous function" time="0.000159834">
        </testcase>
        <testcase classname="src/utils/cleanup.test.ts" name="cleanup &gt; should run multiple registered functions" time="0.000212916">
        </testcase>
        <testcase classname="src/utils/cleanup.test.ts" name="cleanup &gt; should continue running cleanup functions even if one throws an error" time="0.000132083">
        </testcase>
    </testsuite>
    <testsuite name="src/utils/commands.test.ts" timestamp="2025-11-26T16:27:33.684Z" hostname="MacBook-Pro-6.local" tests="12" failures="0" errors="0" skipped="0" time="0.004370167">
        <testcase classname="src/utils/commands.test.ts" name="parseSlashCommand &gt; should parse a simple command without arguments" time="0.002437542">
        </testcase>
        <testcase classname="src/utils/commands.test.ts" name="parseSlashCommand &gt; should parse a simple command with arguments" time="0.000191792">
        </testcase>
        <testcase classname="src/utils/commands.test.ts" name="parseSlashCommand &gt; should parse a subcommand" time="0.000099166">
        </testcase>
        <testcase classname="src/utils/commands.test.ts" name="parseSlashCommand &gt; should parse a subcommand with arguments" time="0.000087375">
        </testcase>
        <testcase classname="src/utils/commands.test.ts" name="parseSlashCommand &gt; should handle a command alias" time="0.000092292">
        </testcase>
        <testcase classname="src/utils/commands.test.ts" name="parseSlashCommand &gt; should handle a subcommand alias" time="0.0000855">
        </testcase>
        <testcase classname="src/utils/commands.test.ts" name="parseSlashCommand &gt; should return undefined for an unknown command" time="0.000097875">
        </testcase>
        <testcase classname="src/utils/commands.test.ts" name="parseSlashCommand &gt; should return the parent command if subcommand is unknown" time="0.000080541">
        </testcase>
        <testcase classname="src/utils/commands.test.ts" name="parseSlashCommand &gt; should handle extra whitespace" time="0.000095916">
        </testcase>
        <testcase classname="src/utils/commands.test.ts" name="parseSlashCommand &gt; should return undefined if query does not start with a slash" time="0.000050166">
        </testcase>
        <testcase classname="src/utils/commands.test.ts" name="parseSlashCommand &gt; should handle an empty query" time="0.000042709">
        </testcase>
        <testcase classname="src/utils/commands.test.ts" name="parseSlashCommand &gt; should handle a query with only a slash" time="0.000068916">
        </testcase>
    </testsuite>
    <testsuite name="src/utils/commentJson.test.ts" timestamp="2025-11-26T16:27:33.685Z" hostname="MacBook-Pro-6.local" tests="6" failures="0" errors="0" skipped="0" time="0.014109916">
        <testcase classname="src/utils/commentJson.test.ts" name="commentJson &gt; updateSettingsFilePreservingFormat &gt; should preserve comments when updating settings" time="0.004169708">
        </testcase>
        <testcase classname="src/utils/commentJson.test.ts" name="commentJson &gt; updateSettingsFilePreservingFormat &gt; should handle nested object updates" time="0.001042834">
        </testcase>
        <testcase classname="src/utils/commentJson.test.ts" name="commentJson &gt; updateSettingsFilePreservingFormat &gt; should add new fields while preserving existing structure" time="0.000805">
        </testcase>
        <testcase classname="src/utils/commentJson.test.ts" name="commentJson &gt; updateSettingsFilePreservingFormat &gt; should create file if it does not exist" time="0.00050225">
        </testcase>
        <testcase classname="src/utils/commentJson.test.ts" name="commentJson &gt; updateSettingsFilePreservingFormat &gt; should handle complex real-world scenario" time="0.001327291">
        </testcase>
        <testcase classname="src/utils/commentJson.test.ts" name="commentJson &gt; updateSettingsFilePreservingFormat &gt; should handle corrupted JSON files gracefully" time="0.005209791">
        </testcase>
    </testsuite>
    <testsuite name="src/utils/deepMerge.test.ts" timestamp="2025-11-26T16:27:33.686Z" hostname="MacBook-Pro-6.local" tests="13" failures="0" errors="0" skipped="0" time="0.003450625">
        <testcase classname="src/utils/deepMerge.test.ts" name="customDeepMerge &gt; should merge simple objects" time="0.001249209">
        </testcase>
        <testcase classname="src/utils/deepMerge.test.ts" name="customDeepMerge &gt; should merge nested objects" time="0.000147208">
        </testcase>
        <testcase classname="src/utils/deepMerge.test.ts" name="customDeepMerge &gt; should replace arrays by default" time="0.000090417">
        </testcase>
        <testcase classname="src/utils/deepMerge.test.ts" name="customDeepMerge &gt; should concatenate arrays with CONCAT strategy" time="0.000083667">
        </testcase>
        <testcase classname="src/utils/deepMerge.test.ts" name="customDeepMerge &gt; should union arrays with UNION strategy" time="0.000080541">
        </testcase>
        <testcase classname="src/utils/deepMerge.test.ts" name="customDeepMerge &gt; should shallow merge objects with SHALLOW_MERGE strategy" time="0.00008875">
        </testcase>
        <testcase classname="src/utils/deepMerge.test.ts" name="customDeepMerge &gt; should handle multiple source objects" time="0.000072958">
        </testcase>
        <testcase classname="src/utils/deepMerge.test.ts" name="customDeepMerge &gt; should return an empty object if no sources are provided" time="0.000049125">
        </testcase>
        <testcase classname="src/utils/deepMerge.test.ts" name="customDeepMerge &gt; should return a deep copy of the first source if only one is provided" time="0.000265542">
        </testcase>
        <testcase classname="src/utils/deepMerge.test.ts" name="customDeepMerge &gt; should not mutate the original source objects" time="0.000127542">
        </testcase>
        <testcase classname="src/utils/deepMerge.test.ts" name="customDeepMerge &gt; should not mutate sources when merging multiple levels deep" time="0.000160042">
        </testcase>
        <testcase classname="src/utils/deepMerge.test.ts" name="customDeepMerge &gt; should handle complex nested strategies" time="0.000136959">
        </testcase>
        <testcase classname="src/utils/deepMerge.test.ts" name="customDeepMerge &gt; should not pollute the prototype" time="0.000089458">
        </testcase>
    </testsuite>
    <testsuite name="src/utils/envVarResolver.test.ts" timestamp="2025-11-26T16:27:33.686Z" hostname="MacBook-Pro-6.local" tests="16" failures="0" errors="0" skipped="0" time="0.009621708">
        <testcase classname="src/utils/envVarResolver.test.ts" name="resolveEnvVarsInString &gt; should resolve $VAR_NAME format" time="0.002203291">
        </testcase>
        <testcase classname="src/utils/envVarResolver.test.ts" name="resolveEnvVarsInString &gt; should resolve ${VAR_NAME} format" time="0.000493208">
        </testcase>
        <testcase classname="src/utils/envVarResolver.test.ts" name="resolveEnvVarsInString &gt; should resolve multiple variables in the same string" time="0.000373583">
        </testcase>
        <testcase classname="src/utils/envVarResolver.test.ts" name="resolveEnvVarsInString &gt; should leave undefined variables unchanged" time="0.000238209">
        </testcase>
        <testcase classname="src/utils/envVarResolver.test.ts" name="resolveEnvVarsInString &gt; should leave undefined variables with braces unchanged" time="0.000137666">
        </testcase>
        <testcase classname="src/utils/envVarResolver.test.ts" name="resolveEnvVarsInString &gt; should handle empty string" time="0.000067375">
        </testcase>
        <testcase classname="src/utils/envVarResolver.test.ts" name="resolveEnvVarsInString &gt; should handle string without variables" time="0.000290167">
        </testcase>
        <testcase classname="src/utils/envVarResolver.test.ts" name="resolveEnvVarsInString &gt; should handle mixed defined and undefined variables" time="0.000819125">
        </testcase>
        <testcase classname="src/utils/envVarResolver.test.ts" name="resolveEnvVarsInObject &gt; should resolve variables in nested objects" time="0.00062525">
        </testcase>
        <testcase classname="src/utils/envVarResolver.test.ts" name="resolveEnvVarsInObject &gt; should resolve variables in arrays" time="0.0002565">
        </testcase>
        <testcase classname="src/utils/envVarResolver.test.ts" name="resolveEnvVarsInObject &gt; should preserve non-string types" time="0.000095708">
        </testcase>
        <testcase classname="src/utils/envVarResolver.test.ts" name="resolveEnvVarsInObject &gt; should handle MCP server config structure" time="0.0001375">
        </testcase>
        <testcase classname="src/utils/envVarResolver.test.ts" name="resolveEnvVarsInObject &gt; should handle empty and null values" time="0.000073916">
        </testcase>
        <testcase classname="src/utils/envVarResolver.test.ts" name="resolveEnvVarsInObject &gt; should handle circular references in objects without infinite recursion" time="0.000292792">
        </testcase>
        <testcase classname="src/utils/envVarResolver.test.ts" name="resolveEnvVarsInObject &gt; should handle circular references in arrays without infinite recursion" time="0.000190166">
        </testcase>
        <testcase classname="src/utils/envVarResolver.test.ts" name="resolveEnvVarsInObject &gt; should handle complex nested circular references" time="0.000368792">
        </testcase>
    </testsuite>
    <testsuite name="src/utils/errors.test.ts" timestamp="2025-11-26T16:27:33.687Z" hostname="MacBook-Pro-6.local" tests="25" failures="0" errors="0" skipped="0" time="0.010427084">
        <testcase classname="src/utils/errors.test.ts" name="errors &gt; getErrorMessage &gt; should return error message for Error instances" time="0.001303084">
        </testcase>
        <testcase classname="src/utils/errors.test.ts" name="errors &gt; getErrorMessage &gt; should convert non-Error values to strings" time="0.000204084">
        </testcase>
        <testcase classname="src/utils/errors.test.ts" name="errors &gt; getErrorMessage &gt; should handle objects" time="0.000123834">
        </testcase>
        <testcase classname="src/utils/errors.test.ts" name="errors &gt; handleError &gt; in text mode &gt; should log error message and re-throw" time="0.001135334">
        </testcase>
        <testcase classname="src/utils/errors.test.ts" name="errors &gt; handleError &gt; in text mode &gt; should handle non-Error objects" time="0.0005885">
        </testcase>
        <testcase classname="src/utils/errors.test.ts" name="errors &gt; handleError &gt; in JSON mode &gt; should format error as JSON and exit with default code" time="0.000376083">
        </testcase>
        <testcase classname="src/utils/errors.test.ts" name="errors &gt; handleError &gt; in JSON mode &gt; should use custom error code when provided" time="0.000233459">
        </testcase>
        <testcase classname="src/utils/errors.test.ts" name="errors &gt; handleError &gt; in JSON mode &gt; should extract exitCode from FatalError instances" time="0.000375583">
        </testcase>
        <testcase classname="src/utils/errors.test.ts" name="errors &gt; handleError &gt; in JSON mode &gt; should handle error with code property" time="0.000198667">
        </testcase>
        <testcase classname="src/utils/errors.test.ts" name="errors &gt; handleError &gt; in JSON mode &gt; should handle error with status property" time="0.000229167">
        </testcase>
        <testcase classname="src/utils/errors.test.ts" name="errors &gt; handleToolError &gt; when debug mode is enabled &gt; in text mode &gt; should log error message to stderr and not exit" time="0.000254667">
        </testcase>
        <testcase classname="src/utils/errors.test.ts" name="errors &gt; handleToolError &gt; when debug mode is enabled &gt; in text mode &gt; should use resultDisplay when provided and not exit" time="0.000169459">
        </testcase>
        <testcase classname="src/utils/errors.test.ts" name="errors &gt; handleToolError &gt; when debug mode is enabled &gt; in JSON mode &gt; should log error message to stderr and not exit" time="0.000172666">
        </testcase>
        <testcase classname="src/utils/errors.test.ts" name="errors &gt; handleToolError &gt; when debug mode is enabled &gt; in JSON mode &gt; should log error with custom error code and not exit" time="0.000183333">
        </testcase>
        <testcase classname="src/utils/errors.test.ts" name="errors &gt; handleToolError &gt; when debug mode is enabled &gt; in JSON mode &gt; should log error with numeric error code and not exit" time="0.000172875">
        </testcase>
        <testcase classname="src/utils/errors.test.ts" name="errors &gt; handleToolError &gt; when debug mode is enabled &gt; in JSON mode &gt; should prefer resultDisplay over error message and not exit" time="0.000164584">
        </testcase>
        <testcase classname="src/utils/errors.test.ts" name="errors &gt; handleToolError &gt; when debug mode is enabled &gt; in STREAM_JSON mode &gt; should log error message to stderr and not exit" time="0.000183625">
        </testcase>
        <testcase classname="src/utils/errors.test.ts" name="errors &gt; handleToolError &gt; when debug mode is disabled &gt; should not log and not exit in text mode" time="0.000242917">
        </testcase>
        <testcase classname="src/utils/errors.test.ts" name="errors &gt; handleToolError &gt; when debug mode is disabled &gt; should not log and not exit in JSON mode" time="0.000161916">
        </testcase>
        <testcase classname="src/utils/errors.test.ts" name="errors &gt; handleToolError &gt; when debug mode is disabled &gt; should not log and not exit in STREAM_JSON mode" time="0.000161541">
        </testcase>
        <testcase classname="src/utils/errors.test.ts" name="errors &gt; handleToolError &gt; process exit behavior &gt; should never exit regardless of output format" time="0.000195167">
        </testcase>
        <testcase classname="src/utils/errors.test.ts" name="errors &gt; handleCancellationError &gt; in text mode &gt; should log cancellation message and exit with 130" time="0.000274333">
        </testcase>
        <testcase classname="src/utils/errors.test.ts" name="errors &gt; handleCancellationError &gt; in JSON mode &gt; should format cancellation as JSON and exit with 130" time="0.000226">
        </testcase>
        <testcase classname="src/utils/errors.test.ts" name="errors &gt; handleMaxTurnsExceededError &gt; in text mode &gt; should log max turns message and exit with 53" time="0.000228542">
        </testcase>
        <testcase classname="src/utils/errors.test.ts" name="errors &gt; handleMaxTurnsExceededError &gt; in JSON mode &gt; should format max turns error as JSON and exit with 53" time="0.000216875">
        </testcase>
    </testsuite>
    <testsuite name="src/utils/gitUtils.test.ts" timestamp="2025-11-26T16:27:33.689Z" hostname="MacBook-Pro-6.local" tests="12" failures="0" errors="0" skipped="0" time="0.024430084">
        <testcase classname="src/utils/gitUtils.test.ts" name="isGitHubRepository &gt; returns false if the git command fails" time="0.016854541">
            <system-out>
Failed to get git remote: Error: oops
    at [90m/Users/user/qwen-masters-code/packages/cli/[39msrc/utils/gitUtils.test.ts:29:13
    at mockCall (file:///Users/user/qwen-masters-code/node_modules/[4m@vitest[24m/spy/dist/index.js:96:15)
    at execSync (file:///Users/user/qwen-masters-code/node_modules/[4mtinyspy[24m/dist/index.js:47:103)
    at Module.isGitHubRepository [90m(/Users/user/qwen-masters-code/packages/cli/[39msrc/utils/gitUtils.ts:17:7[90m)[39m
    at [90m/Users/user/qwen-masters-code/packages/cli/[39msrc/utils/gitUtils.test.ts:31:12
    at file:///Users/user/qwen-masters-code/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/user/qwen-masters-code/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/user/qwen-masters-code/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (&lt;anonymous&gt;)
    at runWithTimeout (file:///Users/user/qwen-masters-code/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)

            </system-out>
        </testcase>
        <testcase classname="src/utils/gitUtils.test.ts" name="isGitHubRepository &gt; returns false if the remote is not github.com" time="0.000186041">
        </testcase>
        <testcase classname="src/utils/gitUtils.test.ts" name="isGitHubRepository &gt; returns true if the remote is github.com" time="0.000109583">
        </testcase>
        <testcase classname="src/utils/gitUtils.test.ts" name="getGitHubRepoInfo &gt; throws an error if github repo info cannot be determined" time="0.000613583">
        </testcase>
        <testcase classname="src/utils/gitUtils.test.ts" name="getGitHubRepoInfo &gt; throws an error if owner/repo could not be determined" time="0.000279209">
        </testcase>
        <testcase classname="src/utils/gitUtils.test.ts" name="getGitHubRepoInfo &gt; returns the owner and repo" time="0.000504458">
        </testcase>
        <testcase classname="src/utils/gitUtils.test.ts" name="getGitRepoRoot &gt; throws an error if git root cannot be determined" time="0.000701167">
        </testcase>
        <testcase classname="src/utils/gitUtils.test.ts" name="getGitRepoRoot &gt; throws an error if git root is empty" time="0.000198625">
        </testcase>
        <testcase classname="src/utils/gitUtils.test.ts" name="getGitRepoRoot &gt; returns the root" time="0.000105834">
        </testcase>
        <testcase classname="src/utils/gitUtils.test.ts" name="getLatestRelease &gt; throws an error if the fetch fails" time="0.001571791">
            <system-out>
Failed to determine latest run-gemini-cli release: nope

            </system-out>
        </testcase>
        <testcase classname="src/utils/gitUtils.test.ts" name="getLatestRelease &gt; throws an error if the fetch does not return a json body" time="0.001978833">
            <system-out>
Failed to determine latest run-gemini-cli release: Error: Response did not include tag_name field
    at Module.getLatestGitHubRelease [90m(/Users/user/qwen-masters-code/packages/cli/[39msrc/utils/gitUtils.ts:82:13[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at [90m/Users/user/qwen-masters-code/packages/cli/[39msrc/utils/gitUtils.test.ts:135:5
    at file:///Users/user/qwen-masters-code/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:20

            </system-out>
        </testcase>
        <testcase classname="src/utils/gitUtils.test.ts" name="getLatestRelease &gt; returns the release version" time="0.000428833">
        </testcase>
    </testsuite>
    <testsuite name="src/utils/handleAutoUpdate.test.ts" timestamp="2025-11-26T16:27:33.690Z" hostname="MacBook-Pro-6.local" tests="10" failures="0" errors="0" skipped="0" time="0.011378959">
        <testcase classname="src/utils/handleAutoUpdate.test.ts" name="handleAutoUpdate &gt; should do nothing if update info is null" time="0.002425666">
        </testcase>
        <testcase classname="src/utils/handleAutoUpdate.test.ts" name="handleAutoUpdate &gt; should do nothing if update nag is disabled" time="0.000211292">
        </testcase>
        <testcase classname="src/utils/handleAutoUpdate.test.ts" name="handleAutoUpdate &gt; should emit &quot;update-received&quot; but not update if auto-updates are disabled" time="0.001316625">
        </testcase>
        <testcase classname="src/utils/handleAutoUpdate.test.ts" name="handleAutoUpdate &gt; should emit &quot;update-received&quot; but not update if no update command is found" time="0.000250625">
        </testcase>
        <testcase classname="src/utils/handleAutoUpdate.test.ts" name="handleAutoUpdate &gt; should combine update messages correctly" time="0.000277292">
        </testcase>
        <testcase classname="src/utils/handleAutoUpdate.test.ts" name="handleAutoUpdate &gt; should attempt to perform an update when conditions are met" time="0.000177916">
        </testcase>
        <testcase classname="src/utils/handleAutoUpdate.test.ts" name="handleAutoUpdate &gt; should emit &quot;update-failed&quot; when the update process fails" time="0.002951875">
        </testcase>
        <testcase classname="src/utils/handleAutoUpdate.test.ts" name="handleAutoUpdate &gt; should emit &quot;update-failed&quot; when the spawn function throws an error" time="0.000927583">
        </testcase>
        <testcase classname="src/utils/handleAutoUpdate.test.ts" name="handleAutoUpdate &gt; should use the &quot;@nightly&quot; tag for nightly updates" time="0.000242291">
        </testcase>
        <testcase classname="src/utils/handleAutoUpdate.test.ts" name="handleAutoUpdate &gt; should emit &quot;update-success&quot; when the update process succeeds" time="0.00045375">
        </testcase>
    </testsuite>
    <testsuite name="src/utils/installationInfo.test.ts" timestamp="2025-11-26T16:27:33.690Z" hostname="MacBook-Pro-6.local" tests="16" failures="0" errors="0" skipped="0" time="0.007570709">
        <testcase classname="src/utils/installationInfo.test.ts" name="getInstallationInfo &gt; should return UNKNOWN when cliPath is not available" time="0.001215542">
        </testcase>
        <testcase classname="src/utils/installationInfo.test.ts" name="getInstallationInfo &gt; should return UNKNOWN and log error if realpathSync fails" time="0.001109625">
        </testcase>
        <testcase classname="src/utils/installationInfo.test.ts" name="getInstallationInfo &gt; should detect running from a local git clone" time="0.000165125">
        </testcase>
        <testcase classname="src/utils/installationInfo.test.ts" name="getInstallationInfo &gt; should detect running via npx" time="0.00013575">
        </testcase>
        <testcase classname="src/utils/installationInfo.test.ts" name="getInstallationInfo &gt; should detect running via pnpx" time="0.000116">
        </testcase>
        <testcase classname="src/utils/installationInfo.test.ts" name="getInstallationInfo &gt; should detect running via bunx" time="0.000135417">
        </testcase>
        <testcase classname="src/utils/installationInfo.test.ts" name="getInstallationInfo &gt; should detect Homebrew installation via execSync" time="0.000773">
        </testcase>
        <testcase classname="src/utils/installationInfo.test.ts" name="getInstallationInfo &gt; should fall through if brew command fails" time="0.000286875">
        </testcase>
        <testcase classname="src/utils/installationInfo.test.ts" name="getInstallationInfo &gt; should detect global pnpm installation" time="0.000206334">
        </testcase>
        <testcase classname="src/utils/installationInfo.test.ts" name="getInstallationInfo &gt; should detect global yarn installation" time="0.000248917">
        </testcase>
        <testcase classname="src/utils/installationInfo.test.ts" name="getInstallationInfo &gt; should detect global bun installation" time="0.000178459">
        </testcase>
        <testcase classname="src/utils/installationInfo.test.ts" name="getInstallationInfo &gt; should detect local installation and identify yarn from lockfile" time="0.000232583">
        </testcase>
        <testcase classname="src/utils/installationInfo.test.ts" name="getInstallationInfo &gt; should detect local installation and identify pnpm from lockfile" time="0.000469292">
        </testcase>
        <testcase classname="src/utils/installationInfo.test.ts" name="getInstallationInfo &gt; should detect local installation and identify bun from lockfile" time="0.000564792">
        </testcase>
        <testcase classname="src/utils/installationInfo.test.ts" name="getInstallationInfo &gt; should default to local npm installation if no lockfile is found" time="0.000489917">
        </testcase>
        <testcase classname="src/utils/installationInfo.test.ts" name="getInstallationInfo &gt; should default to global npm installation for unrecognized paths" time="0.000223">
        </testcase>
    </testsuite>
    <testsuite name="src/utils/nonInteractiveHelpers.test.ts" timestamp="2025-11-26T16:27:33.692Z" hostname="MacBook-Pro-6.local" tests="56" failures="0" errors="0" skipped="0" time="0.013460625">
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="normalizePartList &gt; should return empty array for null input" time="0.001115167">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="normalizePartList &gt; should return empty array for undefined input" time="0.000097375">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="normalizePartList &gt; should convert string to Part array" time="0.000111791">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="normalizePartList &gt; should convert array of strings to Part array" time="0.000077541">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="normalizePartList &gt; should convert array of mixed strings and Parts to Part array" time="0.000063084">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="normalizePartList &gt; should convert single Part object to array" time="0.000054458">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="normalizePartList &gt; should handle empty array" time="0.000049125">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="extractPartsFromUserMessage &gt; should return null for undefined message" time="0.000102708">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="extractPartsFromUserMessage &gt; should return null for null message" time="0.00004475">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="extractPartsFromUserMessage &gt; should extract string content" time="0.000113333">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="extractPartsFromUserMessage &gt; should extract text blocks from content array" time="0.000086167">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="extractPartsFromUserMessage &gt; should skip invalid blocks in content array" time="0.000066">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="extractPartsFromUserMessage &gt; should convert non-text blocks to JSON strings" time="0.000081709">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="extractPartsFromUserMessage &gt; should return null for empty content array" time="0.0000485">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="extractPartsFromUserMessage &gt; should return null when message has no content" time="0.00004825">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="extractUsageFromGeminiClient &gt; should return undefined for null client" time="0.000103833">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="extractUsageFromGeminiClient &gt; should return undefined for non-object client" time="0.000042">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="extractUsageFromGeminiClient &gt; should return undefined when getChat is not a function" time="0.000044208">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="extractUsageFromGeminiClient &gt; should return undefined when chat does not have getDebugResponses" time="0.000188125">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="extractUsageFromGeminiClient &gt; should extract usage from latest response with usageMetadata" time="0.000136583">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="extractUsageFromGeminiClient &gt; should return default values when metadata values are not numbers" time="0.000111792">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="extractUsageFromGeminiClient &gt; should handle errors gracefully" time="0.000527">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="extractUsageFromGeminiClient &gt; should skip responses without usageMetadata" time="0.000172542">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="computeUsageFromMetrics &gt; should compute usage from SessionMetrics with single model" time="0.000156833">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="computeUsageFromMetrics &gt; should aggregate usage across multiple models" time="0.00008825">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="computeUsageFromMetrics &gt; should not include total_tokens when it is 0" time="0.001580167">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="computeUsageFromMetrics &gt; should handle empty models" time="0.0001085">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="buildSystemMessage &gt; should build system message with all fields" time="0.001022708">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="buildSystemMessage &gt; should handle empty tool registry" time="0.000272083">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="buildSystemMessage &gt; should handle empty MCP servers" time="0.00022325">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="buildSystemMessage &gt; should use unknown version when getCliVersion returns null" time="0.0002195">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="createTaskToolProgressHandler &gt; should create handler that processes task tool calls" time="0.001679542">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="createTaskToolProgressHandler &gt; should emit tool_result when tool call completes" time="0.00035025">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="createTaskToolProgressHandler &gt; should not duplicate tool_use emissions" time="0.000193375">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="createTaskToolProgressHandler &gt; should not duplicate tool_result emissions" time="0.000141917">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="createTaskToolProgressHandler &gt; should handle status transitions from executing to completed" time="0.000159917">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="createTaskToolProgressHandler &gt; should emit error result for failed task status" time="0.000255458">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="createTaskToolProgressHandler &gt; should emit error result for cancelled task status" time="0.000159292">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="createTaskToolProgressHandler &gt; should not process non-task-execution displays" time="0.0001665">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="createTaskToolProgressHandler &gt; should handle tool calls with failed status" time="0.000392083">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="createTaskToolProgressHandler &gt; should handle tool calls without result content" time="0.000162375">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="createTaskToolProgressHandler &gt; should work without adapter (non-JSON mode)" time="0.000531042">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="createTaskToolProgressHandler &gt; should work with adapter that does not support subagent APIs" time="0.000222708">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="functionResponsePartsToString &gt; should extract output from functionResponse parts" time="0.000099042">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="functionResponsePartsToString &gt; should handle multiple functionResponse parts" time="0.000050416">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="functionResponsePartsToString &gt; should return empty string for missing output" time="0.000047542">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="functionResponsePartsToString &gt; should JSON.stringify non-functionResponse parts" time="0.0001305">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="functionResponsePartsToString &gt; should handle empty array" time="0.000045083">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="functionResponsePartsToString &gt; should handle functionResponse with null response" time="0.000042583">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="toolResultContent &gt; should return resultDisplay string when available" time="0.000079292">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="toolResultContent &gt; should return undefined for empty resultDisplay string" time="0.000046958">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="toolResultContent &gt; should use functionResponsePartsToString for responseParts" time="0.000047958">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="toolResultContent &gt; should return error message when error is present" time="0.00005525">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="toolResultContent &gt; should prefer resultDisplay over responseParts" time="0.000044">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="toolResultContent &gt; should prefer responseParts over error" time="0.000052208">
        </testcase>
        <testcase classname="src/utils/nonInteractiveHelpers.test.ts" name="toolResultContent &gt; should return undefined when no content is available" time="0.000041417">
        </testcase>
    </testsuite>
    <testsuite name="src/utils/processUtils.test.ts" timestamp="2025-11-26T16:27:33.696Z" hostname="MacBook-Pro-6.local" tests="1" failures="0" errors="0" skipped="0" time="0.00253075">
        <testcase classname="src/utils/processUtils.test.ts" name="processUtils &gt; should run cleanup and exit with the relaunch code" time="0.001737042">
        </testcase>
    </testsuite>
    <testsuite name="src/utils/readStdin.test.ts" timestamp="2025-11-26T16:27:33.697Z" hostname="MacBook-Pro-6.local" tests="4" failures="0" errors="0" skipped="0" time="0.004883208">
        <testcase classname="src/utils/readStdin.test.ts" name="readStdin &gt; should read and accumulate data from stdin" time="0.001977042">
        </testcase>
        <testcase classname="src/utils/readStdin.test.ts" name="readStdin &gt; should handle empty stdin input" time="0.000166083">
        </testcase>
        <testcase classname="src/utils/readStdin.test.ts" name="readStdin &gt; should timeout and resolve with empty string when no input is available" time="0.001495875">
        </testcase>
        <testcase classname="src/utils/readStdin.test.ts" name="readStdin &gt; should clear timeout once when data is received and resolve with data" time="0.000312833">
        </testcase>
    </testsuite>
    <testsuite name="src/utils/relaunch.test.ts" timestamp="2025-11-26T16:27:33.697Z" hostname="MacBook-Pro-6.local" tests="8" failures="0" errors="0" skipped="0" time="0.008174542">
        <testcase classname="src/utils/relaunch.test.ts" name="relaunchOnExitCode &gt; should exit with non-RELAUNCH_EXIT_CODE" time="0.0039305">
        </testcase>
        <testcase classname="src/utils/relaunch.test.ts" name="relaunchOnExitCode &gt; should continue running when RELAUNCH_EXIT_CODE is returned" time="0.000349708">
        </testcase>
        <testcase classname="src/utils/relaunch.test.ts" name="relaunchOnExitCode &gt; should handle runner errors" time="0.000703917">
        </testcase>
        <testcase classname="src/utils/relaunch.test.ts" name="relaunchAppInChildProcess &gt; when GEMINI_CLI_NO_RELAUNCH is set &gt; should return early without spawning a child process" time="0.000305458">
        </testcase>
        <testcase classname="src/utils/relaunch.test.ts" name="relaunchAppInChildProcess &gt; when GEMINI_CLI_NO_RELAUNCH is not set &gt; should construct correct node arguments from execArgv, additionalNodeArgs, script, additionalScriptArgs, and argv" time="0.00026325">
        </testcase>
        <testcase classname="src/utils/relaunch.test.ts" name="relaunchAppInChildProcess &gt; when GEMINI_CLI_NO_RELAUNCH is not set &gt; should handle empty additional arguments correctly" time="0.000143666">
        </testcase>
        <testcase classname="src/utils/relaunch.test.ts" name="relaunchAppInChildProcess &gt; when GEMINI_CLI_NO_RELAUNCH is not set &gt; should handle complex argument patterns" time="0.000151959">
        </testcase>
        <testcase classname="src/utils/relaunch.test.ts" name="relaunchAppInChildProcess &gt; when GEMINI_CLI_NO_RELAUNCH is not set &gt; should handle null exit code from child process" time="0.001200167">
        </testcase>
    </testsuite>
    <testsuite name="src/utils/settingsUtils.test.ts" timestamp="2025-11-26T16:27:33.698Z" hostname="MacBook-Pro-6.local" tests="73" failures="0" errors="0" skipped="0" time="0.015334542">
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Schema Utilities &gt; getSettingsByCategory &gt; should group settings by category" time="0.001301583">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Schema Utilities &gt; getSettingsByCategory &gt; should include key property in grouped settings" time="0.000272541">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Schema Utilities &gt; getSettingDefinition &gt; should return definition for valid setting" time="0.0001565">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Schema Utilities &gt; getSettingDefinition &gt; should return undefined for invalid setting" time="0.000079875">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Schema Utilities &gt; requiresRestart &gt; should return true for settings that require restart" time="0.000076125">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Schema Utilities &gt; requiresRestart &gt; should return false for settings that do not require restart" time="0.000061666">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Schema Utilities &gt; requiresRestart &gt; should return false for invalid settings" time="0.000057167">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Schema Utilities &gt; getDefaultValue &gt; should return correct default values" time="0.000084958">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Schema Utilities &gt; getDefaultValue &gt; should return undefined for invalid settings" time="0.000076667">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Schema Utilities &gt; getRestartRequiredSettings &gt; should return all settings that require restart" time="0.000630667">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Schema Utilities &gt; getEffectiveValue &gt; should return value from settings when set" time="0.00014175">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Schema Utilities &gt; getEffectiveValue &gt; should return value from merged settings when not set in current scope" time="0.000070209">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Schema Utilities &gt; getEffectiveValue &gt; should return default value when not set anywhere" time="0.000062916">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Schema Utilities &gt; getEffectiveValue &gt; should handle nested settings correctly" time="0.000069">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Schema Utilities &gt; getEffectiveValue &gt; should return undefined for invalid settings" time="0.000059084">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Schema Utilities &gt; getAllSettingKeys &gt; should return all setting keys" time="0.000125208">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Schema Utilities &gt; getSettingsByType &gt; should return only boolean settings" time="0.000146041">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Schema Utilities &gt; getSettingsRequiringRestart &gt; should return only settings that require restart" time="0.00016025">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Schema Utilities &gt; isValidSettingKey &gt; should return true for valid setting keys" time="0.000079834">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Schema Utilities &gt; isValidSettingKey &gt; should return false for invalid setting keys" time="0.000068334">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Schema Utilities &gt; getSettingCategory &gt; should return correct category for valid settings" time="0.000080292">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Schema Utilities &gt; getSettingCategory &gt; should return undefined for invalid settings" time="0.000065583">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Schema Utilities &gt; shouldShowInDialog &gt; should return true for settings marked to show in dialog" time="0.000096791">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Schema Utilities &gt; shouldShowInDialog &gt; should return false for settings marked to hide from dialog" time="0.001554291">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Schema Utilities &gt; shouldShowInDialog &gt; should return true for invalid settings (default behavior)" time="0.000096458">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Schema Utilities &gt; getDialogSettingsByCategory &gt; should only return settings marked for dialog display" time="0.002059667">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Schema Utilities &gt; getDialogSettingsByCategory &gt; should not include Advanced category settings" time="0.00014525">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Schema Utilities &gt; getDialogSettingsByCategory &gt; should include settings with showInDialog=true" time="0.000208625">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Schema Utilities &gt; getDialogSettingsByType &gt; should return only boolean dialog settings" time="0.000227667">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Schema Utilities &gt; getDialogSettingsByType &gt; should return only string dialog settings" time="0.000223583">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Schema Utilities &gt; getDialogSettingKeys &gt; should return only settings marked for dialog display" time="0.000147917">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Schema Utilities &gt; getDialogSettingKeys &gt; should return fewer keys than getAllSettingKeys" time="0.000103541">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Schema Utilities &gt; getDialogSettingKeys &gt; should handle nested settings display correctly" time="0.000340541">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Business Logic Utilities &gt; getSettingValue &gt; should return value from settings when set" time="0.000084917">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Business Logic Utilities &gt; getSettingValue &gt; should return value from merged settings when not set in current scope" time="0.000141125">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Business Logic Utilities &gt; getSettingValue &gt; should return default value for invalid setting" time="0.000087041">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Business Logic Utilities &gt; isSettingModified &gt; should return true when value differs from default" time="0.000128667">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Business Logic Utilities &gt; isSettingModified &gt; should return false when value matches default" time="0.000072625">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Business Logic Utilities &gt; settingExistsInScope &gt; should return true for top-level settings that exist" time="0.000070334">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Business Logic Utilities &gt; settingExistsInScope &gt; should return false for top-level settings that do not exist" time="0.000053125">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Business Logic Utilities &gt; settingExistsInScope &gt; should return true for nested settings that exist" time="0.000633292">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Business Logic Utilities &gt; settingExistsInScope &gt; should return false for nested settings that do not exist" time="0.000215292">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Business Logic Utilities &gt; settingExistsInScope &gt; should return false when parent exists but child does not" time="0.000074542">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Business Logic Utilities &gt; setPendingSettingValue &gt; should set top-level setting value" time="0.000083375">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Business Logic Utilities &gt; setPendingSettingValue &gt; should set nested setting value" time="0.000069959">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Business Logic Utilities &gt; setPendingSettingValue &gt; should preserve existing nested settings" time="0.000065667">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Business Logic Utilities &gt; setPendingSettingValue &gt; should not mutate original settings" time="0.000439458">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Business Logic Utilities &gt; hasRestartRequiredSettings &gt; should return true when modified settings require restart" time="0.000104083">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Business Logic Utilities &gt; hasRestartRequiredSettings &gt; should return false when no modified settings require restart" time="0.000062542">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Business Logic Utilities &gt; hasRestartRequiredSettings &gt; should return false for empty set" time="0.000051541">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Business Logic Utilities &gt; getRestartRequiredFromModified &gt; should return only settings that require restart" time="0.000140125">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Business Logic Utilities &gt; getRestartRequiredFromModified &gt; should return empty array when no settings require restart" time="0.00007825">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Business Logic Utilities &gt; getDisplayValue &gt; enum behavior &gt; handles display of number-based enums" time="0.000360417">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Business Logic Utilities &gt; getDisplayValue &gt; enum behavior &gt; handles default values for number-based enums" time="0.000088541">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Business Logic Utilities &gt; getDisplayValue &gt; enum behavior &gt; shows the enum display value" time="0.000250792">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Business Logic Utilities &gt; getDisplayValue &gt; enum behavior &gt; passes through unknown values verbatim" time="0.000098292">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Business Logic Utilities &gt; getDisplayValue &gt; enum behavior &gt; shows the default value for string enums" time="0.000081958">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Business Logic Utilities &gt; getDisplayValue &gt; should show value without * when setting matches default" time="0.0001655">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Business Logic Utilities &gt; getDisplayValue &gt; should show default value when setting is not in scope" time="0.000076292">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Business Logic Utilities &gt; getDisplayValue &gt; should show value with * when changed from default" time="0.000067958">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Business Logic Utilities &gt; getDisplayValue &gt; should show default value without * when setting does not exist in scope" time="0.000061208">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Business Logic Utilities &gt; getDisplayValue &gt; should show value with * when user changes from default" time="0.000071666">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Business Logic Utilities &gt; isDefaultValue &gt; should return true when setting does not exist in scope" time="0.000070542">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Business Logic Utilities &gt; isDefaultValue &gt; should return false when setting exists in scope" time="0.000051708">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Business Logic Utilities &gt; isDefaultValue &gt; should return true when nested setting does not exist in scope" time="0.000048625">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Business Logic Utilities &gt; isDefaultValue &gt; should return false when nested setting exists in scope" time="0.000052375">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Business Logic Utilities &gt; isValueInherited &gt; should return false for top-level settings that exist in scope" time="0.000065834">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Business Logic Utilities &gt; isValueInherited &gt; should return true for top-level settings that do not exist in scope" time="0.000049375">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Business Logic Utilities &gt; isValueInherited &gt; should return false for nested settings that exist in scope" time="0.0000525">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Business Logic Utilities &gt; isValueInherited &gt; should return true for nested settings that do not exist in scope" time="0.000049833">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Business Logic Utilities &gt; getEffectiveDisplayValue &gt; should return value from settings when available" time="0.000069209">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Business Logic Utilities &gt; getEffectiveDisplayValue &gt; should return value from merged settings when not in scope" time="0.000055875">
        </testcase>
        <testcase classname="src/utils/settingsUtils.test.ts" name="SettingsUtils &gt; Business Logic Utilities &gt; getEffectiveDisplayValue &gt; should return default value for undefined values" time="0.000057583">
        </testcase>
    </testsuite>
    <testsuite name="src/utils/startupWarnings.test.ts" timestamp="2025-11-26T16:27:33.707Z" hostname="MacBook-Pro-6.local" tests="4" failures="0" errors="0" skipped="0" time="0.002867917">
        <testcase classname="src/utils/startupWarnings.test.ts" name="startupWarnings &gt; should return warnings from the file and delete it" time="0.001617583">
        </testcase>
        <testcase classname="src/utils/startupWarnings.test.ts" name="startupWarnings &gt; should return an empty array if the file does not exist" time="0.000256666">
        </testcase>
        <testcase classname="src/utils/startupWarnings.test.ts" name="startupWarnings &gt; should return an error message if reading the file fails" time="0.000125291">
        </testcase>
        <testcase classname="src/utils/startupWarnings.test.ts" name="startupWarnings &gt; should return a warning if deleting the file fails" time="0.000103333">
        </testcase>
    </testsuite>
    <testsuite name="src/utils/systemInfo.test.ts" timestamp="2025-11-26T16:27:33.708Z" hostname="MacBook-Pro-6.local" tests="15" failures="0" errors="0" skipped="0" time="0.008952">
        <testcase classname="src/utils/systemInfo.test.ts" name="systemInfo &gt; getNpmVersion &gt; should return npm version when available" time="0.001678084">
        </testcase>
        <testcase classname="src/utils/systemInfo.test.ts" name="systemInfo &gt; getNpmVersion &gt; should return unknown when npm command fails" time="0.000399625">
        </testcase>
        <testcase classname="src/utils/systemInfo.test.ts" name="systemInfo &gt; getSandboxEnv &gt; should return &quot;no sandbox&quot; when SANDBOX is not set" time="0.000457625">
        </testcase>
        <testcase classname="src/utils/systemInfo.test.ts" name="systemInfo &gt; getSandboxEnv &gt; should return sandbox-exec info when SANDBOX is sandbox-exec" time="0.000322083">
        </testcase>
        <testcase classname="src/utils/systemInfo.test.ts" name="systemInfo &gt; getSandboxEnv &gt; should return sandbox name without prefix when stripPrefix is true" time="0.000342041">
        </testcase>
        <testcase classname="src/utils/systemInfo.test.ts" name="systemInfo &gt; getSandboxEnv &gt; should return sandbox name with prefix when stripPrefix is false" time="0.000301667">
        </testcase>
        <testcase classname="src/utils/systemInfo.test.ts" name="systemInfo &gt; getSandboxEnv &gt; should handle qwen- prefix removal" time="0.000306083">
        </testcase>
        <testcase classname="src/utils/systemInfo.test.ts" name="systemInfo &gt; getIdeClientName &gt; should return IDE client name when IDE mode is enabled" time="0.0004365">
        </testcase>
        <testcase classname="src/utils/systemInfo.test.ts" name="systemInfo &gt; getIdeClientName &gt; should return empty string when IDE mode is disabled" time="0.000313625">
        </testcase>
        <testcase classname="src/utils/systemInfo.test.ts" name="systemInfo &gt; getIdeClientName &gt; should return empty string when IDE client detection fails" time="0.000578875">
        </testcase>
        <testcase classname="src/utils/systemInfo.test.ts" name="systemInfo &gt; getSystemInfo &gt; should collect all system information" time="0.000848583">
        </testcase>
        <testcase classname="src/utils/systemInfo.test.ts" name="systemInfo &gt; getSystemInfo &gt; should handle missing config gracefully" time="0.0003645">
        </testcase>
        <testcase classname="src/utils/systemInfo.test.ts" name="systemInfo &gt; getExtendedSystemInfo &gt; should include memory usage and base URL" time="0.000734458">
        </testcase>
        <testcase classname="src/utils/systemInfo.test.ts" name="systemInfo &gt; getExtendedSystemInfo &gt; should use sandbox env without prefix for bug reports" time="0.000426042">
        </testcase>
        <testcase classname="src/utils/systemInfo.test.ts" name="systemInfo &gt; getExtendedSystemInfo &gt; should not include base URL for non-OpenAI auth" time="0.000398625">
        </testcase>
    </testsuite>
    <testsuite name="src/utils/userStartupWarnings.test.ts" timestamp="2025-11-26T16:27:33.709Z" hostname="MacBook-Pro-6.local" tests="5" failures="0" errors="0" skipped="0" time="0.081968959">
        <testcase classname="src/utils/userStartupWarnings.test.ts" name="getUserStartupWarnings &gt; home directory check &gt; should return a warning when running in home directory" time="0.068922791">
        </testcase>
        <testcase classname="src/utils/userStartupWarnings.test.ts" name="getUserStartupWarnings &gt; home directory check &gt; should not return a warning when running in a project directory" time="0.003667125">
        </testcase>
        <testcase classname="src/utils/userStartupWarnings.test.ts" name="getUserStartupWarnings &gt; root directory check &gt; should return a warning when running in a root directory" time="0.003535125">
        </testcase>
        <testcase classname="src/utils/userStartupWarnings.test.ts" name="getUserStartupWarnings &gt; root directory check &gt; should not return a warning when running in a non-root directory" time="0.002938584">
        </testcase>
        <testcase classname="src/utils/userStartupWarnings.test.ts" name="getUserStartupWarnings &gt; error handling &gt; should handle errors when checking directory" time="0.001992">
        </testcase>
    </testsuite>
    <testsuite name="src/utils/windowTitle.test.ts" timestamp="2025-11-26T16:27:33.709Z" hostname="MacBook-Pro-6.local" tests="7" failures="0" errors="0" skipped="0" time="0.008238583">
        <testcase classname="src/utils/windowTitle.test.ts" name="computeWindowTitle &gt; should use default Qwen title when CLI_TITLE is not set" time="0.002090916">
        </testcase>
        <testcase classname="src/utils/windowTitle.test.ts" name="computeWindowTitle &gt; should use CLI_TITLE environment variable when set" time="0.002871042">
        </testcase>
        <testcase classname="src/utils/windowTitle.test.ts" name="computeWindowTitle &gt; should remove control characters from title" time="0.000149834">
        </testcase>
        <testcase classname="src/utils/windowTitle.test.ts" name="computeWindowTitle &gt; should handle folder names with control characters" time="0.000067667">
        </testcase>
        <testcase classname="src/utils/windowTitle.test.ts" name="computeWindowTitle &gt; should handle empty folder name" time="0.000057">
        </testcase>
        <testcase classname="src/utils/windowTitle.test.ts" name="computeWindowTitle &gt; should handle folder names with spaces" time="0.000054209">
        </testcase>
        <testcase classname="src/utils/windowTitle.test.ts" name="computeWindowTitle &gt; should handle folder names with special characters" time="0.000050209">
        </testcase>
    </testsuite>
    <testsuite name="src/commands/mcp/add.test.ts" timestamp="2025-11-26T16:27:33.710Z" hostname="MacBook-Pro-6.local" tests="17" failures="0" errors="0" skipped="0" time="0.146676167">
        <testcase classname="src/commands/mcp/add.test.ts" name="mcp add command &gt; should add a stdio server to project settings" time="0.022368583">
            <system-out>
MCP server &quot;my-server&quot; added to project settings. (stdio)

            </system-out>
        </testcase>
        <testcase classname="src/commands/mcp/add.test.ts" name="mcp add command &gt; should add an sse server to user settings" time="0.002730791">
            <system-out>
MCP server &quot;sse-server&quot; added to user settings. (sse)

            </system-out>
        </testcase>
        <testcase classname="src/commands/mcp/add.test.ts" name="mcp add command &gt; should add an http server to project settings" time="0.00212725">
            <system-out>
MCP server &quot;http-server&quot; added to project settings. (http)

            </system-out>
        </testcase>
        <testcase classname="src/commands/mcp/add.test.ts" name="mcp add command &gt; should handle MCP server args with -- separator" time="0.001845916">
            <system-out>
MCP server &quot;my-server&quot; added to project settings. (stdio)

            </system-out>
        </testcase>
        <testcase classname="src/commands/mcp/add.test.ts" name="mcp add command &gt; should handle unknown options as MCP server args" time="0.002049">
            <system-out>
MCP server &quot;test-server&quot; added to project settings. (stdio)

            </system-out>
        </testcase>
        <testcase classname="src/commands/mcp/add.test.ts" name="mcp add command &gt; when handling scope and directory &gt; when in a project directory &gt; should use project scope by default" time="0.002369708">
            <system-out>
MCP server &quot;test-server&quot; added to project settings. (stdio)

            </system-out>
        </testcase>
        <testcase classname="src/commands/mcp/add.test.ts" name="mcp add command &gt; when handling scope and directory &gt; when in a project directory &gt; should use project scope when --scope=project is used" time="0.004392958">
            <system-out>
MCP server &quot;test-server&quot; added to project settings. (stdio)

            </system-out>
        </testcase>
        <testcase classname="src/commands/mcp/add.test.ts" name="mcp add command &gt; when handling scope and directory &gt; when in a project directory &gt; should use user scope when --scope=user is used" time="0.001906667">
            <system-out>
MCP server &quot;test-server&quot; added to user settings. (stdio)

            </system-out>
        </testcase>
        <testcase classname="src/commands/mcp/add.test.ts" name="mcp add command &gt; when handling scope and directory &gt; when in a subdirectory of a project &gt; should use project scope by default" time="0.002772167">
            <system-out>
MCP server &quot;test-server&quot; added to project settings. (stdio)

            </system-out>
        </testcase>
        <testcase classname="src/commands/mcp/add.test.ts" name="mcp add command &gt; when handling scope and directory &gt; when in the home directory &gt; should show an error by default" time="0.004396042">
        </testcase>
        <testcase classname="src/commands/mcp/add.test.ts" name="mcp add command &gt; when handling scope and directory &gt; when in the home directory &gt; should show an error when --scope=project is used explicitly" time="0.002273625">
        </testcase>
        <testcase classname="src/commands/mcp/add.test.ts" name="mcp add command &gt; when handling scope and directory &gt; when in the home directory &gt; should use user scope when --scope=user is used" time="0.002026875">
            <system-out>
MCP server &quot;test-server&quot; added to user settings. (stdio)

            </system-out>
        </testcase>
        <testcase classname="src/commands/mcp/add.test.ts" name="mcp add command &gt; when handling scope and directory &gt; when in a subdirectory of home (not a project) &gt; should use project scope by default" time="0.002823625">
            <system-out>
MCP server &quot;test-server&quot; added to project settings. (stdio)

            </system-out>
        </testcase>
        <testcase classname="src/commands/mcp/add.test.ts" name="mcp add command &gt; when handling scope and directory &gt; when in a subdirectory of home (not a project) &gt; should write to the WORKSPACE scope, not the USER scope" time="0.001893625">
            <system-out>
MCP server &quot;my-new-server&quot; added to project settings. (stdio)

            </system-out>
        </testcase>
        <testcase classname="src/commands/mcp/add.test.ts" name="mcp add command &gt; when handling scope and directory &gt; when outside of home (not a project) &gt; should use project scope by default" time="0.077674375">
            <system-out>
MCP server &quot;test-server&quot; added to project settings. (stdio)

            </system-out>
        </testcase>
        <testcase classname="src/commands/mcp/add.test.ts" name="mcp add command &gt; when updating an existing server &gt; should update the existing server in the project scope" time="0.003784542">
            <system-out>
MCP server &quot;existing-server&quot; is already configured within project settings.
MCP server &quot;existing-server&quot; updated in project settings.

            </system-out>
        </testcase>
        <testcase classname="src/commands/mcp/add.test.ts" name="mcp add command &gt; when updating an existing server &gt; should update the existing server in the user scope" time="0.008152291">
            <system-out>
MCP server &quot;existing-server&quot; is already configured within user settings.
MCP server &quot;existing-server&quot; updated in user settings.

            </system-out>
        </testcase>
    </testsuite>
    <testsuite name="src/commands/mcp/list.test.ts" timestamp="2025-11-26T16:27:33.712Z" hostname="MacBook-Pro-6.local" tests="4" failures="0" errors="0" skipped="0" time="0.00455925">
        <testcase classname="src/commands/mcp/list.test.ts" name="mcp list command &gt; should display message when no servers configured" time="0.001992625">
        </testcase>
        <testcase classname="src/commands/mcp/list.test.ts" name="mcp list command &gt; should display different server types with connected status" time="0.001208166">
        </testcase>
        <testcase classname="src/commands/mcp/list.test.ts" name="mcp list command &gt; should display disconnected status when connection fails" time="0.00037025">
        </testcase>
        <testcase classname="src/commands/mcp/list.test.ts" name="mcp list command &gt; should merge extension servers with config servers" time="0.000298917">
        </testcase>
    </testsuite>
    <testsuite name="src/commands/mcp/remove.test.ts" timestamp="2025-11-26T16:27:33.712Z" hostname="MacBook-Pro-6.local" tests="2" failures="0" errors="0" skipped="0" time="0.013421709">
        <testcase classname="src/commands/mcp/remove.test.ts" name="mcp remove command &gt; should remove a server from project settings" time="0.010925541">
            <system-out>
Server &quot;test-server&quot; removed from project settings.

            </system-out>
        </testcase>
        <testcase classname="src/commands/mcp/remove.test.ts" name="mcp remove command &gt; should show a message if server not found" time="0.00170925">
        </testcase>
    </testsuite>
    <testsuite name="src/config/extensions/extensionEnablement.test.ts" timestamp="2025-11-26T16:27:33.712Z" hostname="MacBook-Pro-6.local" tests="43" failures="0" errors="0" skipped="0" time="0.029819291">
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="ExtensionEnablementManager &gt; isEnabled &gt; should return true if extension is not configured" time="0.0027985">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="ExtensionEnablementManager &gt; isEnabled &gt; should return true if no overrides match" time="0.001931916">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="ExtensionEnablementManager &gt; isEnabled &gt; should enable a path based on an override rule" time="0.001289042">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="ExtensionEnablementManager &gt; isEnabled &gt; should disable a path based on a disable override rule" time="0.000927125">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="ExtensionEnablementManager &gt; isEnabled &gt; should respect the last matching rule (enable wins)" time="0.000844291">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="ExtensionEnablementManager &gt; isEnabled &gt; should respect the last matching rule (disable wins)" time="0.000807583">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="ExtensionEnablementManager &gt; isEnabled &gt; should handle" time="0.000769334">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="ExtensionEnablementManager &gt; includeSubdirs &gt; should add a glob when enabling with includeSubdirs" time="0.001065042">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="ExtensionEnablementManager &gt; includeSubdirs &gt; should not add a glob when enabling without includeSubdirs" time="0.000800917">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="ExtensionEnablementManager &gt; includeSubdirs &gt; should add a glob when disabling with includeSubdirs" time="0.000719708">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="ExtensionEnablementManager &gt; includeSubdirs &gt; should remove conflicting glob rule when enabling without subdirs" time="0.001005875">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="ExtensionEnablementManager &gt; includeSubdirs &gt; should remove conflicting non-glob rule when enabling with subdirs" time="0.000885625">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="ExtensionEnablementManager &gt; includeSubdirs &gt; should remove conflicting rules when disabling" time="0.000710209">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="ExtensionEnablementManager &gt; includeSubdirs &gt; should correctly evaluate isEnabled with subdirs" time="0.000803542">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="ExtensionEnablementManager &gt; includeSubdirs &gt; should correctly evaluate isEnabled without subdirs" time="0.000695083">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="ExtensionEnablementManager &gt; pruning child rules &gt; should remove child rules when enabling a parent with subdirs" time="0.001116791">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="ExtensionEnablementManager &gt; pruning child rules &gt; should remove child rules when disabling a parent with subdirs" time="0.001938208">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="ExtensionEnablementManager &gt; pruning child rules &gt; should not remove child rules if includeSubdirs is false" time="0.000949583">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="ExtensionEnablementManager &gt; should enable a path based on an enable override" time="0.000995333">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="ExtensionEnablementManager &gt; should ignore subdirs" time="0.000636541">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="ExtensionEnablementManager &gt; extension overrides (-e &lt;name&gt;) &gt; can enable extensions, case-insensitive" time="0.000587334">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="ExtensionEnablementManager &gt; extension overrides (-e &lt;name&gt;) &gt; disable all other extensions" time="0.000504042">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="ExtensionEnablementManager &gt; extension overrides (-e &lt;name&gt;) &gt; none disables all extensions" time="0.000514625">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="ExtensionEnablementManager &gt; validateExtensionOverrides &gt; should not log an error if enabledExtensionNamesOverride is empty" time="0.001006917">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="ExtensionEnablementManager &gt; validateExtensionOverrides &gt; should not log an error if all enabledExtensionNamesOverride are valid" time="0.000249542">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="ExtensionEnablementManager &gt; validateExtensionOverrides &gt; should log an error for each invalid extension name in enabledExtensionNamesOverride" time="0.000899125">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="ExtensionEnablementManager &gt; validateExtensionOverrides &gt; should not log an error if &quot;none&quot; is in enabledExtensionNamesOverride" time="0.000221583">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="Override &gt; should create an override from input" time="0.000089583">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="Override &gt; should create a disable override from input" time="0.000066083">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="Override &gt; should create an override from a file rule" time="0.000060708">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="Override &gt; should create a disable override from a file rule" time="0.000059958">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="Override &gt; should create an override with subdirs from a file rule" time="0.000057583">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="Override &gt; should correctly identify conflicting overrides" time="0.000044625">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="Override &gt; should correctly identify non-conflicting overrides" time="0.000040542">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="Override &gt; should correctly identify equal overrides" time="0.0000415">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="Override &gt; should correctly identify unequal overrides" time="0.000041083">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="Override &gt; should generate the correct regex" time="0.000071292">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="Override &gt; should correctly identify child overrides" time="0.000044">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="Override &gt; should correctly identify child overrides with glob" time="0.000083458">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="Override &gt; should correctly identify non-child overrides" time="0.000043208">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="Override &gt; should generate the correct output string" time="0.000039042">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="Override &gt; should generate the correct output string for a disable override" time="0.000175792">
        </testcase>
        <testcase classname="src/config/extensions/extensionEnablement.test.ts" name="Override &gt; should disable a path based on a disable override rule" time="0.000069541">
        </testcase>
    </testsuite>
    <testsuite name="src/config/extensions/github.test.ts" timestamp="2025-11-26T16:27:33.715Z" hostname="MacBook-Pro-6.local" tests="25" failures="0" errors="0" skipped="0" time="0.097877791">
        <testcase classname="src/config/extensions/github.test.ts" name="git extension helpers &gt; cloneFromGit &gt; should clone, fetch and checkout a repo" time="0.003447417">
        </testcase>
        <testcase classname="src/config/extensions/github.test.ts" name="git extension helpers &gt; cloneFromGit &gt; should use HEAD if ref is not provided" time="0.0001965">
        </testcase>
        <testcase classname="src/config/extensions/github.test.ts" name="git extension helpers &gt; cloneFromGit &gt; should throw if no remotes are found" time="0.00113425">
        </testcase>
        <testcase classname="src/config/extensions/github.test.ts" name="git extension helpers &gt; cloneFromGit &gt; should throw on clone error" time="0.000309125">
        </testcase>
        <testcase classname="src/config/extensions/github.test.ts" name="git extension helpers &gt; checkForExtensionUpdate &gt; should return NOT_UPDATABLE for non-git extensions" time="0.000357834">
        </testcase>
        <testcase classname="src/config/extensions/github.test.ts" name="git extension helpers &gt; checkForExtensionUpdate &gt; should return ERROR if no remotes found" time="0.001035958">
            <system-err>
No git remotes found.

            </system-err>
        </testcase>
        <testcase classname="src/config/extensions/github.test.ts" name="git extension helpers &gt; checkForExtensionUpdate &gt; should return UPDATE_AVAILABLE when remote hash is different" time="0.000158667">
        </testcase>
        <testcase classname="src/config/extensions/github.test.ts" name="git extension helpers &gt; checkForExtensionUpdate &gt; should return UP_TO_DATE when remote and local hashes are the same" time="0.000108625">
        </testcase>
        <testcase classname="src/config/extensions/github.test.ts" name="git extension helpers &gt; checkForExtensionUpdate &gt; should return ERROR on git error" time="0.000211125">
            <system-err>
Failed to check for updates for extension &quot;my/ext&quot;: git error

            </system-err>
        </testcase>
        <testcase classname="src/config/extensions/github.test.ts" name="git extension helpers &gt; findReleaseAsset &gt; should find asset matching platform and architecture" time="0.000257333">
        </testcase>
        <testcase classname="src/config/extensions/github.test.ts" name="git extension helpers &gt; findReleaseAsset &gt; should find asset matching platform if arch does not match" time="0.000091417">
        </testcase>
        <testcase classname="src/config/extensions/github.test.ts" name="git extension helpers &gt; findReleaseAsset &gt; should return undefined if no matching asset is found" time="0.000096125">
        </testcase>
        <testcase classname="src/config/extensions/github.test.ts" name="git extension helpers &gt; findReleaseAsset &gt; should find generic asset if it is the only one" time="0.000078">
        </testcase>
        <testcase classname="src/config/extensions/github.test.ts" name="git extension helpers &gt; findReleaseAsset &gt; should return undefined if multiple generic assets exist" time="0.000071125">
        </testcase>
        <testcase classname="src/config/extensions/github.test.ts" name="git extension helpers &gt; parseGitHubRepoForReleases &gt; should parse owner and repo from a full GitHub URL" time="0.00063175">
        </testcase>
        <testcase classname="src/config/extensions/github.test.ts" name="git extension helpers &gt; parseGitHubRepoForReleases &gt; should parse owner and repo from a full GitHub UR without .git" time="0.000377">
        </testcase>
        <testcase classname="src/config/extensions/github.test.ts" name="git extension helpers &gt; parseGitHubRepoForReleases &gt; should fail on a GitHub SSH URL" time="0.000349041">
        </testcase>
        <testcase classname="src/config/extensions/github.test.ts" name="git extension helpers &gt; parseGitHubRepoForReleases &gt; should fail on a non-GitHub URL" time="0.000267667">
        </testcase>
        <testcase classname="src/config/extensions/github.test.ts" name="git extension helpers &gt; parseGitHubRepoForReleases &gt; should parse owner and repo from a shorthand string" time="0.00017425">
        </testcase>
        <testcase classname="src/config/extensions/github.test.ts" name="git extension helpers &gt; parseGitHubRepoForReleases &gt; should handle .git suffix in repo name" time="0.000175083">
        </testcase>
        <testcase classname="src/config/extensions/github.test.ts" name="git extension helpers &gt; parseGitHubRepoForReleases &gt; should throw error for invalid source format" time="0.000204917">
        </testcase>
        <testcase classname="src/config/extensions/github.test.ts" name="git extension helpers &gt; parseGitHubRepoForReleases &gt; should throw error for source with too many parts" time="0.000247542">
        </testcase>
        <testcase classname="src/config/extensions/github.test.ts" name="git extension helpers &gt; extractFile &gt; should extract a .tar.gz file" time="0.0391685">
        </testcase>
        <testcase classname="src/config/extensions/github.test.ts" name="git extension helpers &gt; extractFile &gt; should extract a .zip file" time="0.043116375">
        </testcase>
        <testcase classname="src/config/extensions/github.test.ts" name="git extension helpers &gt; extractFile &gt; should throw an error for unsupported file types" time="0.004549875">
        </testcase>
    </testsuite>
    <testsuite name="src/config/extensions/update.test.ts" timestamp="2025-11-26T16:27:33.717Z" hostname="MacBook-Pro-6.local" tests="8" failures="0" errors="0" skipped="0" time="0.294421166">
        <testcase classname="src/config/extensions/update.test.ts" name="update tests &gt; updateExtension &gt; should update a git-installed extension" time="0.253195291">
        </testcase>
        <testcase classname="src/config/extensions/update.test.ts" name="update tests &gt; updateExtension &gt; should call setExtensionUpdateState with UPDATING and then UPDATED_NEEDS_RESTART on success" time="0.019899625">
        </testcase>
        <testcase classname="src/config/extensions/update.test.ts" name="update tests &gt; updateExtension &gt; should call setExtensionUpdateState with ERROR on failure" time="0.010766291">
            <system-err>
Error updating extension, rolling back. Failed to clone Git repository from https://some.git/repo Git clone failed

            </system-err>
        </testcase>
        <testcase classname="src/config/extensions/update.test.ts" name="update tests &gt; checkForAllExtensionUpdates &gt; should return UpdateAvailable for a git extension with updates" time="0.001635333">
        </testcase>
        <testcase classname="src/config/extensions/update.test.ts" name="update tests &gt; checkForAllExtensionUpdates &gt; should return UpToDate for a git extension with no updates" time="0.001642042">
        </testcase>
        <testcase classname="src/config/extensions/update.test.ts" name="update tests &gt; checkForAllExtensionUpdates &gt; should return UpToDate for a local extension with no updates" time="0.001802791">
        </testcase>
        <testcase classname="src/config/extensions/update.test.ts" name="update tests &gt; checkForAllExtensionUpdates &gt; should return UpdateAvailable for a local extension with updates" time="0.002067542">
        </testcase>
        <testcase classname="src/config/extensions/update.test.ts" name="update tests &gt; checkForAllExtensionUpdates &gt; should return Error when git check fails" time="0.001504083">
            <system-err>
Failed to check for updates for extension &quot;https://some.git/repo&quot;: Git error

            </system-err>
        </testcase>
    </testsuite>
    <testsuite name="src/config/extensions/variables.test.ts" timestamp="2025-11-26T16:27:33.718Z" hostname="MacBook-Pro-6.local" tests="1" failures="0" errors="0" skipped="0" time="0.001657834">
        <testcase classname="src/config/extensions/variables.test.ts" name="hydrateString &gt; should replace a single variable" time="0.000932041">
        </testcase>
    </testsuite>
    <testsuite name="src/nonInteractive/control/ControlDispatcher.test.ts" timestamp="2025-11-26T16:27:33.718Z" hostname="MacBook-Pro-6.local" tests="29" failures="0" errors="0" skipped="0" time="0.022836084">
        <testcase classname="src/nonInteractive/control/ControlDispatcher.test.ts" name="ControlDispatcher &gt; constructor &gt; should initialize with context and create controllers" time="0.002891875">
        </testcase>
        <testcase classname="src/nonInteractive/control/ControlDispatcher.test.ts" name="ControlDispatcher &gt; constructor &gt; should listen to abort signal and shutdown when aborted" time="0.005382667">
        </testcase>
        <testcase classname="src/nonInteractive/control/ControlDispatcher.test.ts" name="ControlDispatcher &gt; dispatch &gt; should route initialize request to system controller" time="0.002236208">
        </testcase>
        <testcase classname="src/nonInteractive/control/ControlDispatcher.test.ts" name="ControlDispatcher &gt; dispatch &gt; should route interrupt request to system controller" time="0.00110725">
        </testcase>
        <testcase classname="src/nonInteractive/control/ControlDispatcher.test.ts" name="ControlDispatcher &gt; dispatch &gt; should route set_model request to system controller" time="0.000740708">
        </testcase>
        <testcase classname="src/nonInteractive/control/ControlDispatcher.test.ts" name="ControlDispatcher &gt; dispatch &gt; should route supported_commands request to system controller" time="0.000780167">
        </testcase>
        <testcase classname="src/nonInteractive/control/ControlDispatcher.test.ts" name="ControlDispatcher &gt; dispatch &gt; should send error response when controller throws error" time="0.000483042">
        </testcase>
        <testcase classname="src/nonInteractive/control/ControlDispatcher.test.ts" name="ControlDispatcher &gt; dispatch &gt; should handle non-Error thrown values" time="0.000233208">
        </testcase>
        <testcase classname="src/nonInteractive/control/ControlDispatcher.test.ts" name="ControlDispatcher &gt; dispatch &gt; should send error response for unknown request subtype" time="0.000211875">
        </testcase>
        <testcase classname="src/nonInteractive/control/ControlDispatcher.test.ts" name="ControlDispatcher &gt; handleControlResponse &gt; should resolve pending outgoing request on success response" time="0.00036425">
        </testcase>
        <testcase classname="src/nonInteractive/control/ControlDispatcher.test.ts" name="ControlDispatcher &gt; handleControlResponse &gt; should reject pending outgoing request on error response" time="0.0010815">
        </testcase>
        <testcase classname="src/nonInteractive/control/ControlDispatcher.test.ts" name="ControlDispatcher &gt; handleControlResponse &gt; should handle error object in error response" time="0.000359333">
        </testcase>
        <testcase classname="src/nonInteractive/control/ControlDispatcher.test.ts" name="ControlDispatcher &gt; handleControlResponse &gt; should handle response for non-existent pending request gracefully" time="0.000588417">
        </testcase>
        <testcase classname="src/nonInteractive/control/ControlDispatcher.test.ts" name="ControlDispatcher &gt; handleControlResponse &gt; should handle response for non-existent request in debug mode" time="0.000583">
        </testcase>
        <testcase classname="src/nonInteractive/control/ControlDispatcher.test.ts" name="ControlDispatcher &gt; sendControlRequest &gt; should delegate to system controller sendControlRequest" time="0.000419958">
        </testcase>
        <testcase classname="src/nonInteractive/control/ControlDispatcher.test.ts" name="ControlDispatcher &gt; handleCancel &gt; should cancel specific incoming request" time="0.000389084">
        </testcase>
        <testcase classname="src/nonInteractive/control/ControlDispatcher.test.ts" name="ControlDispatcher &gt; handleCancel &gt; should cancel all incoming requests when no requestId provided" time="0.000426708">
        </testcase>
        <testcase classname="src/nonInteractive/control/ControlDispatcher.test.ts" name="ControlDispatcher &gt; handleCancel &gt; should handle cancel of non-existent request gracefully" time="0.000245">
        </testcase>
        <testcase classname="src/nonInteractive/control/ControlDispatcher.test.ts" name="ControlDispatcher &gt; handleCancel &gt; should log cancellation in debug mode" time="0.000289125">
        </testcase>
        <testcase classname="src/nonInteractive/control/ControlDispatcher.test.ts" name="ControlDispatcher &gt; shutdown &gt; should cancel all pending incoming requests" time="0.000849416">
        </testcase>
        <testcase classname="src/nonInteractive/control/ControlDispatcher.test.ts" name="ControlDispatcher &gt; shutdown &gt; should reject all pending outgoing requests" time="0.000481792">
        </testcase>
        <testcase classname="src/nonInteractive/control/ControlDispatcher.test.ts" name="ControlDispatcher &gt; shutdown &gt; should cleanup all controllers" time="0.000163834">
        </testcase>
        <testcase classname="src/nonInteractive/control/ControlDispatcher.test.ts" name="ControlDispatcher &gt; shutdown &gt; should log shutdown in debug mode" time="0.000202167">
        </testcase>
        <testcase classname="src/nonInteractive/control/ControlDispatcher.test.ts" name="ControlDispatcher &gt; pending request registry &gt; registerIncomingRequest &gt; should register incoming request" time="0.000218333">
        </testcase>
        <testcase classname="src/nonInteractive/control/ControlDispatcher.test.ts" name="ControlDispatcher &gt; pending request registry &gt; deregisterIncomingRequest &gt; should deregister incoming request" time="0.000243167">
        </testcase>
        <testcase classname="src/nonInteractive/control/ControlDispatcher.test.ts" name="ControlDispatcher &gt; pending request registry &gt; deregisterIncomingRequest &gt; should handle deregister of non-existent request gracefully" time="0.000180291">
        </testcase>
        <testcase classname="src/nonInteractive/control/ControlDispatcher.test.ts" name="ControlDispatcher &gt; pending request registry &gt; registerOutgoingRequest &gt; should register outgoing request" time="0.000183542">
        </testcase>
        <testcase classname="src/nonInteractive/control/ControlDispatcher.test.ts" name="ControlDispatcher &gt; pending request registry &gt; deregisterOutgoingRequest &gt; should deregister outgoing request" time="0.000226916">
        </testcase>
        <testcase classname="src/nonInteractive/control/ControlDispatcher.test.ts" name="ControlDispatcher &gt; pending request registry &gt; deregisterOutgoingRequest &gt; should handle deregister of non-existent request gracefully" time="0.000178625">
        </testcase>
    </testsuite>
    <testsuite name="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" timestamp="2025-11-26T16:27:33.720Z" hostname="MacBook-Pro-6.local" tests="89" failures="0" errors="0" skipped="0" time="0.021639875">
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; createMessageState &gt; should create a new message state with default values" time="0.002150333">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; getMessageState &gt; should return main agent state for null parentToolUseId" time="0.000165">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; getMessageState &gt; should create and return subagent state for non-null parentToolUseId" time="0.000296334">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; getMessageState &gt; should create separate states for different parentToolUseIds" time="0.000133917">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; createUsage &gt; should create usage with default values when metadata is not provided" time="0.000105125">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; createUsage &gt; should create usage with null metadata" time="0.000088375">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; createUsage &gt; should extract usage from metadata" time="0.000242125">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; createUsage &gt; should handle partial metadata" time="0.000090708">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; buildMessage &gt; should throw error if message not started" time="0.000642083">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; buildMessage &gt; should build message with text blocks" time="0.001261084">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; buildMessage &gt; should set stop_reason to tool_use when message contains only tool_use blocks" time="0.000223459">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; buildMessage &gt; should enforce single block type constraint" time="0.000151">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; finalizePendingBlocks &gt; should finalize text blocks" time="0.000104542">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; finalizePendingBlocks &gt; should finalize thinking blocks" time="0.00008225">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; finalizePendingBlocks &gt; should do nothing if no blocks" time="0.000128375">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; finalizePendingBlocks &gt; should do nothing if last block is not text or thinking" time="0.000113791">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; openBlock and closeBlock &gt; should add block index to openBlocks" time="0.000086042">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; openBlock and closeBlock &gt; should remove block index from openBlocks" time="0.000085833">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; openBlock and closeBlock &gt; should not throw when closing non-existent block" time="0.000101417">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; ensureBlockTypeConsistency &gt; should set currentBlockType if null" time="0.000082792">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; ensureBlockTypeConsistency &gt; should do nothing if currentBlockType matches target" time="0.00013475">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; ensureBlockTypeConsistency &gt; should finalize and start new message when block type changes" time="0.000161417">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; startAssistantMessageInternal &gt; should reset message state" time="0.0002805">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; finalizeAssistantMessageInternal &gt; should return same message if already finalized" time="0.000165042">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; finalizeAssistantMessageInternal &gt; should finalize pending blocks and emit message" time="0.000544542">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; finalizeAssistantMessageInternal &gt; should close all open blocks" time="0.000107041">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; appendText &gt; should create new text block if none exists" time="0.000155291">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; appendText &gt; should append to existing text block" time="0.000133542">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; appendText &gt; should ignore empty fragments" time="0.00015425">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; appendText &gt; should ensure message is started" time="0.000081792">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; appendThinking &gt; should create new thinking block" time="0.000207917">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; appendThinking &gt; should append to existing thinking block" time="0.000159542">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; appendThinking &gt; should handle only subject" time="0.000136042">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; appendThinking &gt; should ignore empty fragments" time="0.00009825">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; appendToolUse &gt; should create tool_use block" time="0.000162583">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; appendToolUse &gt; should finalize pending blocks before appending tool_use" time="0.000139959">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; ensureMessageStarted &gt; should set messageStarted to true" time="0.000081541">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; ensureMessageStarted &gt; should do nothing if already started" time="0.0000725">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; startAssistantMessage &gt; should reset main agent message state" time="0.000118042">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; processEvent &gt; should process Content events" time="0.000137833">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; processEvent &gt; should process Citation events" time="0.000104083">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; processEvent &gt; should ignore non-string Citation values" time="0.000113334">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; processEvent &gt; should process Thought events" time="0.00014025">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; processEvent &gt; should process ToolCallRequest events" time="0.000572375">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; processEvent &gt; should process Finished events with usage metadata" time="0.000157625">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; processEvent &gt; should ignore events after finalization" time="0.000137583">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; finalizeAssistantMessage &gt; should build and return assistant message" time="0.0002125">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; emitUserMessage &gt; should emit user message with ContentBlock array" time="0.000329375">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; emitUserMessage &gt; should handle multiple parts and merge into single text block" time="0.000146334">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; emitUserMessage &gt; should handle non-text parts by converting to text blocks" time="0.000151833">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; emitToolResult &gt; should emit tool result message with content" time="0.000285916">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; emitToolResult &gt; should mark error tool results" time="0.000160125">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; emitToolResult &gt; should handle parentToolUseId" time="0.000097459">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; emitSystemMessage &gt; should emit system message" time="0.00016475">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; emitSystemMessage &gt; should handle system message without data" time="0.000088375">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; buildResultMessage &gt; should build success result message" time="0.000269041">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; buildResultMessage &gt; should build error result message" time="0.000151042">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; buildResultMessage &gt; should use provided summary over extracted text" time="0.000095916">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; buildResultMessage &gt; should include usage information" time="0.000105208">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; buildResultMessage &gt; should include stats when provided" time="0.000127959">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; buildResultMessage &gt; should handle result without assistant message" time="0.000093083">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; startSubagentAssistantMessage &gt; should start subagent message" time="0.000101125">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; finalizeSubagentAssistantMessage &gt; should finalize and return subagent message" time="0.000149666">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; emitSubagentErrorResult &gt; should emit subagent error result" time="0.000178">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; emitSubagentErrorResult &gt; should finalize pending assistant message before emitting error" time="0.000126333">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; processSubagentToolCall &gt; should process subagent tool call" time="0.000220625">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; processSubagentToolCall &gt; should finalize text message before tool_use" time="0.000117792">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; createSubagentToolUseBlock &gt; should create tool_use block for subagent" time="0.000286958">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; buildSubagentErrorResult &gt; should build subagent error result" time="0.000164">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; getSessionId and getModel &gt; should return session ID from config" time="0.000223208">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; getSessionId and getModel &gt; should return model from config" time="0.000094375">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; helper functions &gt; partsToContentBlock &gt; should convert text parts to TextBlock array" time="0.000136083">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; helper functions &gt; partsToContentBlock &gt; should handle functionResponse parts by extracting output" time="0.000136916">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; helper functions &gt; partsToContentBlock &gt; should handle non-text parts by converting to JSON string" time="0.000135166">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; helper functions &gt; partsToContentBlock &gt; should handle empty array" time="0.000157875">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; helper functions &gt; partsToContentBlock &gt; should merge consecutive text parts into single block" time="0.0001295">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; helper functions &gt; partsToString &gt; should convert text parts to string" time="0.000101583">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; helper functions &gt; partsToString &gt; should handle non-text parts" time="0.000111084">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; helper functions &gt; partsToString &gt; should handle empty array" time="0.000071791">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; helper functions &gt; toolResultContent &gt; should extract content from resultDisplay" time="0.003282666">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; helper functions &gt; toolResultContent &gt; should extract content from responseParts" time="0.00015625">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; helper functions &gt; toolResultContent &gt; should extract error message" time="0.000094">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; helper functions &gt; toolResultContent &gt; should return undefined if no content" time="0.000094541">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; helper functions &gt; toolResultContent &gt; should ignore empty resultDisplay" time="0.000113917">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; helper functions &gt; extractTextFromBlocks &gt; should extract text from text blocks" time="0.000090458">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; helper functions &gt; extractTextFromBlocks &gt; should ignore non-text blocks" time="0.000076958">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; helper functions &gt; extractTextFromBlocks &gt; should handle empty array" time="0.000067958">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; helper functions &gt; extractTextFromBlocks &gt; should handle array with no text blocks" time="0.000068666">
        </testcase>
        <testcase classname="src/nonInteractive/io/BaseJsonOutputAdapter.test.ts" name="BaseJsonOutputAdapter &gt; helper functions &gt; createExtendedUsage &gt; should create extended usage with default values" time="0.000093291">
        </testcase>
    </testsuite>
    <testsuite name="src/nonInteractive/io/JsonOutputAdapter.test.ts" timestamp="2025-11-26T16:27:33.730Z" hostname="MacBook-Pro-6.local" tests="31" failures="0" errors="0" skipped="0" time="0.01411575">
        <testcase classname="src/nonInteractive/io/JsonOutputAdapter.test.ts" name="JsonOutputAdapter &gt; startAssistantMessage &gt; should reset state for new message" time="0.003276167">
        </testcase>
        <testcase classname="src/nonInteractive/io/JsonOutputAdapter.test.ts" name="JsonOutputAdapter &gt; processEvent &gt; should append text content from Content events" time="0.001546666">
        </testcase>
        <testcase classname="src/nonInteractive/io/JsonOutputAdapter.test.ts" name="JsonOutputAdapter &gt; processEvent &gt; should append citation content from Citation events" time="0.000281084">
        </testcase>
        <testcase classname="src/nonInteractive/io/JsonOutputAdapter.test.ts" name="JsonOutputAdapter &gt; processEvent &gt; should ignore non-string citation values" time="0.000166292">
        </testcase>
        <testcase classname="src/nonInteractive/io/JsonOutputAdapter.test.ts" name="JsonOutputAdapter &gt; processEvent &gt; should append thinking from Thought events" time="0.000276959">
        </testcase>
        <testcase classname="src/nonInteractive/io/JsonOutputAdapter.test.ts" name="JsonOutputAdapter &gt; processEvent &gt; should handle thinking with only subject" time="0.000150209">
        </testcase>
        <testcase classname="src/nonInteractive/io/JsonOutputAdapter.test.ts" name="JsonOutputAdapter &gt; processEvent &gt; should append tool use from ToolCallRequest events" time="0.000361042">
        </testcase>
        <testcase classname="src/nonInteractive/io/JsonOutputAdapter.test.ts" name="JsonOutputAdapter &gt; processEvent &gt; should set stop_reason to tool_use when message contains only tool_use blocks" time="0.000171167">
        </testcase>
        <testcase classname="src/nonInteractive/io/JsonOutputAdapter.test.ts" name="JsonOutputAdapter &gt; processEvent &gt; should set stop_reason to null when message contains text blocks" time="0.000203416">
        </testcase>
        <testcase classname="src/nonInteractive/io/JsonOutputAdapter.test.ts" name="JsonOutputAdapter &gt; processEvent &gt; should set stop_reason to null when message contains thinking blocks" time="0.000112666">
        </testcase>
        <testcase classname="src/nonInteractive/io/JsonOutputAdapter.test.ts" name="JsonOutputAdapter &gt; processEvent &gt; should set stop_reason to tool_use when message contains multiple tool_use blocks" time="0.00030625">
        </testcase>
        <testcase classname="src/nonInteractive/io/JsonOutputAdapter.test.ts" name="JsonOutputAdapter &gt; processEvent &gt; should update usage from Finished event" time="0.000591209">
        </testcase>
        <testcase classname="src/nonInteractive/io/JsonOutputAdapter.test.ts" name="JsonOutputAdapter &gt; processEvent &gt; should finalize pending blocks on Finished event" time="0.000210167">
        </testcase>
        <testcase classname="src/nonInteractive/io/JsonOutputAdapter.test.ts" name="JsonOutputAdapter &gt; processEvent &gt; should ignore events after finalization" time="0.0001625">
        </testcase>
        <testcase classname="src/nonInteractive/io/JsonOutputAdapter.test.ts" name="JsonOutputAdapter &gt; finalizeAssistantMessage &gt; should build and emit a complete assistant message" time="0.000323292">
        </testcase>
        <testcase classname="src/nonInteractive/io/JsonOutputAdapter.test.ts" name="JsonOutputAdapter &gt; finalizeAssistantMessage &gt; should return same message on subsequent calls" time="0.000319542">
        </testcase>
        <testcase classname="src/nonInteractive/io/JsonOutputAdapter.test.ts" name="JsonOutputAdapter &gt; finalizeAssistantMessage &gt; should split different block types into separate assistant messages" time="0.001424084">
        </testcase>
        <testcase classname="src/nonInteractive/io/JsonOutputAdapter.test.ts" name="JsonOutputAdapter &gt; finalizeAssistantMessage &gt; should throw if message not started" time="0.000305125">
        </testcase>
        <testcase classname="src/nonInteractive/io/JsonOutputAdapter.test.ts" name="JsonOutputAdapter &gt; emitResult &gt; should emit success result as JSON array" time="0.000578792">
        </testcase>
        <testcase classname="src/nonInteractive/io/JsonOutputAdapter.test.ts" name="JsonOutputAdapter &gt; emitResult &gt; should emit error result" time="0.000202375">
        </testcase>
        <testcase classname="src/nonInteractive/io/JsonOutputAdapter.test.ts" name="JsonOutputAdapter &gt; emitResult &gt; should use provided summary over extracted text" time="0.000144084">
        </testcase>
        <testcase classname="src/nonInteractive/io/JsonOutputAdapter.test.ts" name="JsonOutputAdapter &gt; emitResult &gt; should include usage information" time="0.000187875">
        </testcase>
        <testcase classname="src/nonInteractive/io/JsonOutputAdapter.test.ts" name="JsonOutputAdapter &gt; emitResult &gt; should include stats when provided" time="0.000211">
        </testcase>
        <testcase classname="src/nonInteractive/io/JsonOutputAdapter.test.ts" name="JsonOutputAdapter &gt; emitUserMessage &gt; should add user message to collection" time="0.000293791">
        </testcase>
        <testcase classname="src/nonInteractive/io/JsonOutputAdapter.test.ts" name="JsonOutputAdapter &gt; emitUserMessage &gt; should handle parent_tool_use_id" time="0.000142292">
        </testcase>
        <testcase classname="src/nonInteractive/io/JsonOutputAdapter.test.ts" name="JsonOutputAdapter &gt; emitToolResult &gt; should emit tool result message" time="0.000267">
        </testcase>
        <testcase classname="src/nonInteractive/io/JsonOutputAdapter.test.ts" name="JsonOutputAdapter &gt; emitToolResult &gt; should mark error tool results" time="0.000176542">
        </testcase>
        <testcase classname="src/nonInteractive/io/JsonOutputAdapter.test.ts" name="JsonOutputAdapter &gt; emitSystemMessage &gt; should add system message to collection" time="0.000182791">
        </testcase>
        <testcase classname="src/nonInteractive/io/JsonOutputAdapter.test.ts" name="JsonOutputAdapter &gt; getSessionId and getModel &gt; should return session ID from config" time="0.000115334">
        </testcase>
        <testcase classname="src/nonInteractive/io/JsonOutputAdapter.test.ts" name="JsonOutputAdapter &gt; getSessionId and getModel &gt; should return model from config" time="0.000104208">
        </testcase>
        <testcase classname="src/nonInteractive/io/JsonOutputAdapter.test.ts" name="JsonOutputAdapter &gt; multiple messages in collection &gt; should collect all messages and emit as array" time="0.000250334">
        </testcase>
    </testsuite>
    <testsuite name="src/nonInteractive/io/StreamJsonInputReader.test.ts" timestamp="2025-11-26T16:27:33.736Z" hostname="MacBook-Pro-6.local" tests="11" failures="0" errors="0" skipped="0" time="0.008636125">
        <testcase classname="src/nonInteractive/io/StreamJsonInputReader.test.ts" name="StreamJsonInputReader &gt; read &gt; should parse valid messages of all types" time="0.005264541">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonInputReader.test.ts" name="StreamJsonInputReader &gt; read &gt; should parse multiple messages" time="0.000463042">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonInputReader.test.ts" name="StreamJsonInputReader &gt; read &gt; should skip empty lines and trim whitespace" time="0.000271917">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonInputReader.test.ts" name="StreamJsonInputReader &gt; read &gt; should throw StreamJsonParseError for &apos;invalid JSON&apos;" time="0.00049675">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonInputReader.test.ts" name="StreamJsonInputReader &gt; read &gt; should throw StreamJsonParseError for &apos;missing type field&apos;" time="0.000188208">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonInputReader.test.ts" name="StreamJsonInputReader &gt; read &gt; should throw StreamJsonParseError for &apos;non-object value (string)&apos;" time="0.00024275">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonInputReader.test.ts" name="StreamJsonInputReader &gt; read &gt; should throw StreamJsonParseError for &apos;non-object value (null)&apos;" time="0.000159458">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonInputReader.test.ts" name="StreamJsonInputReader &gt; read &gt; should throw StreamJsonParseError for &apos;array value&apos;" time="0.000192417">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonInputReader.test.ts" name="StreamJsonInputReader &gt; read &gt; should throw StreamJsonParseError for &apos;type field not a string&apos;" time="0.00027675">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonInputReader.test.ts" name="StreamJsonInputReader &gt; read &gt; should use process.stdin as default input" time="0.000170375">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonInputReader.test.ts" name="StreamJsonInputReader &gt; read &gt; should use provided input stream" time="0.000062375">
        </testcase>
    </testsuite>
    <testsuite name="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" timestamp="2025-11-26T16:27:33.737Z" hostname="MacBook-Pro-6.local" tests="41" failures="0" errors="0" skipped="0" time="0.013227333">
        <testcase classname="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" name="StreamJsonOutputAdapter &gt; with partial messages enabled &gt; startAssistantMessage &gt; should reset state for new message" time="0.003137708">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" name="StreamJsonOutputAdapter &gt; with partial messages enabled &gt; processEvent with stream events &gt; should emit stream events for text deltas" time="0.000464083">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" name="StreamJsonOutputAdapter &gt; with partial messages enabled &gt; processEvent with stream events &gt; should emit message_start event on first content" time="0.000285375">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" name="StreamJsonOutputAdapter &gt; with partial messages enabled &gt; processEvent with stream events &gt; should emit content_block_start for new blocks" time="0.000153125">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" name="StreamJsonOutputAdapter &gt; with partial messages enabled &gt; processEvent with stream events &gt; should emit thinking delta events" time="0.000240209">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" name="StreamJsonOutputAdapter &gt; with partial messages enabled &gt; processEvent with stream events &gt; should emit message_stop on finalization" time="0.000169916">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" name="StreamJsonOutputAdapter &gt; with partial messages disabled &gt; should not emit stream events" time="0.000140208">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" name="StreamJsonOutputAdapter &gt; with partial messages disabled &gt; should still emit final assistant message" time="0.000129458">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" name="StreamJsonOutputAdapter &gt; processEvent &gt; should append text content from Content events" time="0.000638917">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" name="StreamJsonOutputAdapter &gt; processEvent &gt; should append citation content from Citation events" time="0.000219333">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" name="StreamJsonOutputAdapter &gt; processEvent &gt; should ignore non-string citation values" time="0.000153209">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" name="StreamJsonOutputAdapter &gt; processEvent &gt; should append thinking from Thought events" time="0.000192666">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" name="StreamJsonOutputAdapter &gt; processEvent &gt; should handle thinking with only subject" time="0.000136042">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" name="StreamJsonOutputAdapter &gt; processEvent &gt; should append tool use from ToolCallRequest events" time="0.000263667">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" name="StreamJsonOutputAdapter &gt; processEvent &gt; should set stop_reason to tool_use when message contains only tool_use blocks" time="0.000126459">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" name="StreamJsonOutputAdapter &gt; processEvent &gt; should set stop_reason to null when message contains text blocks" time="0.000127042">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" name="StreamJsonOutputAdapter &gt; processEvent &gt; should set stop_reason to null when message contains thinking blocks" time="0.000111041">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" name="StreamJsonOutputAdapter &gt; processEvent &gt; should set stop_reason to tool_use when message contains multiple tool_use blocks" time="0.000199208">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" name="StreamJsonOutputAdapter &gt; processEvent &gt; should update usage from Finished event" time="0.000155334">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" name="StreamJsonOutputAdapter &gt; processEvent &gt; should ignore events after finalization" time="0.000136291">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" name="StreamJsonOutputAdapter &gt; finalizeAssistantMessage &gt; should build and emit a complete assistant message" time="0.000332792">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" name="StreamJsonOutputAdapter &gt; finalizeAssistantMessage &gt; should emit message to stdout immediately" time="0.000270958">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" name="StreamJsonOutputAdapter &gt; finalizeAssistantMessage &gt; should store message in lastAssistantMessage" time="0.00014275">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" name="StreamJsonOutputAdapter &gt; finalizeAssistantMessage &gt; should return same message on subsequent calls" time="0.000211625">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" name="StreamJsonOutputAdapter &gt; finalizeAssistantMessage &gt; should split different block types into separate assistant messages" time="0.000425291">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" name="StreamJsonOutputAdapter &gt; finalizeAssistantMessage &gt; should throw if message not started" time="0.000499917">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" name="StreamJsonOutputAdapter &gt; emitResult &gt; should emit success result immediately" time="0.00033125">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" name="StreamJsonOutputAdapter &gt; emitResult &gt; should emit error result" time="0.000165583">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" name="StreamJsonOutputAdapter &gt; emitResult &gt; should use provided summary over extracted text" time="0.00012375">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" name="StreamJsonOutputAdapter &gt; emitResult &gt; should include usage information" time="0.00015575">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" name="StreamJsonOutputAdapter &gt; emitResult &gt; should handle result without assistant message" time="0.000125042">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" name="StreamJsonOutputAdapter &gt; emitUserMessage &gt; should emit user message immediately" time="0.000287">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" name="StreamJsonOutputAdapter &gt; emitUserMessage &gt; should handle parent_tool_use_id" time="0.000112291">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" name="StreamJsonOutputAdapter &gt; emitToolResult &gt; should emit tool result message immediately" time="0.000255167">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" name="StreamJsonOutputAdapter &gt; emitToolResult &gt; should mark error tool results" time="0.000162875">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" name="StreamJsonOutputAdapter &gt; emitSystemMessage &gt; should emit system message immediately" time="0.00018325">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" name="StreamJsonOutputAdapter &gt; getSessionId and getModel &gt; should return session ID from config" time="0.000196667">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" name="StreamJsonOutputAdapter &gt; getSessionId and getModel &gt; should return model from config" time="0.00011275">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" name="StreamJsonOutputAdapter &gt; message_id in stream events &gt; should include message_id in stream events after message starts" time="0.000200791">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" name="StreamJsonOutputAdapter &gt; multiple text blocks &gt; should split assistant messages when block types change repeatedly" time="0.000401209">
        </testcase>
        <testcase classname="src/nonInteractive/io/StreamJsonOutputAdapter.test.ts" name="StreamJsonOutputAdapter &gt; multiple text blocks &gt; should merge consecutive text fragments" time="0.000186667">
        </testcase>
    </testsuite>
    <testsuite name="src/services/prompt-processors/argumentProcessor.test.ts" timestamp="2025-11-26T16:27:33.740Z" hostname="MacBook-Pro-6.local" tests="2" failures="0" errors="0" skipped="0" time="0.003066375">
        <testcase classname="src/services/prompt-processors/argumentProcessor.test.ts" name="Argument Processors &gt; DefaultArgumentProcessor &gt; should append the full command if args are provided" time="0.002048375">
        </testcase>
        <testcase classname="src/services/prompt-processors/argumentProcessor.test.ts" name="Argument Processors &gt; DefaultArgumentProcessor &gt; should NOT append the full command if no args are provided" time="0.000252125">
        </testcase>
    </testsuite>
    <testsuite name="src/services/prompt-processors/atFileProcessor.test.ts" timestamp="2025-11-26T16:27:33.740Z" hostname="MacBook-Pro-6.local" tests="11" failures="0" errors="0" skipped="0" time="0.01239525">
        <testcase classname="src/services/prompt-processors/atFileProcessor.test.ts" name="AtFileProcessor &gt; should not change the prompt if no @{ trigger is present" time="0.002146792">
        </testcase>
        <testcase classname="src/services/prompt-processors/atFileProcessor.test.ts" name="AtFileProcessor &gt; should not change the prompt if config service is missing" time="0.000432333">
        </testcase>
        <testcase classname="src/services/prompt-processors/atFileProcessor.test.ts" name="AtFileProcessor &gt; Parsing Logic &gt; should replace a single valid @{path/to/file.txt} placeholder" time="0.000883416">
        </testcase>
        <testcase classname="src/services/prompt-processors/atFileProcessor.test.ts" name="AtFileProcessor &gt; Parsing Logic &gt; should replace multiple different @{...} placeholders" time="0.000682917">
        </testcase>
        <testcase classname="src/services/prompt-processors/atFileProcessor.test.ts" name="AtFileProcessor &gt; Parsing Logic &gt; should handle placeholders at the beginning, middle, and end" time="0.000313834">
        </testcase>
        <testcase classname="src/services/prompt-processors/atFileProcessor.test.ts" name="AtFileProcessor &gt; Parsing Logic &gt; should correctly parse paths that contain balanced braces" time="0.000282458">
        </testcase>
        <testcase classname="src/services/prompt-processors/atFileProcessor.test.ts" name="AtFileProcessor &gt; Parsing Logic &gt; should throw an error if the prompt contains an unclosed trigger" time="0.00245225">
        </testcase>
        <testcase classname="src/services/prompt-processors/atFileProcessor.test.ts" name="AtFileProcessor &gt; Integration and Error Handling &gt; should leave the placeholder unmodified if readPathFromWorkspace throws" time="0.001053125">
            <system-err>
[AtFileProcessor] Failed to inject content for &apos;@{not-found.txt}&apos;: File not found. Leaving placeholder in prompt.

            </system-err>
        </testcase>
        <testcase classname="src/services/prompt-processors/atFileProcessor.test.ts" name="AtFileProcessor &gt; UI Feedback &gt; should call ui.addItem with an ERROR on failure" time="0.001725209">
            <system-err>
[AtFileProcessor] Failed to inject content for &apos;@{bad-file.txt}&apos;: Access denied. Leaving placeholder in prompt.

            </system-err>
        </testcase>
        <testcase classname="src/services/prompt-processors/atFileProcessor.test.ts" name="AtFileProcessor &gt; UI Feedback &gt; should call ui.addItem with a WARNING if the file was ignored" time="0.000606125">
        </testcase>
        <testcase classname="src/services/prompt-processors/atFileProcessor.test.ts" name="AtFileProcessor &gt; UI Feedback &gt; should NOT call ui.addItem on success" time="0.000266833">
        </testcase>
    </testsuite>
    <testsuite name="src/services/prompt-processors/injectionParser.test.ts" timestamp="2025-11-26T16:27:33.741Z" hostname="MacBook-Pro-6.local" tests="21" failures="0" errors="0" skipped="0" time="0.00676575">
        <testcase classname="src/services/prompt-processors/injectionParser.test.ts" name="extractInjections &gt; Basic Functionality &gt; should return an empty array if no trigger is present" time="0.002118">
        </testcase>
        <testcase classname="src/services/prompt-processors/injectionParser.test.ts" name="extractInjections &gt; Basic Functionality &gt; should extract a single, simple injection" time="0.00021">
        </testcase>
        <testcase classname="src/services/prompt-processors/injectionParser.test.ts" name="extractInjections &gt; Basic Functionality &gt; should extract multiple injections" time="0.000635959">
        </testcase>
        <testcase classname="src/services/prompt-processors/injectionParser.test.ts" name="extractInjections &gt; Basic Functionality &gt; should handle different triggers (e.g., @{)" time="0.000084583">
        </testcase>
        <testcase classname="src/services/prompt-processors/injectionParser.test.ts" name="extractInjections &gt; Positioning and Edge Cases &gt; should handle injections at the start and end of the prompt" time="0.000146167">
        </testcase>
        <testcase classname="src/services/prompt-processors/injectionParser.test.ts" name="extractInjections &gt; Positioning and Edge Cases &gt; should handle adjacent injections" time="0.000126708">
        </testcase>
        <testcase classname="src/services/prompt-processors/injectionParser.test.ts" name="extractInjections &gt; Positioning and Edge Cases &gt; should handle empty injections" time="0.000061958">
        </testcase>
        <testcase classname="src/services/prompt-processors/injectionParser.test.ts" name="extractInjections &gt; Positioning and Edge Cases &gt; should trim whitespace within the content" time="0.000062291">
        </testcase>
        <testcase classname="src/services/prompt-processors/injectionParser.test.ts" name="extractInjections &gt; Positioning and Edge Cases &gt; should ignore similar patterns that are not the exact trigger" time="0.000052083">
        </testcase>
        <testcase classname="src/services/prompt-processors/injectionParser.test.ts" name="extractInjections &gt; Positioning and Edge Cases &gt; should ignore extra closing braces before the trigger" time="0.000061167">
        </testcase>
        <testcase classname="src/services/prompt-processors/injectionParser.test.ts" name="extractInjections &gt; Positioning and Edge Cases &gt; should stop parsing at the first balanced closing brace (non-greedy)" time="0.000174083">
        </testcase>
        <testcase classname="src/services/prompt-processors/injectionParser.test.ts" name="extractInjections &gt; Nested Braces (Balanced) &gt; should correctly parse content with simple nested braces (e.g., JSON)" time="0.000284666">
        </testcase>
        <testcase classname="src/services/prompt-processors/injectionParser.test.ts" name="extractInjections &gt; Nested Braces (Balanced) &gt; should correctly parse content with shell constructs (e.g., awk)" time="0.000137625">
        </testcase>
        <testcase classname="src/services/prompt-processors/injectionParser.test.ts" name="extractInjections &gt; Nested Braces (Balanced) &gt; should correctly parse multiple levels of nesting" time="0.000111417">
        </testcase>
        <testcase classname="src/services/prompt-processors/injectionParser.test.ts" name="extractInjections &gt; Nested Braces (Balanced) &gt; should correctly parse paths containing balanced braces" time="0.000104833">
        </testcase>
        <testcase classname="src/services/prompt-processors/injectionParser.test.ts" name="extractInjections &gt; Nested Braces (Balanced) &gt; should correctly handle an injection containing the trigger itself" time="0.000099416">
        </testcase>
        <testcase classname="src/services/prompt-processors/injectionParser.test.ts" name="extractInjections &gt; Error Handling (Unbalanced/Unclosed) &gt; should throw an error for a simple unclosed injection" time="0.000494125">
        </testcase>
        <testcase classname="src/services/prompt-processors/injectionParser.test.ts" name="extractInjections &gt; Error Handling (Unbalanced/Unclosed) &gt; should throw an error if the prompt ends inside a nested block" time="0.000094375">
        </testcase>
        <testcase classname="src/services/prompt-processors/injectionParser.test.ts" name="extractInjections &gt; Error Handling (Unbalanced/Unclosed) &gt; should include the context name in the error message if provided" time="0.000090708">
        </testcase>
        <testcase classname="src/services/prompt-processors/injectionParser.test.ts" name="extractInjections &gt; Error Handling (Unbalanced/Unclosed) &gt; should throw if content contains unbalanced braces (e.g., missing closing)" time="0.000079834">
        </testcase>
        <testcase classname="src/services/prompt-processors/injectionParser.test.ts" name="extractInjections &gt; Error Handling (Unbalanced/Unclosed) &gt; should clearly state that unbalanced braces in content are not supported in the error" time="0.000154166">
        </testcase>
    </testsuite>
    <testsuite name="src/services/prompt-processors/shellProcessor.test.ts" timestamp="2025-11-26T16:27:33.742Z" hostname="MacBook-Pro-6.local" tests="33" failures="0" errors="0" skipped="0" time="0.029411667">
        <testcase classname="src/services/prompt-processors/shellProcessor.test.ts" name="ShellProcessor &gt; should throw an error if config is missing" time="0.002510666">
        </testcase>
        <testcase classname="src/services/prompt-processors/shellProcessor.test.ts" name="ShellProcessor &gt; should not change the prompt if no shell injections are present" time="0.000854459">
        </testcase>
        <testcase classname="src/services/prompt-processors/shellProcessor.test.ts" name="ShellProcessor &gt; should process a single valid shell injection if allowed" time="0.001826292">
        </testcase>
        <testcase classname="src/services/prompt-processors/shellProcessor.test.ts" name="ShellProcessor &gt; should process multiple valid shell injections if all are allowed" time="0.000470209">
        </testcase>
        <testcase classname="src/services/prompt-processors/shellProcessor.test.ts" name="ShellProcessor &gt; should throw ConfirmationRequiredError if a command is not allowed in default mode" time="0.000342917">
        </testcase>
        <testcase classname="src/services/prompt-processors/shellProcessor.test.ts" name="ShellProcessor &gt; should NOT throw ConfirmationRequiredError if a command is not allowed but approval mode is YOLO" time="0.000397667">
        </testcase>
        <testcase classname="src/services/prompt-processors/shellProcessor.test.ts" name="ShellProcessor &gt; should still throw an error for a hard-denied command even in YOLO mode" time="0.000509125">
        </testcase>
        <testcase classname="src/services/prompt-processors/shellProcessor.test.ts" name="ShellProcessor &gt; should throw ConfirmationRequiredError with the correct command" time="0.000389625">
        </testcase>
        <testcase classname="src/services/prompt-processors/shellProcessor.test.ts" name="ShellProcessor &gt; should throw ConfirmationRequiredError with multiple commands if multiple are disallowed" time="0.000388333">
        </testcase>
        <testcase classname="src/services/prompt-processors/shellProcessor.test.ts" name="ShellProcessor &gt; should not execute any commands if at least one requires confirmation" time="0.000338667">
        </testcase>
        <testcase classname="src/services/prompt-processors/shellProcessor.test.ts" name="ShellProcessor &gt; should only request confirmation for disallowed commands in a mixed prompt" time="0.004116958">
        </testcase>
        <testcase classname="src/services/prompt-processors/shellProcessor.test.ts" name="ShellProcessor &gt; should execute all commands if they are on the session allowlist" time="0.001256833">
        </testcase>
        <testcase classname="src/services/prompt-processors/shellProcessor.test.ts" name="ShellProcessor &gt; should trim whitespace from the command inside the injection before interpolation" time="0.000657125">
        </testcase>
        <testcase classname="src/services/prompt-processors/shellProcessor.test.ts" name="ShellProcessor &gt; should handle an empty command inside the injection gracefully (skips execution)" time="0.000450916">
        </testcase>
        <testcase classname="src/services/prompt-processors/shellProcessor.test.ts" name="ShellProcessor &gt; Error Reporting &gt; should append exit code and command name on failure" time="0.000371958">
        </testcase>
        <testcase classname="src/services/prompt-processors/shellProcessor.test.ts" name="ShellProcessor &gt; Error Reporting &gt; should append signal info and command name if terminated by signal" time="0.000300958">
        </testcase>
        <testcase classname="src/services/prompt-processors/shellProcessor.test.ts" name="ShellProcessor &gt; Error Reporting &gt; should throw a detailed error if the shell fails to spawn" time="0.000359375">
        </testcase>
        <testcase classname="src/services/prompt-processors/shellProcessor.test.ts" name="ShellProcessor &gt; Error Reporting &gt; should report abort status with command name if aborted" time="0.000304792">
        </testcase>
        <testcase classname="src/services/prompt-processors/shellProcessor.test.ts" name="ShellProcessor &gt; Context-Aware Argument Interpolation ({{args}}) &gt; should perform raw replacement if no shell injections are present (optimization path)" time="0.001517625">
        </testcase>
        <testcase classname="src/services/prompt-processors/shellProcessor.test.ts" name="ShellProcessor &gt; Context-Aware Argument Interpolation ({{args}}) &gt; should perform raw replacement outside !{} blocks" time="0.000477375">
        </testcase>
        <testcase classname="src/services/prompt-processors/shellProcessor.test.ts" name="ShellProcessor &gt; Context-Aware Argument Interpolation ({{args}}) &gt; should perform escaped replacement inside !{} blocks" time="0.000408917">
        </testcase>
        <testcase classname="src/services/prompt-processors/shellProcessor.test.ts" name="ShellProcessor &gt; Context-Aware Argument Interpolation ({{args}}) &gt; should handle both raw (outside) and escaped (inside) injection simultaneously" time="0.001084042">
        </testcase>
        <testcase classname="src/services/prompt-processors/shellProcessor.test.ts" name="ShellProcessor &gt; Context-Aware Argument Interpolation ({{args}}) &gt; should perform security checks on the final, resolved (escaped) command" time="0.000660417">
        </testcase>
        <testcase classname="src/services/prompt-processors/shellProcessor.test.ts" name="ShellProcessor &gt; Context-Aware Argument Interpolation ({{args}}) &gt; should report the resolved command if a hard denial occurs" time="0.000905958">
        </testcase>
        <testcase classname="src/services/prompt-processors/shellProcessor.test.ts" name="ShellProcessor &gt; Real-World Escaping Scenarios &gt; should correctly handle multiline arguments" time="0.000557">
        </testcase>
        <testcase classname="src/services/prompt-processors/shellProcessor.test.ts" name="ShellProcessor &gt; Real-World Escaping Scenarios &gt; should safely escape args containing &apos;spaces&apos;" time="0.002276292">
        </testcase>
        <testcase classname="src/services/prompt-processors/shellProcessor.test.ts" name="ShellProcessor &gt; Real-World Escaping Scenarios &gt; should safely escape args containing &apos;double quotes&apos;" time="0.0019215">
        </testcase>
        <testcase classname="src/services/prompt-processors/shellProcessor.test.ts" name="ShellProcessor &gt; Real-World Escaping Scenarios &gt; should safely escape args containing &apos;single quotes&apos;" time="0.0006525">
        </testcase>
        <testcase classname="src/services/prompt-processors/shellProcessor.test.ts" name="ShellProcessor &gt; Real-World Escaping Scenarios &gt; should safely escape args containing &apos;command substitution (backticks)&apos;" time="0.000660209">
        </testcase>
        <testcase classname="src/services/prompt-processors/shellProcessor.test.ts" name="ShellProcessor &gt; Real-World Escaping Scenarios &gt; should safely escape args containing &apos;command substitution (dollar)&apos;" time="0.00037425">
        </testcase>
        <testcase classname="src/services/prompt-processors/shellProcessor.test.ts" name="ShellProcessor &gt; Real-World Escaping Scenarios &gt; should safely escape args containing &apos;variable expansion&apos;" time="0.000325667">
        </testcase>
        <testcase classname="src/services/prompt-processors/shellProcessor.test.ts" name="ShellProcessor &gt; Real-World Escaping Scenarios &gt; should safely escape args containing &apos;command chaining (semicolon)&apos;" time="0.000318125">
        </testcase>
        <testcase classname="src/services/prompt-processors/shellProcessor.test.ts" name="ShellProcessor &gt; Real-World Escaping Scenarios &gt; should safely escape args containing &apos;command chaining (ampersand)&apos;" time="0.000322708">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/auth/AuthDialog.test.tsx" timestamp="2025-11-26T16:27:33.745Z" hostname="MacBook-Pro-6.local" tests="10" failures="0" errors="0" skipped="0" time="0.427764917">
        <testcase classname="src/ui/auth/AuthDialog.test.tsx" name="AuthDialog &gt; should show an error if the initial auth type is invalid" time="0.032161292">
        </testcase>
        <testcase classname="src/ui/auth/AuthDialog.test.tsx" name="AuthDialog &gt; GEMINI_API_KEY environment variable &gt; should detect GEMINI_API_KEY environment variable" time="0.00999025">
        </testcase>
        <testcase classname="src/ui/auth/AuthDialog.test.tsx" name="AuthDialog &gt; GEMINI_API_KEY environment variable &gt; should not show the GEMINI_API_KEY message if QWEN_DEFAULT_AUTH_TYPE is set to something else" time="0.008982791">
        </testcase>
        <testcase classname="src/ui/auth/AuthDialog.test.tsx" name="AuthDialog &gt; GEMINI_API_KEY environment variable &gt; should show the GEMINI_API_KEY message if QWEN_DEFAULT_AUTH_TYPE is set to use api key" time="0.007822875">
        </testcase>
        <testcase classname="src/ui/auth/AuthDialog.test.tsx" name="AuthDialog &gt; QWEN_DEFAULT_AUTH_TYPE environment variable &gt; should select the auth type specified by QWEN_DEFAULT_AUTH_TYPE" time="0.005036542">
        </testcase>
        <testcase classname="src/ui/auth/AuthDialog.test.tsx" name="AuthDialog &gt; QWEN_DEFAULT_AUTH_TYPE environment variable &gt; should fall back to default if QWEN_DEFAULT_AUTH_TYPE is not set" time="0.004906792">
        </testcase>
        <testcase classname="src/ui/auth/AuthDialog.test.tsx" name="AuthDialog &gt; QWEN_DEFAULT_AUTH_TYPE environment variable &gt; should show an error and fall back to default if QWEN_DEFAULT_AUTH_TYPE is invalid" time="0.004507708">
        </testcase>
        <testcase classname="src/ui/auth/AuthDialog.test.tsx" name="AuthDialog &gt; should prevent exiting when no auth method is selected and show error message" time="0.125979208">
        </testcase>
        <testcase classname="src/ui/auth/AuthDialog.test.tsx" name="AuthDialog &gt; should not exit if there is already an error message" time="0.110573084">
        </testcase>
        <testcase classname="src/ui/auth/AuthDialog.test.tsx" name="AuthDialog &gt; should allow exiting when auth method is already selected" time="0.115476917">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/contexts/KeypressContext.test.tsx" timestamp="2025-11-26T16:27:33.746Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/contexts/KeypressContext.test.tsx" name="src/ui/contexts/KeypressContext.test.tsx" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/contexts/SessionContext.test.tsx" timestamp="2025-11-26T16:27:33.747Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/contexts/SessionContext.test.tsx" name="src/ui/contexts/SessionContext.test.tsx" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/commands/aboutCommand.test.ts" timestamp="2025-11-26T16:27:33.749Z" hostname="MacBook-Pro-6.local" tests="7" failures="0" errors="0" skipped="0" time="0.007844333">
        <testcase classname="src/ui/commands/aboutCommand.test.ts" name="aboutCommand &gt; should have the correct name and description" time="0.001931625">
        </testcase>
        <testcase classname="src/ui/commands/aboutCommand.test.ts" name="aboutCommand &gt; should call addItem with all version info" time="0.002859">
        </testcase>
        <testcase classname="src/ui/commands/aboutCommand.test.ts" name="aboutCommand &gt; should show the correct sandbox environment variable" time="0.00045175">
        </testcase>
        <testcase classname="src/ui/commands/aboutCommand.test.ts" name="aboutCommand &gt; should show sandbox-exec profile when applicable" time="0.000365917">
        </testcase>
        <testcase classname="src/ui/commands/aboutCommand.test.ts" name="aboutCommand &gt; should not show ide client when it is not detected" time="0.0005885">
        </testcase>
        <testcase classname="src/ui/commands/aboutCommand.test.ts" name="aboutCommand &gt; should show unknown npmVersion when npm command fails" time="0.000427083">
        </testcase>
        <testcase classname="src/ui/commands/aboutCommand.test.ts" name="aboutCommand &gt; should show unknown sessionId when config is not available" time="0.000365">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/commands/approvalModeCommand.test.ts" timestamp="2025-11-26T16:27:33.750Z" hostname="MacBook-Pro-6.local" tests="5" failures="0" errors="0" skipped="0" time="0.003683375">
        <testcase classname="src/ui/commands/approvalModeCommand.test.ts" name="approvalModeCommand &gt; should have correct metadata" time="0.001819125">
        </testcase>
        <testcase classname="src/ui/commands/approvalModeCommand.test.ts" name="approvalModeCommand &gt; should open approval mode dialog when invoked" time="0.000258583">
        </testcase>
        <testcase classname="src/ui/commands/approvalModeCommand.test.ts" name="approvalModeCommand &gt; should open approval mode dialog with arguments (ignored)" time="0.000204417">
        </testcase>
        <testcase classname="src/ui/commands/approvalModeCommand.test.ts" name="approvalModeCommand &gt; should not have subcommands" time="0.000394542">
        </testcase>
        <testcase classname="src/ui/commands/approvalModeCommand.test.ts" name="approvalModeCommand &gt; should not have completion function" time="0.00021575">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/commands/authCommand.test.ts" timestamp="2025-11-26T16:27:33.751Z" hostname="MacBook-Pro-6.local" tests="2" failures="0" errors="0" skipped="0" time="0.003087542">
        <testcase classname="src/ui/commands/authCommand.test.ts" name="authCommand &gt; should return a dialog action to open the auth dialog" time="0.001950958">
        </testcase>
        <testcase classname="src/ui/commands/authCommand.test.ts" name="authCommand &gt; should have the correct name and description" time="0.000355">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/commands/bugCommand.test.ts" timestamp="2025-11-26T16:27:33.751Z" hostname="MacBook-Pro-6.local" tests="3" failures="0" errors="0" skipped="0" time="0.003905833">
        <testcase classname="src/ui/commands/bugCommand.test.ts" name="bugCommand &gt; should generate the default GitHub issue URL" time="0.002395291">
        </testcase>
        <testcase classname="src/ui/commands/bugCommand.test.ts" name="bugCommand &gt; should use a custom URL template from config if provided" time="0.000407292">
        </testcase>
        <testcase classname="src/ui/commands/bugCommand.test.ts" name="bugCommand &gt; should include Base URL when auth type is OpenAI" time="0.0003305">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/commands/chatCommand.test.ts" timestamp="2025-11-26T16:27:33.751Z" hostname="MacBook-Pro-6.local" tests="30" failures="0" errors="0" skipped="0" time="0.030716791">
        <testcase classname="src/ui/commands/chatCommand.test.ts" name="chatCommand &gt; should have the correct main command definition" time="0.002181167">
        </testcase>
        <testcase classname="src/ui/commands/chatCommand.test.ts" name="chatCommand &gt; list subcommand &gt; should inform when no checkpoints are found" time="0.001026541">
        </testcase>
        <testcase classname="src/ui/commands/chatCommand.test.ts" name="chatCommand &gt; list subcommand &gt; should list found checkpoints" time="0.001024708">
        </testcase>
        <testcase classname="src/ui/commands/chatCommand.test.ts" name="chatCommand &gt; list subcommand &gt; should handle invalid date formats gracefully" time="0.000516292">
        </testcase>
        <testcase classname="src/ui/commands/chatCommand.test.ts" name="chatCommand &gt; save subcommand &gt; should return an error if tag is missing" time="0.000593875">
        </testcase>
        <testcase classname="src/ui/commands/chatCommand.test.ts" name="chatCommand &gt; save subcommand &gt; should inform if conversation history is empty or only contains system context" time="0.000676833">
        </testcase>
        <testcase classname="src/ui/commands/chatCommand.test.ts" name="chatCommand &gt; save subcommand &gt; should return confirm_action if checkpoint already exists" time="0.001617458">
        </testcase>
        <testcase classname="src/ui/commands/chatCommand.test.ts" name="chatCommand &gt; save subcommand &gt; should save the conversation if overwrite is confirmed" time="0.001625125">
        </testcase>
        <testcase classname="src/ui/commands/chatCommand.test.ts" name="chatCommand &gt; resume subcommand &gt; should return an error if tag is missing" time="0.000524625">
        </testcase>
        <testcase classname="src/ui/commands/chatCommand.test.ts" name="chatCommand &gt; resume subcommand &gt; should inform if checkpoint is not found" time="0.00048325">
        </testcase>
        <testcase classname="src/ui/commands/chatCommand.test.ts" name="chatCommand &gt; resume subcommand &gt; should resume a conversation" time="0.000503542">
        </testcase>
        <testcase classname="src/ui/commands/chatCommand.test.ts" name="chatCommand &gt; resume subcommand &gt; completion &gt; should provide completion suggestions" time="0.000480458">
        </testcase>
        <testcase classname="src/ui/commands/chatCommand.test.ts" name="chatCommand &gt; resume subcommand &gt; completion &gt; should suggest filenames sorted by modified time (newest first)" time="0.000428291">
        </testcase>
        <testcase classname="src/ui/commands/chatCommand.test.ts" name="chatCommand &gt; delete subcommand &gt; should return an error if tag is missing" time="0.000476875">
        </testcase>
        <testcase classname="src/ui/commands/chatCommand.test.ts" name="chatCommand &gt; delete subcommand &gt; should return an error if checkpoint is not found" time="0.000392625">
        </testcase>
        <testcase classname="src/ui/commands/chatCommand.test.ts" name="chatCommand &gt; delete subcommand &gt; should delete the conversation" time="0.000422209">
        </testcase>
        <testcase classname="src/ui/commands/chatCommand.test.ts" name="chatCommand &gt; delete subcommand &gt; completion &gt; should provide completion suggestions" time="0.00046575">
        </testcase>
        <testcase classname="src/ui/commands/chatCommand.test.ts" name="chatCommand &gt; share subcommand &gt; should default to a json file if no path is provided" time="0.000846958">
        </testcase>
        <testcase classname="src/ui/commands/chatCommand.test.ts" name="chatCommand &gt; share subcommand &gt; should share the conversation to a JSON file" time="0.000572708">
        </testcase>
        <testcase classname="src/ui/commands/chatCommand.test.ts" name="chatCommand &gt; share subcommand &gt; should share the conversation to a Markdown file" time="0.008126167">
        </testcase>
        <testcase classname="src/ui/commands/chatCommand.test.ts" name="chatCommand &gt; share subcommand &gt; should return an error for unsupported file extensions" time="0.0007885">
        </testcase>
        <testcase classname="src/ui/commands/chatCommand.test.ts" name="chatCommand &gt; share subcommand &gt; should inform if there is no conversation to share" time="0.000546209">
        </testcase>
        <testcase classname="src/ui/commands/chatCommand.test.ts" name="chatCommand &gt; share subcommand &gt; should handle errors during file writing" time="0.000672583">
        </testcase>
        <testcase classname="src/ui/commands/chatCommand.test.ts" name="chatCommand &gt; share subcommand &gt; should output valid JSON schema" time="0.000754375">
        </testcase>
        <testcase classname="src/ui/commands/chatCommand.test.ts" name="chatCommand &gt; share subcommand &gt; should output correct markdown format" time="0.000682125">
        </testcase>
        <testcase classname="src/ui/commands/chatCommand.test.ts" name="chatCommand &gt; serializeHistoryToMarkdown &gt; should correctly serialize chat history to Markdown with icons" time="0.000856333">
        </testcase>
        <testcase classname="src/ui/commands/chatCommand.test.ts" name="chatCommand &gt; serializeHistoryToMarkdown &gt; should handle empty history" time="0.000651875">
        </testcase>
        <testcase classname="src/ui/commands/chatCommand.test.ts" name="chatCommand &gt; serializeHistoryToMarkdown &gt; should handle items with no text parts" time="0.000478666">
        </testcase>
        <testcase classname="src/ui/commands/chatCommand.test.ts" name="chatCommand &gt; serializeHistoryToMarkdown &gt; should correctly serialize function calls and responses" time="0.000493459">
        </testcase>
        <testcase classname="src/ui/commands/chatCommand.test.ts" name="chatCommand &gt; serializeHistoryToMarkdown &gt; should handle items with undefined role" time="0.000455">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/commands/clearCommand.test.ts" timestamp="2025-11-26T16:27:33.757Z" hostname="MacBook-Pro-6.local" tests="2" failures="0" errors="0" skipped="0" time="0.003907458">
        <testcase classname="src/ui/commands/clearCommand.test.ts" name="clearCommand &gt; should set debug message, reset chat, reset telemetry, and clear UI when config is available" time="0.002545583">
        </testcase>
        <testcase classname="src/ui/commands/clearCommand.test.ts" name="clearCommand &gt; should not attempt to reset chat if config service is not available" time="0.000574125">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/commands/compressCommand.test.ts" timestamp="2025-11-26T16:27:33.758Z" hostname="MacBook-Pro-6.local" tests="5" failures="0" errors="0" skipped="0" time="0.007432125">
        <testcase classname="src/ui/commands/compressCommand.test.ts" name="compressCommand &gt; should do nothing if a compression is already pending" time="0.004368666">
        </testcase>
        <testcase classname="src/ui/commands/compressCommand.test.ts" name="compressCommand &gt; should set pending item, call tryCompressChat, and add result on success" time="0.0011665">
        </testcase>
        <testcase classname="src/ui/commands/compressCommand.test.ts" name="compressCommand &gt; should add an error message if tryCompressChat returns falsy" time="0.000343584">
        </testcase>
        <testcase classname="src/ui/commands/compressCommand.test.ts" name="compressCommand &gt; should add an error message if tryCompressChat throws" time="0.000475125">
        </testcase>
        <testcase classname="src/ui/commands/compressCommand.test.ts" name="compressCommand &gt; should clear the pending item in a finally block" time="0.000246541">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/commands/copyCommand.test.ts" timestamp="2025-11-26T16:27:33.759Z" hostname="MacBook-Pro-6.local" tests="11" failures="0" errors="0" skipped="0" time="0.009365833">
        <testcase classname="src/ui/commands/copyCommand.test.ts" name="copyCommand &gt; should return info message when no history is available" time="0.001998333">
        </testcase>
        <testcase classname="src/ui/commands/copyCommand.test.ts" name="copyCommand &gt; should return info message when history is empty" time="0.000566459">
        </testcase>
        <testcase classname="src/ui/commands/copyCommand.test.ts" name="copyCommand &gt; should return info message when no AI messages are found in history" time="0.000487875">
        </testcase>
        <testcase classname="src/ui/commands/copyCommand.test.ts" name="copyCommand &gt; should copy last AI message to clipboard successfully" time="0.000971834">
        </testcase>
        <testcase classname="src/ui/commands/copyCommand.test.ts" name="copyCommand &gt; should handle multiple text parts in AI message" time="0.000516875">
        </testcase>
        <testcase classname="src/ui/commands/copyCommand.test.ts" name="copyCommand &gt; should filter out non-text parts" time="0.000501">
        </testcase>
        <testcase classname="src/ui/commands/copyCommand.test.ts" name="copyCommand &gt; should get the last AI message when multiple AI messages exist" time="0.000426875">
        </testcase>
        <testcase classname="src/ui/commands/copyCommand.test.ts" name="copyCommand &gt; should handle clipboard copy error" time="0.001413542">
            <system-out>
Clipboard access denied

            </system-out>
        </testcase>
        <testcase classname="src/ui/commands/copyCommand.test.ts" name="copyCommand &gt; should handle non-Error clipboard errors" time="0.000543459">
            <system-out>
String error

            </system-out>
        </testcase>
        <testcase classname="src/ui/commands/copyCommand.test.ts" name="copyCommand &gt; should return info message when no text parts found in AI message" time="0.000335041">
        </testcase>
        <testcase classname="src/ui/commands/copyCommand.test.ts" name="copyCommand &gt; should handle unavailable config service" time="0.000707875">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/commands/corgiCommand.test.ts" timestamp="2025-11-26T16:27:33.760Z" hostname="MacBook-Pro-6.local" tests="2" failures="0" errors="0" skipped="0" time="0.002820916">
        <testcase classname="src/ui/commands/corgiCommand.test.ts" name="corgiCommand &gt; should call the toggleCorgiMode function on the UI context" time="0.001791625">
        </testcase>
        <testcase classname="src/ui/commands/corgiCommand.test.ts" name="corgiCommand &gt; should have the correct name and description" time="0.000324709">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/commands/directoryCommand.test.tsx" timestamp="2025-11-26T16:27:33.760Z" hostname="MacBook-Pro-6.local" tests="7" failures="0" errors="0" skipped="0" time="0.006564916">
        <testcase classname="src/ui/commands/directoryCommand.test.tsx" name="directoryCommand &gt; show &gt; should display the list of directories" time="0.003378167">
        </testcase>
        <testcase classname="src/ui/commands/directoryCommand.test.tsx" name="directoryCommand &gt; add &gt; should show an error if no path is provided" time="0.0004325">
        </testcase>
        <testcase classname="src/ui/commands/directoryCommand.test.tsx" name="directoryCommand &gt; add &gt; should call addDirectory and show a success message for a single path" time="0.000496125">
        </testcase>
        <testcase classname="src/ui/commands/directoryCommand.test.tsx" name="directoryCommand &gt; add &gt; should call addDirectory for each path and show a success message for multiple paths" time="0.000314583">
        </testcase>
        <testcase classname="src/ui/commands/directoryCommand.test.tsx" name="directoryCommand &gt; add &gt; should show an error if addDirectory throws an exception" time="0.000277209">
        </testcase>
        <testcase classname="src/ui/commands/directoryCommand.test.tsx" name="directoryCommand &gt; add &gt; should handle a mix of successful and failed additions" time="0.00040575">
        </testcase>
        <testcase classname="src/ui/commands/directoryCommand.test.tsx" name="directoryCommand &gt; should correctly expand a Windows-style home directory path" time="0.000414708">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/commands/docsCommand.test.ts" timestamp="2025-11-26T16:27:33.761Z" hostname="MacBook-Pro-6.local" tests="3" failures="0" errors="0" skipped="0" time="0.004937375">
        <testcase classname="src/ui/commands/docsCommand.test.ts" name="docsCommand &gt; should add an info message and call &apos;open&apos; in a non-sandbox environment" time="0.003246125">
        </testcase>
        <testcase classname="src/ui/commands/docsCommand.test.ts" name="docsCommand &gt; should only add an info message in a sandbox environment" time="0.000589417">
        </testcase>
        <testcase classname="src/ui/commands/docsCommand.test.ts" name="docsCommand &gt; should not open browser for &apos;sandbox-exec&apos;" time="0.000301542">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/commands/editorCommand.test.ts" timestamp="2025-11-26T16:27:33.761Z" hostname="MacBook-Pro-6.local" tests="2" failures="0" errors="0" skipped="0" time="0.0032765">
        <testcase classname="src/ui/commands/editorCommand.test.ts" name="editorCommand &gt; should return a dialog action to open the editor dialog" time="0.001871708">
        </testcase>
        <testcase classname="src/ui/commands/editorCommand.test.ts" name="editorCommand &gt; should have the correct name and description" time="0.000204459">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/commands/extensionsCommand.test.ts" timestamp="2025-11-26T16:27:33.761Z" hostname="MacBook-Pro-6.local" tests="12" failures="0" errors="0" skipped="0" time="0.008438375">
        <testcase classname="src/ui/commands/extensionsCommand.test.ts" name="extensionsCommand &gt; list &gt; should add an EXTENSIONS_LIST item to the UI" time="0.003401917">
        </testcase>
        <testcase classname="src/ui/commands/extensionsCommand.test.ts" name="extensionsCommand &gt; update &gt; should show usage if no args are provided" time="0.00064975">
        </testcase>
        <testcase classname="src/ui/commands/extensionsCommand.test.ts" name="extensionsCommand &gt; update &gt; should inform user if there are no extensions to update with --all" time="0.000325708">
        </testcase>
        <testcase classname="src/ui/commands/extensionsCommand.test.ts" name="extensionsCommand &gt; update &gt; should call setPendingItem and addItem in a finally block on success" time="0.000346791">
        </testcase>
        <testcase classname="src/ui/commands/extensionsCommand.test.ts" name="extensionsCommand &gt; update &gt; should call setPendingItem and addItem in a finally block on failure" time="0.000524083">
        </testcase>
        <testcase classname="src/ui/commands/extensionsCommand.test.ts" name="extensionsCommand &gt; update &gt; should update a single extension by name" time="0.000329875">
        </testcase>
        <testcase classname="src/ui/commands/extensionsCommand.test.ts" name="extensionsCommand &gt; update &gt; should handle errors when updating a single extension" time="0.000280667">
        </testcase>
        <testcase classname="src/ui/commands/extensionsCommand.test.ts" name="extensionsCommand &gt; update &gt; should update multiple extensions by name" time="0.000624917">
        </testcase>
        <testcase classname="src/ui/commands/extensionsCommand.test.ts" name="extensionsCommand &gt; update &gt; completion &gt; &apos;should return matching extension names&apos;" time="0.000305291">
        </testcase>
        <testcase classname="src/ui/commands/extensionsCommand.test.ts" name="extensionsCommand &gt; update &gt; completion &gt; &apos;should return --all when partialArg m&apos;" time="0.000212042">
        </testcase>
        <testcase classname="src/ui/commands/extensionsCommand.test.ts" name="extensionsCommand &gt; update &gt; completion &gt; &apos;should return both extension names an&apos;" time="0.000236">
        </testcase>
        <testcase classname="src/ui/commands/extensionsCommand.test.ts" name="extensionsCommand &gt; update &gt; completion &gt; &apos;should return an empty array if no ma&apos;" time="0.00032275">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/commands/helpCommand.test.ts" timestamp="2025-11-26T16:27:33.762Z" hostname="MacBook-Pro-6.local" tests="2" failures="0" errors="0" skipped="0" time="0.004407834">
        <testcase classname="src/ui/commands/helpCommand.test.ts" name="helpCommand &gt; should add a help message to the UI history" time="0.003211959">
        </testcase>
        <testcase classname="src/ui/commands/helpCommand.test.ts" name="helpCommand &gt; should have the correct command properties" time="0.0004385">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/commands/ideCommand.test.ts" timestamp="2025-11-26T16:27:33.762Z" hostname="MacBook-Pro-6.local" tests="8" failures="0" errors="0" skipped="0" time="0.012134833">
        <testcase classname="src/ui/commands/ideCommand.test.ts" name="ideCommand &gt; should return the ide command" time="0.004591125">
        </testcase>
        <testcase classname="src/ui/commands/ideCommand.test.ts" name="ideCommand &gt; should show disable command when connected" time="0.000546209">
        </testcase>
        <testcase classname="src/ui/commands/ideCommand.test.ts" name="ideCommand &gt; status subcommand &gt; should show connected status" time="0.000842083">
        </testcase>
        <testcase classname="src/ui/commands/ideCommand.test.ts" name="ideCommand &gt; status subcommand &gt; should show connecting status" time="0.000346416">
        </testcase>
        <testcase classname="src/ui/commands/ideCommand.test.ts" name="ideCommand &gt; status subcommand &gt; should show disconnected status" time="0.000307625">
        </testcase>
        <testcase classname="src/ui/commands/ideCommand.test.ts" name="ideCommand &gt; status subcommand &gt; should show disconnected status with details" time="0.00032075">
        </testcase>
        <testcase classname="src/ui/commands/ideCommand.test.ts" name="ideCommand &gt; install subcommand &gt; should install the extension" time="0.0036505">
        </testcase>
        <testcase classname="src/ui/commands/ideCommand.test.ts" name="ideCommand &gt; install subcommand &gt; should show an error if installation fails" time="0.000616375">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/commands/initCommand.test.ts" timestamp="2025-11-26T16:27:33.763Z" hostname="MacBook-Pro-6.local" tests="5" failures="0" errors="0" skipped="0" time="0.006236458">
        <testcase classname="src/ui/commands/initCommand.test.ts" name="initCommand &gt; should ask for confirmation if QWEN.md already exists and is non-empty" time="0.002391417">
        </testcase>
        <testcase classname="src/ui/commands/initCommand.test.ts" name="initCommand &gt; should create QWEN.md and submit a prompt if it does not exist" time="0.001829042">
        </testcase>
        <testcase classname="src/ui/commands/initCommand.test.ts" name="initCommand &gt; should proceed to initialize when QWEN.md exists but is empty" time="0.000345958">
        </testcase>
        <testcase classname="src/ui/commands/initCommand.test.ts" name="initCommand &gt; should regenerate QWEN.md when overwrite is confirmed" time="0.000434667">
        </testcase>
        <testcase classname="src/ui/commands/initCommand.test.ts" name="initCommand &gt; should return an error if config is not available" time="0.000419125">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/commands/mcpCommand.test.ts" timestamp="2025-11-26T16:27:33.764Z" hostname="MacBook-Pro-6.local" tests="5" failures="0" errors="0" skipped="0" time="0.006651167">
        <testcase classname="src/ui/commands/mcpCommand.test.ts" name="mcpCommand &gt; basic functionality &gt; should show an error if config is not available" time="0.001982542">
        </testcase>
        <testcase classname="src/ui/commands/mcpCommand.test.ts" name="mcpCommand &gt; basic functionality &gt; should show an error if tool registry is not available" time="0.000461792">
        </testcase>
        <testcase classname="src/ui/commands/mcpCommand.test.ts" name="mcpCommand &gt; with configured MCP servers &gt; should display configured MCP servers with status indicators and their tools" time="0.002403875">
        </testcase>
        <testcase classname="src/ui/commands/mcpCommand.test.ts" name="mcpCommand &gt; with configured MCP servers &gt; should display tool descriptions when desc argument is used" time="0.000579292">
        </testcase>
        <testcase classname="src/ui/commands/mcpCommand.test.ts" name="mcpCommand &gt; with configured MCP servers &gt; should not display descriptions when nodesc argument is used" time="0.000397833">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/commands/memoryCommand.test.ts" timestamp="2025-11-26T16:27:33.764Z" hostname="MacBook-Pro-6.local" tests="11" failures="0" errors="0" skipped="0" time="0.009741834">
        <testcase classname="src/ui/commands/memoryCommand.test.ts" name="memoryCommand &gt; /memory show &gt; should display a message if memory is empty" time="0.003774458">
        </testcase>
        <testcase classname="src/ui/commands/memoryCommand.test.ts" name="memoryCommand &gt; /memory show &gt; should display the memory content and file count if it exists" time="0.000570209">
        </testcase>
        <testcase classname="src/ui/commands/memoryCommand.test.ts" name="memoryCommand &gt; /memory add &gt; should return an error message if no arguments are provided" time="0.000429833">
        </testcase>
        <testcase classname="src/ui/commands/memoryCommand.test.ts" name="memoryCommand &gt; /memory add &gt; should return a tool action and add an info message when arguments are provided" time="0.000319709">
        </testcase>
        <testcase classname="src/ui/commands/memoryCommand.test.ts" name="memoryCommand &gt; /memory add &gt; should handle --global flag and add scope to tool args" time="0.00028325">
        </testcase>
        <testcase classname="src/ui/commands/memoryCommand.test.ts" name="memoryCommand &gt; /memory add &gt; should handle --project flag and add scope to tool args" time="0.000266125">
        </testcase>
        <testcase classname="src/ui/commands/memoryCommand.test.ts" name="memoryCommand &gt; /memory add &gt; should return error if flag is provided but no fact follows" time="0.0002205">
        </testcase>
        <testcase classname="src/ui/commands/memoryCommand.test.ts" name="memoryCommand &gt; /memory refresh &gt; should display success message when memory is refreshed with content" time="0.000687458">
        </testcase>
        <testcase classname="src/ui/commands/memoryCommand.test.ts" name="memoryCommand &gt; /memory refresh &gt; should display success message when memory is refreshed with no content" time="0.000378">
        </testcase>
        <testcase classname="src/ui/commands/memoryCommand.test.ts" name="memoryCommand &gt; /memory refresh &gt; should display an error message if refreshing fails" time="0.000568083">
        </testcase>
        <testcase classname="src/ui/commands/memoryCommand.test.ts" name="memoryCommand &gt; /memory refresh &gt; should not throw if config service is unavailable" time="0.001175083">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/commands/modelCommand.test.ts" timestamp="2025-11-26T16:27:33.765Z" hostname="MacBook-Pro-6.local" tests="9" failures="0" errors="0" skipped="0" time="0.006094292">
        <testcase classname="src/ui/commands/modelCommand.test.ts" name="modelCommand &gt; should have the correct name and description" time="0.001398208">
        </testcase>
        <testcase classname="src/ui/commands/modelCommand.test.ts" name="modelCommand &gt; should return error when config is not available" time="0.000640875">
        </testcase>
        <testcase classname="src/ui/commands/modelCommand.test.ts" name="modelCommand &gt; should return error when content generator config is not available" time="0.000359708">
        </testcase>
        <testcase classname="src/ui/commands/modelCommand.test.ts" name="modelCommand &gt; should return error when auth type is not available" time="0.000352667">
        </testcase>
        <testcase classname="src/ui/commands/modelCommand.test.ts" name="modelCommand &gt; should return dialog action for QWEN_OAUTH auth type" time="0.000286042">
        </testcase>
        <testcase classname="src/ui/commands/modelCommand.test.ts" name="modelCommand &gt; should return dialog action for USE_OPENAI auth type when model is available" time="0.000241959">
        </testcase>
        <testcase classname="src/ui/commands/modelCommand.test.ts" name="modelCommand &gt; should return error for USE_OPENAI auth type when no model is available" time="0.000311083">
        </testcase>
        <testcase classname="src/ui/commands/modelCommand.test.ts" name="modelCommand &gt; should return error for unsupported auth types" time="0.000280875">
        </testcase>
        <testcase classname="src/ui/commands/modelCommand.test.ts" name="modelCommand &gt; should handle undefined auth type" time="0.00033625">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/commands/permissionsCommand.test.ts" timestamp="2025-11-26T16:27:33.766Z" hostname="MacBook-Pro-6.local" tests="3" failures="0" errors="0" skipped="0" time="0.004147583">
        <testcase classname="src/ui/commands/permissionsCommand.test.ts" name="permissionsCommand &gt; should have the correct name and description" time="0.002346292">
        </testcase>
        <testcase classname="src/ui/commands/permissionsCommand.test.ts" name="permissionsCommand &gt; should be a built-in command" time="0.000253292">
        </testcase>
        <testcase classname="src/ui/commands/permissionsCommand.test.ts" name="permissionsCommand &gt; should return an action to open the permissions dialog" time="0.000597125">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/commands/quitCommand.test.ts" timestamp="2025-11-26T16:27:33.766Z" hostname="MacBook-Pro-6.local" tests="1" failures="0" errors="0" skipped="0" time="0.004441959">
        <testcase classname="src/ui/commands/quitCommand.test.ts" name="quitCommand &gt; returns a QuitActionReturn object with the correct messages" time="0.003648083">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/commands/restoreCommand.test.ts" timestamp="2025-11-26T16:27:33.766Z" hostname="MacBook-Pro-6.local" tests="13" failures="0" errors="0" skipped="0" time="0.157510083">
        <testcase classname="src/ui/commands/restoreCommand.test.ts" name="restoreCommand &gt; should return null if checkpointing is not enabled" time="0.012132459">
        </testcase>
        <testcase classname="src/ui/commands/restoreCommand.test.ts" name="restoreCommand &gt; should return the command if checkpointing is enabled" time="0.006353958">
        </testcase>
        <testcase classname="src/ui/commands/restoreCommand.test.ts" name="restoreCommand &gt; action &gt; should return an error if temp dir is not found" time="0.021835542">
        </testcase>
        <testcase classname="src/ui/commands/restoreCommand.test.ts" name="restoreCommand &gt; action &gt; should inform when no checkpoints are found if no args are passed" time="0.0059675">
        </testcase>
        <testcase classname="src/ui/commands/restoreCommand.test.ts" name="restoreCommand &gt; action &gt; should list available checkpoints if no args are passed" time="0.010439291">
        </testcase>
        <testcase classname="src/ui/commands/restoreCommand.test.ts" name="restoreCommand &gt; action &gt; should return an error if the specified file is not found" time="0.018904041">
        </testcase>
        <testcase classname="src/ui/commands/restoreCommand.test.ts" name="restoreCommand &gt; action &gt; should handle file read errors gracefully" time="0.009670959">
        </testcase>
        <testcase classname="src/ui/commands/restoreCommand.test.ts" name="restoreCommand &gt; action &gt; should restore a tool call and project state" time="0.009743917">
        </testcase>
        <testcase classname="src/ui/commands/restoreCommand.test.ts" name="restoreCommand &gt; action &gt; should restore even if only toolCall is present" time="0.016936208">
        </testcase>
        <testcase classname="src/ui/commands/restoreCommand.test.ts" name="restoreCommand &gt; should return an error for a checkpoint file missing the toolCall property" time="0.033694666">
        </testcase>
        <testcase classname="src/ui/commands/restoreCommand.test.ts" name="restoreCommand &gt; completion &gt; should return an empty array if temp dir is not found" time="0.002465833">
        </testcase>
        <testcase classname="src/ui/commands/restoreCommand.test.ts" name="restoreCommand &gt; completion &gt; should return an empty array on readdir error" time="0.003975292">
        </testcase>
        <testcase classname="src/ui/commands/restoreCommand.test.ts" name="restoreCommand &gt; completion &gt; should return a list of checkpoint names" time="0.003104083">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/commands/settingsCommand.test.ts" timestamp="2025-11-26T16:27:33.767Z" hostname="MacBook-Pro-6.local" tests="2" failures="0" errors="0" skipped="0" time="0.003155">
        <testcase classname="src/ui/commands/settingsCommand.test.ts" name="settingsCommand &gt; should return a dialog action to open the settings dialog" time="0.002020542">
        </testcase>
        <testcase classname="src/ui/commands/settingsCommand.test.ts" name="settingsCommand &gt; should have the correct name and description" time="0.000362208">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/commands/setupGithubCommand.test.ts" timestamp="2025-11-26T16:27:33.768Z" hostname="MacBook-Pro-6.local" tests="8" failures="0" errors="0" skipped="0" time="0.138024833">
        <testcase classname="src/ui/commands/setupGithubCommand.test.ts" name="setupGithubCommand &gt; returns a tool action to download github workflows and handles paths" time="0.063609416">
        </testcase>
        <testcase classname="src/ui/commands/setupGithubCommand.test.ts" name="updateGitignore &gt; creates a new .gitignore file when none exists" time="0.005243583">
        </testcase>
        <testcase classname="src/ui/commands/setupGithubCommand.test.ts" name="updateGitignore &gt; appends entries to existing .gitignore file" time="0.007689167">
        </testcase>
        <testcase classname="src/ui/commands/setupGithubCommand.test.ts" name="updateGitignore &gt; does not add duplicate entries" time="0.010906583">
        </testcase>
        <testcase classname="src/ui/commands/setupGithubCommand.test.ts" name="updateGitignore &gt; adds only missing entries when some already exist" time="0.021023541">
        </testcase>
        <testcase classname="src/ui/commands/setupGithubCommand.test.ts" name="updateGitignore &gt; does not get confused by entries in comments or as substrings" time="0.018361209">
        </testcase>
        <testcase classname="src/ui/commands/setupGithubCommand.test.ts" name="updateGitignore &gt; handles file system errors gracefully" time="0.007349292">
            <system-out>
Failed to update .gitignore: Error: ENOENT: no such file or directory, open &apos;/var/folders/f1/pv_bxb6d79gd40mn1q2nb0740000gn/T/update-gitignore-H3pAHQ/non-existent/.gitignore&apos;
[90m    at open (node:internal/fs/promises:638:25)[39m
[90m    at Object.writeFile (node:internal/fs/promises:1208:14)[39m
    at Module.updateGitignore [90m(/Users/user/qwen-masters-code/packages/cli/[39msrc/ui/commands/setupGithubCommand.ts:72:7[90m)[39m
    at [90m/Users/user/qwen-masters-code/packages/cli/[39msrc/ui/commands/setupGithubCommand.test.ts:218:5
    at file:///Users/user/qwen-masters-code/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:20 {
  errno: [33m-2[39m,
  code: [32m&apos;ENOENT&apos;[39m,
  syscall: [32m&apos;open&apos;[39m,
  path: [32m&apos;/var/folders/f1/pv_bxb6d79gd40mn1q2nb0740000gn/T/update-gitignore-H3pAHQ/non-existent/.gitignore&apos;[39m
}

            </system-out>
        </testcase>
        <testcase classname="src/ui/commands/setupGithubCommand.test.ts" name="updateGitignore &gt; handles permission errors gracefully" time="0.002881917">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/commands/statsCommand.test.ts" timestamp="2025-11-26T16:27:33.768Z" hostname="MacBook-Pro-6.local" tests="3" failures="0" errors="0" skipped="0" time="0.006117458">
        <testcase classname="src/ui/commands/statsCommand.test.ts" name="statsCommand &gt; should display general session stats when run with no subcommand" time="0.0046415">
        </testcase>
        <testcase classname="src/ui/commands/statsCommand.test.ts" name="statsCommand &gt; should display model stats when using the &quot;model&quot; subcommand" time="0.000433708">
        </testcase>
        <testcase classname="src/ui/commands/statsCommand.test.ts" name="statsCommand &gt; should display tool stats when using the &quot;tools&quot; subcommand" time="0.000269708">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/commands/terminalSetupCommand.test.ts" timestamp="2025-11-26T16:27:33.769Z" hostname="MacBook-Pro-6.local" tests="5" failures="0" errors="0" skipped="0" time="0.003375625">
        <testcase classname="src/ui/commands/terminalSetupCommand.test.ts" name="terminalSetupCommand &gt; should have correct metadata" time="0.001091959">
        </testcase>
        <testcase classname="src/ui/commands/terminalSetupCommand.test.ts" name="terminalSetupCommand &gt; should return success message when terminal setup succeeds" time="0.000877791">
        </testcase>
        <testcase classname="src/ui/commands/terminalSetupCommand.test.ts" name="terminalSetupCommand &gt; should append restart message when terminal setup requires restart" time="0.000170333">
        </testcase>
        <testcase classname="src/ui/commands/terminalSetupCommand.test.ts" name="terminalSetupCommand &gt; should return error message when terminal setup fails" time="0.00011425">
        </testcase>
        <testcase classname="src/ui/commands/terminalSetupCommand.test.ts" name="terminalSetupCommand &gt; should handle exceptions from terminal setup" time="0.000318625">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/commands/themeCommand.test.ts" timestamp="2025-11-26T16:27:33.769Z" hostname="MacBook-Pro-6.local" tests="2" failures="0" errors="0" skipped="0" time="0.00322025">
        <testcase classname="src/ui/commands/themeCommand.test.ts" name="themeCommand &gt; should return a dialog action to open the theme dialog" time="0.002036709">
        </testcase>
        <testcase classname="src/ui/commands/themeCommand.test.ts" name="themeCommand &gt; should have the correct name and description" time="0.000412833">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/commands/toolsCommand.test.ts" timestamp="2025-11-26T16:27:33.769Z" hostname="MacBook-Pro-6.local" tests="4" failures="0" errors="0" skipped="0" time="0.0081905">
        <testcase classname="src/ui/commands/toolsCommand.test.ts" name="toolsCommand &gt; should display an error if the tool registry is unavailable" time="0.00597725">
        </testcase>
        <testcase classname="src/ui/commands/toolsCommand.test.ts" name="toolsCommand &gt; should display &quot;No tools available&quot; when none are found" time="0.000434416">
        </testcase>
        <testcase classname="src/ui/commands/toolsCommand.test.ts" name="toolsCommand &gt; should list tools without descriptions by default" time="0.0006395">
        </testcase>
        <testcase classname="src/ui/commands/toolsCommand.test.ts" name="toolsCommand &gt; should list tools with descriptions when &quot;desc&quot; arg is passed" time="0.000305292">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/AnsiOutput.test.tsx" timestamp="2025-11-26T16:27:33.770Z" hostname="MacBook-Pro-6.local" tests="6" failures="0" errors="0" skipped="0" time="0.024241833">
        <testcase classname="src/ui/components/AnsiOutput.test.tsx" name="&lt;AnsiOutputText /&gt; &gt; renders a simple AnsiOutput object correctly" time="0.013322333">
        </testcase>
        <testcase classname="src/ui/components/AnsiOutput.test.tsx" name="&lt;AnsiOutputText /&gt; &gt; correctly applies all the styles" time="0.001252792">
        </testcase>
        <testcase classname="src/ui/components/AnsiOutput.test.tsx" name="&lt;AnsiOutputText /&gt; &gt; correctly applies foreground and background colors" time="0.000649083">
        </testcase>
        <testcase classname="src/ui/components/AnsiOutput.test.tsx" name="&lt;AnsiOutputText /&gt; &gt; handles empty lines and empty tokens" time="0.001101917">
        </testcase>
        <testcase classname="src/ui/components/AnsiOutput.test.tsx" name="&lt;AnsiOutputText /&gt; &gt; respects the availableTerminalHeight prop and slices the lines correctly" time="0.000981625">
        </testcase>
        <testcase classname="src/ui/components/AnsiOutput.test.tsx" name="&lt;AnsiOutputText /&gt; &gt; renders a large AnsiOutput object without crashing" time="0.005486833">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/Composer.test.tsx" timestamp="2025-11-26T16:27:33.771Z" hostname="MacBook-Pro-6.local" tests="18" failures="0" errors="0" skipped="0" time="0.122726792">
        <testcase classname="src/ui/components/Composer.test.tsx" name="Composer &gt; Footer Display Settings &gt; renders Footer by default when hideFooter is false" time="0.0172715">
        </testcase>
        <testcase classname="src/ui/components/Composer.test.tsx" name="Composer &gt; Footer Display Settings &gt; does NOT render Footer when hideFooter is true" time="0.002502">
        </testcase>
        <testcase classname="src/ui/components/Composer.test.tsx" name="Composer &gt; Footer Display Settings &gt; passes correct props to Footer including vim mode when enabled" time="0.002285917">
        </testcase>
        <testcase classname="src/ui/components/Composer.test.tsx" name="Composer &gt; Loading Indicator &gt; renders LoadingIndicator with thought when streaming" time="0.02340525">
        </testcase>
        <testcase classname="src/ui/components/Composer.test.tsx" name="Composer &gt; Loading Indicator &gt; renders LoadingIndicator without thought when accessibility disables loading phrases" time="0.004522459">
        </testcase>
        <testcase classname="src/ui/components/Composer.test.tsx" name="Composer &gt; Loading Indicator &gt; suppresses thought when waiting for confirmation" time="0.004899708">
        </testcase>
        <testcase classname="src/ui/components/Composer.test.tsx" name="Composer &gt; Message Queue Display &gt; displays queued messages when present" time="0.007735375">
        </testcase>
        <testcase classname="src/ui/components/Composer.test.tsx" name="Composer &gt; Message Queue Display &gt; renders QueuedMessageDisplay with empty message queue" time="0.002011542">
        </testcase>
        <testcase classname="src/ui/components/Composer.test.tsx" name="Composer &gt; Context and Status Display &gt; shows ContextSummaryDisplay in normal state" time="0.001998459">
        </testcase>
        <testcase classname="src/ui/components/Composer.test.tsx" name="Composer &gt; Context and Status Display &gt; shows Ctrl+C exit prompt when ctrlCPressedOnce is true" time="0.002489084">
        </testcase>
        <testcase classname="src/ui/components/Composer.test.tsx" name="Composer &gt; Context and Status Display &gt; shows Ctrl+D exit prompt when ctrlDPressedOnce is true" time="0.016164042">
        </testcase>
        <testcase classname="src/ui/components/Composer.test.tsx" name="Composer &gt; Context and Status Display &gt; shows escape prompt when showEscapePrompt is true" time="0.002420833">
        </testcase>
        <testcase classname="src/ui/components/Composer.test.tsx" name="Composer &gt; Input and Indicators &gt; renders InputPrompt when input is active" time="0.001784584">
        </testcase>
        <testcase classname="src/ui/components/Composer.test.tsx" name="Composer &gt; Input and Indicators &gt; does not render InputPrompt when input is inactive" time="0.00353275">
        </testcase>
        <testcase classname="src/ui/components/Composer.test.tsx" name="Composer &gt; Input and Indicators &gt; shows AutoAcceptIndicator when approval mode is not default and shell mode is inactive" time="0.011165625">
        </testcase>
        <testcase classname="src/ui/components/Composer.test.tsx" name="Composer &gt; Input and Indicators &gt; shows ShellModeIndicator when shell mode is active" time="0.002316833">
        </testcase>
        <testcase classname="src/ui/components/Composer.test.tsx" name="Composer &gt; Error Details Display &gt; shows DetailedMessagesDisplay when showErrorDetails is true" time="0.010720334">
        </testcase>
        <testcase classname="src/ui/components/Composer.test.tsx" name="Composer &gt; Error Details Display &gt; does not show error details when showErrorDetails is false" time="0.004201792">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/ConsentPrompt.test.tsx" timestamp="2025-11-26T16:27:33.772Z" hostname="MacBook-Pro-6.local" tests="5" failures="0" errors="0" skipped="0" time="0.028053583">
        <testcase classname="src/ui/components/ConsentPrompt.test.tsx" name="ConsentPrompt &gt; renders a string prompt with MarkdownDisplay" time="0.016154833">
        </testcase>
        <testcase classname="src/ui/components/ConsentPrompt.test.tsx" name="ConsentPrompt &gt; renders a ReactNode prompt directly" time="0.003805084">
        </testcase>
        <testcase classname="src/ui/components/ConsentPrompt.test.tsx" name="ConsentPrompt &gt; calls onConfirm with true when &quot;Yes&quot; is selected" time="0.001944875">
        </testcase>
        <testcase classname="src/ui/components/ConsentPrompt.test.tsx" name="ConsentPrompt &gt; calls onConfirm with false when &quot;No&quot; is selected" time="0.001675833">
        </testcase>
        <testcase classname="src/ui/components/ConsentPrompt.test.tsx" name="ConsentPrompt &gt; passes correct items to RadioButtonSelect" time="0.002635833">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/ContextSummaryDisplay.test.tsx" timestamp="2025-11-26T16:27:33.773Z" hostname="MacBook-Pro-6.local" tests="4" failures="0" errors="0" skipped="0" time="0.02325825">
        <testcase classname="src/ui/components/ContextSummaryDisplay.test.tsx" name="&lt;ContextSummaryDisplay /&gt; &gt; should render on a single line on a wide screen" time="0.01582">
        </testcase>
        <testcase classname="src/ui/components/ContextSummaryDisplay.test.tsx" name="&lt;ContextSummaryDisplay /&gt; &gt; should render on multiple lines on a narrow screen" time="0.002987833">
        </testcase>
        <testcase classname="src/ui/components/ContextSummaryDisplay.test.tsx" name="&lt;ContextSummaryDisplay /&gt; &gt; should switch layout at the 80-column breakpoint" time="0.002682125">
        </testcase>
        <testcase classname="src/ui/components/ContextSummaryDisplay.test.tsx" name="&lt;ContextSummaryDisplay /&gt; &gt; should not render empty parts" time="0.000900125">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/FolderTrustDialog.test.tsx" timestamp="2025-11-26T16:27:33.773Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/components/FolderTrustDialog.test.tsx" name="src/ui/components/FolderTrustDialog.test.tsx" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/Footer.test.tsx" timestamp="2025-11-26T16:27:33.774Z" hostname="MacBook-Pro-6.local" tests="17" failures="0" errors="0" skipped="0" time="0.085608208">
        <testcase classname="src/ui/components/Footer.test.tsx" name="&lt;Footer /&gt; &gt; renders the component" time="0.018251">
        </testcase>
        <testcase classname="src/ui/components/Footer.test.tsx" name="&lt;Footer /&gt; &gt; path display &gt; should display a shortened path on a narrow terminal" time="0.007809416">
        </testcase>
        <testcase classname="src/ui/components/Footer.test.tsx" name="&lt;Footer /&gt; &gt; path display &gt; should use wide layout at 80 columns" time="0.001738583">
        </testcase>
        <testcase classname="src/ui/components/Footer.test.tsx" name="&lt;Footer /&gt; &gt; displays the branch name when provided" time="0.001797167">
        </testcase>
        <testcase classname="src/ui/components/Footer.test.tsx" name="&lt;Footer /&gt; &gt; does not display the branch name when not provided" time="0.001767167">
        </testcase>
        <testcase classname="src/ui/components/Footer.test.tsx" name="&lt;Footer /&gt; &gt; displays the model name and context percentage" time="0.001850167">
        </testcase>
        <testcase classname="src/ui/components/Footer.test.tsx" name="&lt;Footer /&gt; &gt; displays the model name and abbreviated context percentage" time="0.005388667">
        </testcase>
        <testcase classname="src/ui/components/Footer.test.tsx" name="&lt;Footer /&gt; &gt; sandbox and trust info &gt; should display untrusted when isTrustedFolder is false" time="0.0025255">
        </testcase>
        <testcase classname="src/ui/components/Footer.test.tsx" name="&lt;Footer /&gt; &gt; sandbox and trust info &gt; should display custom sandbox info when SANDBOX env is set" time="0.00231625">
        </testcase>
        <testcase classname="src/ui/components/Footer.test.tsx" name="&lt;Footer /&gt; &gt; sandbox and trust info &gt; should display macOS Seatbelt info when SANDBOX is sandbox-exec" time="0.006686">
        </testcase>
        <testcase classname="src/ui/components/Footer.test.tsx" name="&lt;Footer /&gt; &gt; sandbox and trust info &gt; should display &quot;no sandbox&quot; when SANDBOX is not set and folder is trusted" time="0.002746709">
        </testcase>
        <testcase classname="src/ui/components/Footer.test.tsx" name="&lt;Footer /&gt; &gt; sandbox and trust info &gt; should prioritize untrusted message over sandbox info" time="0.001580083">
        </testcase>
        <testcase classname="src/ui/components/Footer.test.tsx" name="&lt;Footer /&gt; &gt; footer configuration filtering (golden snapshots) &gt; renders complete footer with all sections visible (baseline)" time="0.003614208">
        </testcase>
        <testcase classname="src/ui/components/Footer.test.tsx" name="&lt;Footer /&gt; &gt; footer configuration filtering (golden snapshots) &gt; renders footer with all optional sections hidden (minimal footer)" time="0.000718166">
        </testcase>
        <testcase classname="src/ui/components/Footer.test.tsx" name="&lt;Footer /&gt; &gt; footer configuration filtering (golden snapshots) &gt; renders footer with only model info hidden (partial filtering)" time="0.001233125">
        </testcase>
        <testcase classname="src/ui/components/Footer.test.tsx" name="&lt;Footer /&gt; &gt; footer configuration filtering (golden snapshots) &gt; renders footer with CWD and model info hidden to test alignment (only sandbox visible)" time="0.000755958">
        </testcase>
        <testcase classname="src/ui/components/Footer.test.tsx" name="&lt;Footer /&gt; &gt; footer configuration filtering (golden snapshots) &gt; renders complete footer in narrow terminal (baseline narrow)" time="0.023725625">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/Header.test.tsx" timestamp="2025-11-26T16:27:33.776Z" hostname="MacBook-Pro-6.local" tests="4" failures="0" errors="0" skipped="0" time="0.054468125">
        <testcase classname="src/ui/components/Header.test.tsx" name="&lt;Header /&gt; &gt; renders the long logo on a wide terminal" time="0.040730084">
        </testcase>
        <testcase classname="src/ui/components/Header.test.tsx" name="&lt;Header /&gt; &gt; renders custom ASCII art when provided" time="0.002009791">
        </testcase>
        <testcase classname="src/ui/components/Header.test.tsx" name="&lt;Header /&gt; &gt; displays the version number when nightly is true" time="0.005305333">
        </testcase>
        <testcase classname="src/ui/components/Header.test.tsx" name="&lt;Header /&gt; &gt; does not display the version number when nightly is false" time="0.00395425">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/Help.test.tsx" timestamp="2025-11-26T16:27:33.776Z" hostname="MacBook-Pro-6.local" tests="2" failures="0" errors="0" skipped="0" time="0.058091666">
        <testcase classname="src/ui/components/Help.test.tsx" name="Help Component &gt; should not render hidden commands" time="0.040785041">
        </testcase>
        <testcase classname="src/ui/components/Help.test.tsx" name="Help Component &gt; should not render hidden subcommands" time="0.016469666">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/HistoryItemDisplay.test.tsx" timestamp="2025-11-26T16:27:33.777Z" hostname="MacBook-Pro-6.local" tests="13" failures="0" errors="0" skipped="0" time="0.280914959">
        <testcase classname="src/ui/components/HistoryItemDisplay.test.tsx" name="&lt;HistoryItemDisplay /&gt; &gt; renders UserMessage for &quot;user&quot; type" time="0.039490125">
        </testcase>
        <testcase classname="src/ui/components/HistoryItemDisplay.test.tsx" name="&lt;HistoryItemDisplay /&gt; &gt; renders UserMessage for &quot;user&quot; type with slash command" time="0.003469375">
        </testcase>
        <testcase classname="src/ui/components/HistoryItemDisplay.test.tsx" name="&lt;HistoryItemDisplay /&gt; &gt; renders StatsDisplay for &quot;stats&quot; type" time="0.02721225">
        </testcase>
        <testcase classname="src/ui/components/HistoryItemDisplay.test.tsx" name="&lt;HistoryItemDisplay /&gt; &gt; renders AboutBox for &quot;about&quot; type" time="0.027647583">
        </testcase>
        <testcase classname="src/ui/components/HistoryItemDisplay.test.tsx" name="&lt;HistoryItemDisplay /&gt; &gt; renders ModelStatsDisplay for &quot;model_stats&quot; type" time="0.003074042">
        </testcase>
        <testcase classname="src/ui/components/HistoryItemDisplay.test.tsx" name="&lt;HistoryItemDisplay /&gt; &gt; renders ToolStatsDisplay for &quot;tool_stats&quot; type" time="0.005627666">
        </testcase>
        <testcase classname="src/ui/components/HistoryItemDisplay.test.tsx" name="&lt;HistoryItemDisplay /&gt; &gt; renders SessionSummaryDisplay for &quot;quit&quot; type" time="0.014732125">
        </testcase>
        <testcase classname="src/ui/components/HistoryItemDisplay.test.tsx" name="&lt;HistoryItemDisplay /&gt; &gt; should escape ANSI codes in text content" time="0.001487583">
        </testcase>
        <testcase classname="src/ui/components/HistoryItemDisplay.test.tsx" name="&lt;HistoryItemDisplay /&gt; &gt; should escape ANSI codes in tool confirmation details" time="0.000932541">
        </testcase>
        <testcase classname="src/ui/components/HistoryItemDisplay.test.tsx" name="&lt;HistoryItemDisplay /&gt; &gt; should render a truncated gemini item" time="0.054367667">
        </testcase>
        <testcase classname="src/ui/components/HistoryItemDisplay.test.tsx" name="&lt;HistoryItemDisplay /&gt; &gt; should render a full gemini item when using availableTerminalHeightGemini" time="0.052516875">
        </testcase>
        <testcase classname="src/ui/components/HistoryItemDisplay.test.tsx" name="&lt;HistoryItemDisplay /&gt; &gt; should render a truncated gemini_content item" time="0.005763042">
        </testcase>
        <testcase classname="src/ui/components/HistoryItemDisplay.test.tsx" name="&lt;HistoryItemDisplay /&gt; &gt; should render a full gemini_content item when using availableTerminalHeightGemini" time="0.043119458">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/IdeTrustChangeDialog.test.tsx" timestamp="2025-11-26T16:27:33.779Z" hostname="MacBook-Pro-6.local" tests="6" failures="0" errors="0" skipped="0" time="0.146532583">
        <testcase classname="src/ui/components/IdeTrustChangeDialog.test.tsx" name="IdeTrustChangeDialog &gt; renders the correct message for CONNECTION_CHANGE" time="0.054229583">
        </testcase>
        <testcase classname="src/ui/components/IdeTrustChangeDialog.test.tsx" name="IdeTrustChangeDialog &gt; renders the correct message for TRUST_CHANGE" time="0.005979584">
        </testcase>
        <testcase classname="src/ui/components/IdeTrustChangeDialog.test.tsx" name="IdeTrustChangeDialog &gt; renders a generic message and logs an error for NONE reason" time="0.004101292">
        </testcase>
        <testcase classname="src/ui/components/IdeTrustChangeDialog.test.tsx" name="IdeTrustChangeDialog &gt; calls relaunchApp when &quot;r&quot; is pressed" time="0.002964">
        </testcase>
        <testcase classname="src/ui/components/IdeTrustChangeDialog.test.tsx" name="IdeTrustChangeDialog &gt; calls relaunchApp when &quot;R&quot; is pressed" time="0.022921459">
        </testcase>
        <testcase classname="src/ui/components/IdeTrustChangeDialog.test.tsx" name="IdeTrustChangeDialog &gt; does not call relaunchApp when another key is pressed" time="0.054238417">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/InputPrompt.test.tsx" timestamp="2025-11-26T16:27:33.779Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/components/InputPrompt.test.tsx" name="src/ui/components/InputPrompt.test.tsx" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/LoadingIndicator.test.tsx" timestamp="2025-11-26T16:27:33.780Z" hostname="MacBook-Pro-6.local" tests="16" failures="0" errors="0" skipped="0" time="0.063506417">
        <testcase classname="src/ui/components/LoadingIndicator.test.tsx" name="&lt;LoadingIndicator /&gt; &gt; should not render when streamingState is Idle" time="0.01348475">
        </testcase>
        <testcase classname="src/ui/components/LoadingIndicator.test.tsx" name="&lt;LoadingIndicator /&gt; &gt; should render spinner, phrase, and time when streamingState is Responding" time="0.008950208">
        </testcase>
        <testcase classname="src/ui/components/LoadingIndicator.test.tsx" name="&lt;LoadingIndicator /&gt; &gt; should render spinner (static), phrase but no time/cancel when streamingState is WaitingForConfirmation" time="0.003798583">
        </testcase>
        <testcase classname="src/ui/components/LoadingIndicator.test.tsx" name="&lt;LoadingIndicator /&gt; &gt; should display the currentLoadingPhrase correctly" time="0.001525458">
        </testcase>
        <testcase classname="src/ui/components/LoadingIndicator.test.tsx" name="&lt;LoadingIndicator /&gt; &gt; should display the elapsedTime correctly when Responding" time="0.001413458">
        </testcase>
        <testcase classname="src/ui/components/LoadingIndicator.test.tsx" name="&lt;LoadingIndicator /&gt; &gt; should display the elapsedTime correctly in human-readable format" time="0.001482">
        </testcase>
        <testcase classname="src/ui/components/LoadingIndicator.test.tsx" name="&lt;LoadingIndicator /&gt; &gt; should render rightContent when provided" time="0.00159725">
        </testcase>
        <testcase classname="src/ui/components/LoadingIndicator.test.tsx" name="&lt;LoadingIndicator /&gt; &gt; should transition correctly between states using rerender" time="0.003727333">
        </testcase>
        <testcase classname="src/ui/components/LoadingIndicator.test.tsx" name="&lt;LoadingIndicator /&gt; &gt; should display fallback phrase if thought is empty" time="0.013208708">
        </testcase>
        <testcase classname="src/ui/components/LoadingIndicator.test.tsx" name="&lt;LoadingIndicator /&gt; &gt; should display the subject of a thought" time="0.001582959">
        </testcase>
        <testcase classname="src/ui/components/LoadingIndicator.test.tsx" name="&lt;LoadingIndicator /&gt; &gt; should prioritize thought.subject over currentLoadingPhrase" time="0.001172792">
        </testcase>
        <testcase classname="src/ui/components/LoadingIndicator.test.tsx" name="&lt;LoadingIndicator /&gt; &gt; should truncate long primary text instead of wrapping" time="0.005037833">
        </testcase>
        <testcase classname="src/ui/components/LoadingIndicator.test.tsx" name="&lt;LoadingIndicator /&gt; &gt; responsive layout &gt; should render on a single line on a wide terminal" time="0.00140575">
        </testcase>
        <testcase classname="src/ui/components/LoadingIndicator.test.tsx" name="&lt;LoadingIndicator /&gt; &gt; responsive layout &gt; should render on multiple lines on a narrow terminal" time="0.001862667">
        </testcase>
        <testcase classname="src/ui/components/LoadingIndicator.test.tsx" name="&lt;LoadingIndicator /&gt; &gt; responsive layout &gt; should use wide layout at 80 columns" time="0.001125916">
        </testcase>
        <testcase classname="src/ui/components/LoadingIndicator.test.tsx" name="&lt;LoadingIndicator /&gt; &gt; responsive layout &gt; should use narrow layout at 79 columns" time="0.001069667">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/LoopDetectionConfirmation.test.tsx" timestamp="2025-11-26T16:27:33.785Z" hostname="MacBook-Pro-6.local" tests="2" failures="0" errors="0" skipped="0" time="0.038912417">
        <testcase classname="src/ui/components/LoopDetectionConfirmation.test.tsx" name="LoopDetectionConfirmation &gt; renders correctly" time="0.031542542">
        </testcase>
        <testcase classname="src/ui/components/LoopDetectionConfirmation.test.tsx" name="LoopDetectionConfirmation &gt; contains the expected options" time="0.006593667">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/ModelDialog.test.tsx" timestamp="2025-11-26T16:27:33.786Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/components/ModelDialog.test.tsx" name="src/ui/components/ModelDialog.test.tsx" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/ModelStatsDisplay.test.tsx" timestamp="2025-11-26T16:27:33.786Z" hostname="MacBook-Pro-6.local" tests="6" failures="0" errors="0" skipped="0" time="0.12980025">
        <testcase classname="src/ui/components/ModelStatsDisplay.test.tsx" name="&lt;ModelStatsDisplay /&gt; &gt; should render &quot;no API calls&quot; message when there are no active models" time="0.038722792">
        </testcase>
        <testcase classname="src/ui/components/ModelStatsDisplay.test.tsx" name="&lt;ModelStatsDisplay /&gt; &gt; should not display conditional rows if no model has data for them" time="0.020342041">
        </testcase>
        <testcase classname="src/ui/components/ModelStatsDisplay.test.tsx" name="&lt;ModelStatsDisplay /&gt; &gt; should display conditional rows if at least one model has data" time="0.012712167">
        </testcase>
        <testcase classname="src/ui/components/ModelStatsDisplay.test.tsx" name="&lt;ModelStatsDisplay /&gt; &gt; should display stats for multiple models correctly" time="0.041127917">
        </testcase>
        <testcase classname="src/ui/components/ModelStatsDisplay.test.tsx" name="&lt;ModelStatsDisplay /&gt; &gt; should handle large values without wrapping or overlapping" time="0.007501125">
        </testcase>
        <testcase classname="src/ui/components/ModelStatsDisplay.test.tsx" name="&lt;ModelStatsDisplay /&gt; &gt; should display a single model correctly" time="0.007106">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/ModelSwitchDialog.test.tsx" timestamp="2025-11-26T16:27:33.787Z" hostname="MacBook-Pro-6.local" tests="11" failures="0" errors="0" skipped="0" time="0.062539917">
        <testcase classname="src/ui/components/ModelSwitchDialog.test.tsx" name="ModelSwitchDialog &gt; should setup RadioButtonSelect with correct options" time="0.020431125">
        </testcase>
        <testcase classname="src/ui/components/ModelSwitchDialog.test.tsx" name="ModelSwitchDialog &gt; should call onSelect when an option is selected" time="0.006762916">
        </testcase>
        <testcase classname="src/ui/components/ModelSwitchDialog.test.tsx" name="ModelSwitchDialog &gt; should call onSelect with SwitchSessionToVL when second option is selected" time="0.003188833">
        </testcase>
        <testcase classname="src/ui/components/ModelSwitchDialog.test.tsx" name="ModelSwitchDialog &gt; should call onSelect with ContinueWithCurrentModel when third option is selected" time="0.003288916">
        </testcase>
        <testcase classname="src/ui/components/ModelSwitchDialog.test.tsx" name="ModelSwitchDialog &gt; should setup escape key handler to call onSelect with ContinueWithCurrentModel" time="0.003748542">
        </testcase>
        <testcase classname="src/ui/components/ModelSwitchDialog.test.tsx" name="ModelSwitchDialog &gt; should not call onSelect for non-escape keys" time="0.003127125">
        </testcase>
        <testcase classname="src/ui/components/ModelSwitchDialog.test.tsx" name="ModelSwitchDialog &gt; should set initial index to 0 (first option)" time="0.011129416">
        </testcase>
        <testcase classname="src/ui/components/ModelSwitchDialog.test.tsx" name="ModelSwitchDialog &gt; VisionSwitchOutcome enum &gt; should have correct enum values" time="0.000169">
        </testcase>
        <testcase classname="src/ui/components/ModelSwitchDialog.test.tsx" name="ModelSwitchDialog &gt; should handle multiple onSelect calls correctly" time="0.003516125">
        </testcase>
        <testcase classname="src/ui/components/ModelSwitchDialog.test.tsx" name="ModelSwitchDialog &gt; should pass isFocused prop to RadioButtonSelect" time="0.003289292">
        </testcase>
        <testcase classname="src/ui/components/ModelSwitchDialog.test.tsx" name="ModelSwitchDialog &gt; should handle escape key multiple times" time="0.002947584">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/OpenAIKeyPrompt.test.tsx" timestamp="2025-11-26T16:27:33.787Z" hostname="MacBook-Pro-6.local" tests="3" failures="0" errors="0" skipped="0" time="0.133583458">
        <testcase classname="src/ui/components/OpenAIKeyPrompt.test.tsx" name="OpenAIKeyPrompt &gt; should render the prompt correctly" time="0.055830334">
        </testcase>
        <testcase classname="src/ui/components/OpenAIKeyPrompt.test.tsx" name="OpenAIKeyPrompt &gt; should show the component with proper styling" time="0.014973083">
        </testcase>
        <testcase classname="src/ui/components/OpenAIKeyPrompt.test.tsx" name="OpenAIKeyPrompt &gt; should handle paste with control characters" time="0.061884125">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/PermissionsModifyTrustDialog.test.tsx" timestamp="2025-11-26T16:27:33.788Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/components/PermissionsModifyTrustDialog.test.tsx" name="src/ui/components/PermissionsModifyTrustDialog.test.tsx" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/PrepareLabel.test.tsx" timestamp="2025-11-26T16:27:33.789Z" hostname="MacBook-Pro-6.local" tests="6" failures="0" errors="0" skipped="0" time="0.040372166">
        <testcase classname="src/ui/components/PrepareLabel.test.tsx" name="PrepareLabel &gt; renders plain label when no match (short label)" time="0.012590167">
        </testcase>
        <testcase classname="src/ui/components/PrepareLabel.test.tsx" name="PrepareLabel &gt; truncates long label when collapsed and no match" time="0.004584291">
        </testcase>
        <testcase classname="src/ui/components/PrepareLabel.test.tsx" name="PrepareLabel &gt; shows full long label when expanded and no match" time="0.005287542">
        </testcase>
        <testcase classname="src/ui/components/PrepareLabel.test.tsx" name="PrepareLabel &gt; highlights matched substring when expanded (text only visible)" time="0.004860625">
        </testcase>
        <testcase classname="src/ui/components/PrepareLabel.test.tsx" name="PrepareLabel &gt; creates centered window around match when collapsed" time="0.002700542">
        </testcase>
        <testcase classname="src/ui/components/PrepareLabel.test.tsx" name="PrepareLabel &gt; truncates match itself when match is very long" time="0.002634708">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/ProQuotaDialog.test.tsx" timestamp="2025-11-26T16:27:33.789Z" hostname="MacBook-Pro-6.local" tests="3" failures="0" errors="0" skipped="0" time="0.024879">
        <testcase classname="src/ui/components/ProQuotaDialog.test.tsx" name="ProQuotaDialog &gt; should render with correct title and options" time="0.019351958">
        </testcase>
        <testcase classname="src/ui/components/ProQuotaDialog.test.tsx" name="ProQuotaDialog &gt; should call onChoice with &quot;auth&quot; when &quot;Change auth&quot; is selected" time="0.002673208">
        </testcase>
        <testcase classname="src/ui/components/ProQuotaDialog.test.tsx" name="ProQuotaDialog &gt; should call onChoice with &quot;continue&quot; when &quot;Continue with flash&quot; is selected" time="0.002031916">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/QueuedMessageDisplay.test.tsx" timestamp="2025-11-26T16:27:33.790Z" hostname="MacBook-Pro-6.local" tests="5" failures="0" errors="0" skipped="0" time="0.036266084">
        <testcase classname="src/ui/components/QueuedMessageDisplay.test.tsx" name="QueuedMessageDisplay &gt; renders nothing when message queue is empty" time="0.008951292">
        </testcase>
        <testcase classname="src/ui/components/QueuedMessageDisplay.test.tsx" name="QueuedMessageDisplay &gt; displays single queued message" time="0.004817958">
        </testcase>
        <testcase classname="src/ui/components/QueuedMessageDisplay.test.tsx" name="QueuedMessageDisplay &gt; displays multiple queued messages" time="0.002229625">
        </testcase>
        <testcase classname="src/ui/components/QueuedMessageDisplay.test.tsx" name="QueuedMessageDisplay &gt; shows overflow indicator when more than 3 messages are queued" time="0.017248292">
        </testcase>
        <testcase classname="src/ui/components/QueuedMessageDisplay.test.tsx" name="QueuedMessageDisplay &gt; normalizes whitespace in messages" time="0.001243834">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/QwenOAuthProgress.test.tsx" timestamp="2025-11-26T16:27:33.790Z" hostname="MacBook-Pro-6.local" tests="22" failures="0" errors="0" skipped="0" time="0.20482775">
        <testcase classname="src/ui/components/QwenOAuthProgress.test.tsx" name="QwenOAuthProgress &gt; Loading state (no deviceAuth) &gt; should render loading state when deviceAuth is not provided" time="0.03491925">
        </testcase>
        <testcase classname="src/ui/components/QwenOAuthProgress.test.tsx" name="QwenOAuthProgress &gt; Loading state (no deviceAuth) &gt; should render loading state with gray border" time="0.010817833">
        </testcase>
        <testcase classname="src/ui/components/QwenOAuthProgress.test.tsx" name="QwenOAuthProgress &gt; Authenticated state (with deviceAuth) &gt; should render authentication flow when deviceAuth is provided" time="0.010297333">
        </testcase>
        <testcase classname="src/ui/components/QwenOAuthProgress.test.tsx" name="QwenOAuthProgress &gt; Authenticated state (with deviceAuth) &gt; should display correct URL in Static component when QR code is generated" time="0.01027575">
        </testcase>
        <testcase classname="src/ui/components/QwenOAuthProgress.test.tsx" name="QwenOAuthProgress &gt; Authenticated state (with deviceAuth) &gt; should format time correctly" time="0.00302375">
        </testcase>
        <testcase classname="src/ui/components/QwenOAuthProgress.test.tsx" name="QwenOAuthProgress &gt; Authenticated state (with deviceAuth) &gt; should format single digit seconds with leading zero" time="0.021155375">
        </testcase>
        <testcase classname="src/ui/components/QwenOAuthProgress.test.tsx" name="QwenOAuthProgress &gt; Timer functionality &gt; should countdown and call onTimeout when timer expires" time="0.020331625">
        </testcase>
        <testcase classname="src/ui/components/QwenOAuthProgress.test.tsx" name="QwenOAuthProgress &gt; Timer functionality &gt; should update time remaining display" time="0.007158625">
        </testcase>
        <testcase classname="src/ui/components/QwenOAuthProgress.test.tsx" name="QwenOAuthProgress &gt; Timer functionality &gt; should use default 300 second timeout when deviceAuth is null" time="0.002652416">
        </testcase>
        <testcase classname="src/ui/components/QwenOAuthProgress.test.tsx" name="QwenOAuthProgress &gt; Animated dots &gt; should cycle through animated dots" time="0.017294166">
        </testcase>
        <testcase classname="src/ui/components/QwenOAuthProgress.test.tsx" name="QwenOAuthProgress &gt; QR Code functionality &gt; should generate QR code when deviceAuth is provided" time="0.003548542">
        </testcase>
        <testcase classname="src/ui/components/QwenOAuthProgress.test.tsx" name="QwenOAuthProgress &gt; QR Code functionality &gt; should display QR code in Static component when available" time="0.007107167">
        </testcase>
        <testcase classname="src/ui/components/QwenOAuthProgress.test.tsx" name="QwenOAuthProgress &gt; QR Code functionality &gt; should handle QR code generation errors gracefully" time="0.003362208">
        </testcase>
        <testcase classname="src/ui/components/QwenOAuthProgress.test.tsx" name="QwenOAuthProgress &gt; QR Code functionality &gt; should not generate QR code when deviceAuth is null" time="0.002672792">
        </testcase>
        <testcase classname="src/ui/components/QwenOAuthProgress.test.tsx" name="QwenOAuthProgress &gt; User interactions &gt; should call onCancel when ESC key is pressed" time="0.019770541">
            <system-err>
Failed to generate QR code: Error: QR Code generation failed
    at Object.&lt;anonymous&gt; [90m(/Users/user/qwen-masters-code/packages/cli/[39msrc/ui/components/QwenOAuthProgress.test.tsx:402:15[90m)[39m
    at Object.mockCall (file:///Users/user/qwen-masters-code/node_modules/[4m@vitest[24m/spy/dist/index.js:96:15)
    at Object.spy [as generate] (file:///Users/user/qwen-masters-code/node_modules/[4mtinyspy[24m/dist/index.js:47:103)
    at generateQR [90m(/Users/user/qwen-masters-code/packages/cli/[39msrc/ui/components/QwenOAuthProgress.tsx:156:16[90m)[39m
    at [90m/Users/user/qwen-masters-code/packages/cli/[39msrc/ui/components/QwenOAuthProgress.tsx:169:5
    at Object.react-stack-bottom-frame (/Users/user/qwen-masters-code/node_modules/[4mreact-reconciler[24m/cjs/react-reconciler.development.js:15945:20)
    at runWithFiberInDEV (/Users/user/qwen-masters-code/node_modules/[4mreact-reconciler[24m/cjs/react-reconciler.development.js:1738:13)
    at commitHookEffectListMount (/Users/user/qwen-masters-code/node_modules/[4mreact-reconciler[24m/cjs/react-reconciler.development.js:9516:29)
    at commitHookPassiveMountEffects (/Users/user/qwen-masters-code/node_modules/[4mreact-reconciler[24m/cjs/react-reconciler.development.js:9639:11)
    at commitPassiveMountOnFiber (/Users/user/qwen-masters-code/node_modules/[4mreact-reconciler[24m/cjs/react-reconciler.development.js:11364:13)

            </system-err>
        </testcase>
        <testcase classname="src/ui/components/QwenOAuthProgress.test.tsx" name="QwenOAuthProgress &gt; User interactions &gt; should call onCancel when ESC is pressed in loading state" time="0.009987208">
        </testcase>
        <testcase classname="src/ui/components/QwenOAuthProgress.test.tsx" name="QwenOAuthProgress &gt; User interactions &gt; should not call onCancel for other key presses" time="0.003185583">
            <system-err>
Failed to generate QR code: Error: QR Code generation failed
    at Object.&lt;anonymous&gt; [90m(/Users/user/qwen-masters-code/packages/cli/[39msrc/ui/components/QwenOAuthProgress.test.tsx:402:15[90m)[39m
    at Object.mockCall (file:///Users/user/qwen-masters-code/node_modules/[4m@vitest[24m/spy/dist/index.js:96:15)
    at Object.spy [as generate] (file:///Users/user/qwen-masters-code/node_modules/[4mtinyspy[24m/dist/index.js:47:103)
    at generateQR [90m(/Users/user/qwen-masters-code/packages/cli/[39msrc/ui/components/QwenOAuthProgress.tsx:156:16[90m)[39m
    at [90m/Users/user/qwen-masters-code/packages/cli/[39msrc/ui/components/QwenOAuthProgress.tsx:169:5
    at Object.react-stack-bottom-frame (/Users/user/qwen-masters-code/node_modules/[4mreact-reconciler[24m/cjs/react-reconciler.development.js:15945:20)
    at runWithFiberInDEV (/Users/user/qwen-masters-code/node_modules/[4mreact-reconciler[24m/cjs/react-reconciler.development.js:1738:13)
    at commitHookEffectListMount (/Users/user/qwen-masters-code/node_modules/[4mreact-reconciler[24m/cjs/react-reconciler.development.js:9516:29)
    at commitHookPassiveMountEffects (/Users/user/qwen-masters-code/node_modules/[4mreact-reconciler[24m/cjs/react-reconciler.development.js:9639:11)
    at commitPassiveMountOnFiber (/Users/user/qwen-masters-code/node_modules/[4mreact-reconciler[24m/cjs/react-reconciler.development.js:11364:13)

            </system-err>
        </testcase>
        <testcase classname="src/ui/components/QwenOAuthProgress.test.tsx" name="QwenOAuthProgress &gt; Props changes &gt; should display initial timer value from deviceAuth" time="0.002874583">
            <system-err>
Failed to generate QR code: Error: QR Code generation failed
    at Object.&lt;anonymous&gt; [90m(/Users/user/qwen-masters-code/packages/cli/[39msrc/ui/components/QwenOAuthProgress.test.tsx:402:15[90m)[39m
    at Object.mockCall (file:///Users/user/qwen-masters-code/node_modules/[4m@vitest[24m/spy/dist/index.js:96:15)
    at Object.spy [as generate] (file:///Users/user/qwen-masters-code/node_modules/[4mtinyspy[24m/dist/index.js:47:103)
    at generateQR [90m(/Users/user/qwen-masters-code/packages/cli/[39msrc/ui/components/QwenOAuthProgress.tsx:156:16[90m)[39m
    at [90m/Users/user/qwen-masters-code/packages/cli/[39msrc/ui/components/QwenOAuthProgress.tsx:169:5
    at Object.react-stack-bottom-frame (/Users/user/qwen-masters-code/node_modules/[4mreact-reconciler[24m/cjs/react-reconciler.development.js:15945:20)
    at runWithFiberInDEV (/Users/user/qwen-masters-code/node_modules/[4mreact-reconciler[24m/cjs/react-reconciler.development.js:1738:13)
    at commitHookEffectListMount (/Users/user/qwen-masters-code/node_modules/[4mreact-reconciler[24m/cjs/react-reconciler.development.js:9516:29)
    at commitHookPassiveMountEffects (/Users/user/qwen-masters-code/node_modules/[4mreact-reconciler[24m/cjs/react-reconciler.development.js:9639:11)
    at commitPassiveMountOnFiber (/Users/user/qwen-masters-code/node_modules/[4mreact-reconciler[24m/cjs/react-reconciler.development.js:11364:13)

            </system-err>
        </testcase>
        <testcase classname="src/ui/components/QwenOAuthProgress.test.tsx" name="QwenOAuthProgress &gt; Props changes &gt; should reset to loading state when deviceAuth becomes null" time="0.005031333">
            <system-err>
Failed to generate QR code: Error: QR Code generation failed
    at Object.&lt;anonymous&gt; [90m(/Users/user/qwen-masters-code/packages/cli/[39msrc/ui/components/QwenOAuthProgress.test.tsx:402:15[90m)[39m
    at Object.mockCall (file:///Users/user/qwen-masters-code/node_modules/[4m@vitest[24m/spy/dist/index.js:96:15)
    at Object.spy [as generate] (file:///Users/user/qwen-masters-code/node_modules/[4mtinyspy[24m/dist/index.js:47:103)
    at generateQR [90m(/Users/user/qwen-masters-code/packages/cli/[39msrc/ui/components/QwenOAuthProgress.tsx:156:16[90m)[39m
    at [90m/Users/user/qwen-masters-code/packages/cli/[39msrc/ui/components/QwenOAuthProgress.tsx:169:5
    at Object.react-stack-bottom-frame (/Users/user/qwen-masters-code/node_modules/[4mreact-reconciler[24m/cjs/react-reconciler.development.js:15945:20)
    at runWithFiberInDEV (/Users/user/qwen-masters-code/node_modules/[4mreact-reconciler[24m/cjs/react-reconciler.development.js:1738:13)
    at commitHookEffectListMount (/Users/user/qwen-masters-code/node_modules/[4mreact-reconciler[24m/cjs/react-reconciler.development.js:9516:29)
    at commitHookPassiveMountEffects (/Users/user/qwen-masters-code/node_modules/[4mreact-reconciler[24m/cjs/react-reconciler.development.js:9639:11)
    at commitPassiveMountOnFiber (/Users/user/qwen-masters-code/node_modules/[4mreact-reconciler[24m/cjs/react-reconciler.development.js:11364:13)

            </system-err>
        </testcase>
        <testcase classname="src/ui/components/QwenOAuthProgress.test.tsx" name="QwenOAuthProgress &gt; Timeout state &gt; should render timeout state when authStatus is timeout" time="0.002636625">
        </testcase>
        <testcase classname="src/ui/components/QwenOAuthProgress.test.tsx" name="QwenOAuthProgress &gt; Timeout state &gt; should render default timeout message when no authMessage provided" time="0.002902375">
        </testcase>
        <testcase classname="src/ui/components/QwenOAuthProgress.test.tsx" name="QwenOAuthProgress &gt; Timeout state &gt; should call onCancel for any key press in timeout state" time="0.002673417">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/SessionSummaryDisplay.test.tsx" timestamp="2025-11-26T16:27:33.792Z" hostname="MacBook-Pro-6.local" tests="1" failures="0" errors="0" skipped="0" time="0.04776">
        <testcase classname="src/ui/components/SessionSummaryDisplay.test.tsx" name="&lt;SessionSummaryDisplay /&gt; &gt; renders the summary display with a title" time="0.046982">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/SettingsDialog.test.tsx" timestamp="2025-11-26T16:27:33.793Z" hostname="MacBook-Pro-6.local" tests="52" failures="0" errors="0" skipped="0" time="4.029355792">
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Initial Rendering &gt; should render the settings dialog with default state" time="0.032394625">
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Initial Rendering &gt; should accept availableTerminalHeight prop without errors" time="0.012724917">
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Initial Rendering &gt; should show settings list with default values" time="0.014183083">
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Initial Rendering &gt; should highlight first setting by default" time="0.010925667">
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Settings Navigation &gt; should navigate down with arrow key" time="0.154102375">
            <system-err>
The current testing environment is not configured to support act(...)
The current testing environment is not configured to support act(...)
The current testing environment is not configured to support act(...)
The current testing environment is not configured to support act(...)
The current testing environment is not configured to support act(...)

            </system-err>
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Settings Navigation &gt; should navigate up with arrow key" time="0.143999292">
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Settings Navigation &gt; should navigate with vim keys (j/k)" time="0.130415542">
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Settings Navigation &gt; wraps around when at the top of the list" time="0.089381917">
            <system-err>
The current testing environment is not configured to support act(...)
The current testing environment is not configured to support act(...)
The current testing environment is not configured to support act(...)

            </system-err>
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Settings Toggling &gt; should toggle setting with Enter key" time="0.043411084">
            <system-out>
[DEBUG SettingsDialog] Saving general.disableAutoUpdate immediately with value: [33mtrue[39m

            </system-out>
            <system-err>
The current testing environment is not configured to support act(...)
The current testing environment is not configured to support act(...)

The current testing environment is not configured to support act(...)
The current testing environment is not configured to support act(...)
The current testing environment is not configured to support act(...)
The current testing environment is not configured to support act(...)
The current testing environment is not configured to support act(...)
The current testing environment is not configured to support act(...)
The current testing environment is not configured to support act(...)

            </system-err>
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Settings Toggling &gt; enum values &gt; toggles enum values with the enter key" time="0.114544">
            <system-out>
[DEBUG SettingsDialog] Saving ui.theme immediately with value: baz

            </system-out>
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Settings Toggling &gt; enum values &gt; loops back when reaching the end of an enum" time="0.112068667">
            <system-out>
[DEBUG SettingsDialog] Saving ui.theme immediately with value: foo

            </system-out>
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Settings Toggling &gt; should toggle setting with Space key" time="0.071708042">
            <system-out>
[DEBUG SettingsDialog] Saving general.vimMode immediately with value: [33mtrue[39m

            </system-out>
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Settings Toggling &gt; should handle vim mode setting specially" time="0.072031875">
            <system-out>
[DEBUG SettingsDialog] Saving general.vimMode immediately with value: [33mtrue[39m

            </system-out>
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Scope Selection &gt; should switch between scopes" time="0.13573075">
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Scope Selection &gt; should reset to settings focus when scope is selected" time="0.013697792">
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Restart Prompt &gt; should show restart prompt for restart-required settings" time="0.068320458">
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Restart Prompt &gt; should handle restart request when r is pressed" time="0.065890583">
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Escape Key Behavior &gt; should call onSelect with undefined when Escape is pressed" time="0.01891575">
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Settings Persistence &gt; should persist settings across scope changes" time="0.120306042">
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Settings Persistence &gt; should show different values for different scopes" time="0.010714792">
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Error Handling &gt; should handle vim mode toggle errors gracefully" time="0.061514334">
            <system-out>
[DEBUG SettingsDialog] Saving general.vimMode immediately with value: [33mtrue[39m

            </system-out>
            <system-err>
Failed to toggle vim mode: Error: Toggle failed
    at [90m/Users/user/qwen-masters-code/packages/cli/[39msrc/ui/components/SettingsDialog.test.tsx:730:46
    at file:///Users/user/qwen-masters-code/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at file:///Users/user/qwen-masters-code/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at file:///Users/user/qwen-masters-code/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (&lt;anonymous&gt;)
    at runWithTimeout (file:///Users/user/qwen-masters-code/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/user/qwen-masters-code/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12)
    at runSuite (file:///Users/user/qwen-masters-code/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///Users/user/qwen-masters-code/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///Users/user/qwen-masters-code/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8)

            </system-err>
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Complex State Management &gt; should track modified settings correctly" time="0.171486958">
            <system-out>
[DEBUG SettingsDialog] Saving general.vimMode immediately with value: [33mtrue[39m

[DEBUG SettingsDialog] Saving general.disableAutoUpdate immediately with value: [33mtrue[39m

            </system-out>
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Complex State Management &gt; should handle scrolling when there are many settings" time="0.190776666">
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; VimMode Integration &gt; should sync with VimModeContext when vim mode is toggled" time="0.08276675">
            <system-out>
[DEBUG SettingsDialog] Saving general.vimMode immediately with value: [33mtrue[39m

            </system-out>
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Specific Settings Behavior &gt; should show correct display values for settings with different states" time="0.01269125">
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Specific Settings Behavior &gt; should handle immediate settings save for non-restart-required settings" time="0.068119125">
            <system-out>
[DEBUG SettingsDialog] Saving general.vimMode immediately with value: [33mtrue[39m

            </system-out>
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Specific Settings Behavior &gt; should show restart prompt for restart-required settings" time="0.089117042">
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Specific Settings Behavior &gt; should clear restart prompt when switching scopes" time="0.012275334">
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Settings Display Values &gt; should show correct values for inherited settings" time="0.010418375">
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Settings Display Values &gt; should show override indicator for overridden settings" time="0.022691167">
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Keyboard Shortcuts Edge Cases &gt; should handle rapid key presses gracefully" time="0.11915075">
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Keyboard Shortcuts Edge Cases &gt; should handle Ctrl+C to reset current setting to default" time="0.072346">
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Keyboard Shortcuts Edge Cases &gt; should handle Ctrl+L to reset current setting to default" time="0.068789875">
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Keyboard Shortcuts Edge Cases &gt; should handle navigation when only one setting exists" time="0.122445084">
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Keyboard Shortcuts Edge Cases &gt; should properly handle Tab navigation between sections" time="0.013459458">
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Error Recovery &gt; should handle malformed settings gracefully" time="0.009674958">
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Error Recovery &gt; should handle missing setting definitions gracefully" time="0.016558208">
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Complex User Interactions &gt; should handle complete user workflow: navigate, toggle, change scope, exit" time="0.011511708">
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Complex User Interactions &gt; should allow changing multiple settings without losing pending changes" time="0.301954958">
            <system-out>
[DEBUG SettingsDialog] Saving general.vimMode immediately with value: [33mtrue[39m

[DEBUG SettingsDialog] Saving general.disableAutoUpdate immediately with value: [33mtrue[39m

[DEBUG SettingsDialog] Saving general.debugKeystrokeLogging immediately with value: [33mtrue[39m

            </system-out>
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Complex User Interactions &gt; should maintain state consistency during complex interactions" time="0.272853875">
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Complex User Interactions &gt; should handle restart workflow correctly" time="0.068099583">
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; String Settings Editing &gt; should allow editing and committing a string setting" time="0.643964375">
            <system-out>
[DEBUG SettingsDialog] Saving ui.showLineNumbers immediately with value: [33mtrue[39m

[DEBUG SettingsDialog] Saving ui.showLineNumbers immediately with value: [33mtrue[39m

[DEBUG SettingsDialog] Saving ui.showLineNumbers immediately with value: [33mtrue[39m

            </system-out>
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Snapshot Tests &gt; should render default state correctly" time="0.010269125">
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Snapshot Tests &gt; should render with various boolean settings enabled" time="0.016183291">
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Snapshot Tests &gt; should render with mixed boolean and number settings" time="0.009194417">
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Snapshot Tests &gt; should render focused on scope selector" time="0.013138333">
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Snapshot Tests &gt; should render with different scope selected (System)" time="0.012107958">
            <system-out>
[DEBUG SettingsDialog] Saving general.vimMode immediately with value: [33mtrue[39m

            </system-out>
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Snapshot Tests &gt; should render with different scope selected (Workspace)" time="0.010388292">
            <system-out>
[DEBUG SettingsDialog] Saving general.vimMode immediately with value: [33mtrue[39m

            </system-out>
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Snapshot Tests &gt; should render with accessibility settings enabled" time="0.018812291">
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Snapshot Tests &gt; should render with file filtering settings configured" time="0.007873459">
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Snapshot Tests &gt; should render with tools and security settings" time="0.027255291">
        </testcase>
        <testcase classname="src/ui/components/SettingsDialog.test.tsx" name="SettingsDialog &gt; Snapshot Tests &gt; should render with all boolean settings disabled" time="0.007802708">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/ShellConfirmationDialog.test.tsx" timestamp="2025-11-26T16:27:33.805Z" hostname="MacBook-Pro-6.local" tests="4" failures="0" errors="0" skipped="0" time="0.05383875">
        <testcase classname="src/ui/components/ShellConfirmationDialog.test.tsx" name="ShellConfirmationDialog &gt; renders correctly" time="0.028853209">
        </testcase>
        <testcase classname="src/ui/components/ShellConfirmationDialog.test.tsx" name="ShellConfirmationDialog &gt; calls onConfirm with ProceedOnce when &quot;Yes, allow once&quot; is selected" time="0.006568167">
        </testcase>
        <testcase classname="src/ui/components/ShellConfirmationDialog.test.tsx" name="ShellConfirmationDialog &gt; calls onConfirm with ProceedAlways when &quot;Yes, allow always for this session&quot; is selected" time="0.010117666">
        </testcase>
        <testcase classname="src/ui/components/ShellConfirmationDialog.test.tsx" name="ShellConfirmationDialog &gt; calls onConfirm with Cancel when &quot;No (esc)&quot; is selected" time="0.007414">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/StatsDisplay.test.tsx" timestamp="2025-11-26T16:27:33.807Z" hostname="MacBook-Pro-6.local" tests="12" failures="0" errors="0" skipped="0" time="0.247309375">
        <testcase classname="src/ui/components/StatsDisplay.test.tsx" name="&lt;StatsDisplay /&gt; &gt; renders only the Performance section in its zero state" time="0.02467825">
        </testcase>
        <testcase classname="src/ui/components/StatsDisplay.test.tsx" name="&lt;StatsDisplay /&gt; &gt; renders a table with two models correctly" time="0.038138083">
        </testcase>
        <testcase classname="src/ui/components/StatsDisplay.test.tsx" name="&lt;StatsDisplay /&gt; &gt; renders all sections when all data is present" time="0.01874875">
        </testcase>
        <testcase classname="src/ui/components/StatsDisplay.test.tsx" name="&lt;StatsDisplay /&gt; &gt; Conditional Rendering Tests &gt; hides User Agreement when no decisions are made" time="0.005979125">
        </testcase>
        <testcase classname="src/ui/components/StatsDisplay.test.tsx" name="&lt;StatsDisplay /&gt; &gt; Conditional Rendering Tests &gt; hides Efficiency section when cache is not used" time="0.052877">
        </testcase>
        <testcase classname="src/ui/components/StatsDisplay.test.tsx" name="&lt;StatsDisplay /&gt; &gt; Conditional Color Tests &gt; renders success rate in green for high values" time="0.009977541">
        </testcase>
        <testcase classname="src/ui/components/StatsDisplay.test.tsx" name="&lt;StatsDisplay /&gt; &gt; Conditional Color Tests &gt; renders success rate in yellow for medium values" time="0.006496709">
        </testcase>
        <testcase classname="src/ui/components/StatsDisplay.test.tsx" name="&lt;StatsDisplay /&gt; &gt; Conditional Color Tests &gt; renders success rate in red for low values" time="0.005952375">
        </testcase>
        <testcase classname="src/ui/components/StatsDisplay.test.tsx" name="&lt;StatsDisplay /&gt; &gt; Code Changes Display &gt; displays Code Changes when line counts are present" time="0.039973833">
        </testcase>
        <testcase classname="src/ui/components/StatsDisplay.test.tsx" name="&lt;StatsDisplay /&gt; &gt; Code Changes Display &gt; hides Code Changes when no lines are added or removed" time="0.00739625">
        </testcase>
        <testcase classname="src/ui/components/StatsDisplay.test.tsx" name="&lt;StatsDisplay /&gt; &gt; Title Rendering &gt; renders the default title when no title prop is provided" time="0.0202335">
        </testcase>
        <testcase classname="src/ui/components/StatsDisplay.test.tsx" name="&lt;StatsDisplay /&gt; &gt; Title Rendering &gt; renders the custom title when a title prop is provided" time="0.015562166">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/ThemeDialog.test.tsx" timestamp="2025-11-26T16:27:33.811Z" hostname="MacBook-Pro-6.local" tests="2" failures="0" errors="0" skipped="0" time="0.445600333">
        <testcase classname="src/ui/components/ThemeDialog.test.tsx" name="ThemeDialog Snapshots &gt; should render correctly in theme selection mode" time="0.299480292">
        </testcase>
        <testcase classname="src/ui/components/ThemeDialog.test.tsx" name="ThemeDialog Snapshots &gt; should render correctly in scope selector mode" time="0.14526075">
            <system-err>
The current testing environment is not configured to support act(...)
The current testing environment is not configured to support act(...)

            </system-err>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/TodoDisplay.test.tsx" timestamp="2025-11-26T16:27:33.811Z" hostname="MacBook-Pro-6.local" tests="6" failures="0" errors="0" skipped="0" time="0.022254667">
        <testcase classname="src/ui/components/TodoDisplay.test.tsx" name="TodoDisplay &gt; should render todo list" time="0.016047916">
        </testcase>
        <testcase classname="src/ui/components/TodoDisplay.test.tsx" name="TodoDisplay &gt; should display correct status icons" time="0.002334542">
        </testcase>
        <testcase classname="src/ui/components/TodoDisplay.test.tsx" name="TodoDisplay &gt; should handle empty todo list" time="0.000351625">
        </testcase>
        <testcase classname="src/ui/components/TodoDisplay.test.tsx" name="TodoDisplay &gt; should handle undefined todos" time="0.000256125">
        </testcase>
        <testcase classname="src/ui/components/TodoDisplay.test.tsx" name="TodoDisplay &gt; should render tasks with different statuses" time="0.001259125">
        </testcase>
        <testcase classname="src/ui/components/TodoDisplay.test.tsx" name="TodoDisplay &gt; should render tasks with mixed statuses" time="0.001212625">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/ToolStatsDisplay.test.tsx" timestamp="2025-11-26T16:27:33.812Z" hostname="MacBook-Pro-6.local" tests="5" failures="0" errors="0" skipped="0" time="0.116507417">
        <testcase classname="src/ui/components/ToolStatsDisplay.test.tsx" name="&lt;ToolStatsDisplay /&gt; &gt; should render &quot;no tool calls&quot; message when there are no active tools" time="0.016595541">
        </testcase>
        <testcase classname="src/ui/components/ToolStatsDisplay.test.tsx" name="&lt;ToolStatsDisplay /&gt; &gt; should display stats for a single tool correctly" time="0.008403667">
        </testcase>
        <testcase classname="src/ui/components/ToolStatsDisplay.test.tsx" name="&lt;ToolStatsDisplay /&gt; &gt; should display stats for multiple tools correctly" time="0.022602958">
        </testcase>
        <testcase classname="src/ui/components/ToolStatsDisplay.test.tsx" name="&lt;ToolStatsDisplay /&gt; &gt; should handle large values without wrapping or overlapping" time="0.008303125">
        </testcase>
        <testcase classname="src/ui/components/ToolStatsDisplay.test.tsx" name="&lt;ToolStatsDisplay /&gt; &gt; should handle zero decisions gracefully" time="0.057120625">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/hooks/atCommandProcessor.test.ts" timestamp="2025-11-26T16:27:33.812Z" hostname="MacBook-Pro-6.local" tests="39" failures="0" errors="0" skipped="0" time="0.522338291">
        <testcase classname="src/ui/hooks/atCommandProcessor.test.ts" name="handleAtCommand &gt; should pass through query if no @ command is present" time="0.012001708">
        </testcase>
        <testcase classname="src/ui/hooks/atCommandProcessor.test.ts" name="handleAtCommand &gt; should pass through original query if only a lone @ symbol is present" time="0.004680792">
        </testcase>
        <testcase classname="src/ui/hooks/atCommandProcessor.test.ts" name="handleAtCommand &gt; should process a valid text file path" time="0.052939833">
        </testcase>
        <testcase classname="src/ui/hooks/atCommandProcessor.test.ts" name="handleAtCommand &gt; should process a valid directory path and convert to glob" time="0.008394958">
        </testcase>
        <testcase classname="src/ui/hooks/atCommandProcessor.test.ts" name="handleAtCommand &gt; should handle query with text before and after @command" time="0.006864667">
        </testcase>
        <testcase classname="src/ui/hooks/atCommandProcessor.test.ts" name="handleAtCommand &gt; should correctly unescape paths with escaped spaces" time="0.015148375">
        </testcase>
        <testcase classname="src/ui/hooks/atCommandProcessor.test.ts" name="handleAtCommand &gt; should handle multiple @file references" time="0.012170667">
        </testcase>
        <testcase classname="src/ui/hooks/atCommandProcessor.test.ts" name="handleAtCommand &gt; should handle multiple @file references with interleaved text" time="0.016583792">
        </testcase>
        <testcase classname="src/ui/hooks/atCommandProcessor.test.ts" name="handleAtCommand &gt; should handle a mix of valid, invalid, and lone @ references" time="0.039315125">
        </testcase>
        <testcase classname="src/ui/hooks/atCommandProcessor.test.ts" name="handleAtCommand &gt; should return original query if all @paths are invalid or lone @" time="0.002252334">
        </testcase>
        <testcase classname="src/ui/hooks/atCommandProcessor.test.ts" name="handleAtCommand &gt; git-aware filtering &gt; should skip git-ignored files in @ commands" time="0.008869667">
            <system-out>
Ignored 1 files:
Git-ignored: /var/folders/f1/pv_bxb6d79gd40mn1q2nb0740000gn/T/folder-structure-test-QRTNxx/node_modules/package.json

            </system-out>
        </testcase>
        <testcase classname="src/ui/hooks/atCommandProcessor.test.ts" name="handleAtCommand &gt; git-aware filtering &gt; should process non-git-ignored files normally" time="0.01762425">
        </testcase>
        <testcase classname="src/ui/hooks/atCommandProcessor.test.ts" name="handleAtCommand &gt; git-aware filtering &gt; should handle mixed git-ignored and valid files" time="0.01266475">
            <system-out>
Ignored 1 files:
Git-ignored: /var/folders/f1/pv_bxb6d79gd40mn1q2nb0740000gn/T/folder-structure-test-uwuGeT/.env

            </system-out>
        </testcase>
        <testcase classname="src/ui/hooks/atCommandProcessor.test.ts" name="handleAtCommand &gt; git-aware filtering &gt; should always ignore .git directory files" time="0.009553042">
            <system-out>
Ignored 1 files:
Git-ignored: /var/folders/f1/pv_bxb6d79gd40mn1q2nb0740000gn/T/folder-structure-test-ucBLDb/.git/config

            </system-out>
        </testcase>
        <testcase classname="src/ui/hooks/atCommandProcessor.test.ts" name="handleAtCommand &gt; when recursive file search is disabled &gt; should not use glob search for a nonexistent file" time="0.003143458">
        </testcase>
        <testcase classname="src/ui/hooks/atCommandProcessor.test.ts" name="handleAtCommand &gt; qwen-ignore filtering &gt; should skip qwen-ignored files in @ commands" time="0.001931333">
            <system-out>
Ignored 1 files:
Qwen-ignored: /var/folders/f1/pv_bxb6d79gd40mn1q2nb0740000gn/T/folder-structure-test-btCgIs/build/output.js

            </system-out>
        </testcase>
        <testcase classname="src/ui/hooks/atCommandProcessor.test.ts" name="handleAtCommand &gt; should process non-ignored files when .qwenignore is present" time="0.006733917">
        </testcase>
        <testcase classname="src/ui/hooks/atCommandProcessor.test.ts" name="handleAtCommand &gt; should handle mixed qwen-ignored and valid files" time="0.011254042">
            <system-out>
Ignored 1 files:
Qwen-ignored: /var/folders/f1/pv_bxb6d79gd40mn1q2nb0740000gn/T/folder-structure-test-Pfb0l6/dist/bundle.js

            </system-out>
        </testcase>
        <testcase classname="src/ui/hooks/atCommandProcessor.test.ts" name="handleAtCommand &gt; punctuation termination in @ commands &gt; should terminate @path at &apos;comma&apos;" time="0.02091325">
        </testcase>
        <testcase classname="src/ui/hooks/atCommandProcessor.test.ts" name="handleAtCommand &gt; punctuation termination in @ commands &gt; should terminate @path at &apos;period&apos;" time="0.008179292">
        </testcase>
        <testcase classname="src/ui/hooks/atCommandProcessor.test.ts" name="handleAtCommand &gt; punctuation termination in @ commands &gt; should terminate @path at &apos;semicolon&apos;" time="0.021071292">
        </testcase>
        <testcase classname="src/ui/hooks/atCommandProcessor.test.ts" name="handleAtCommand &gt; punctuation termination in @ commands &gt; should terminate @path at &apos;exclamation mark&apos;" time="0.016401458">
        </testcase>
        <testcase classname="src/ui/hooks/atCommandProcessor.test.ts" name="handleAtCommand &gt; punctuation termination in @ commands &gt; should terminate @path at &apos;question mark&apos;" time="0.014596375">
        </testcase>
        <testcase classname="src/ui/hooks/atCommandProcessor.test.ts" name="handleAtCommand &gt; punctuation termination in @ commands &gt; should terminate @path at &apos;opening parenthesis&apos;" time="0.008052458">
        </testcase>
        <testcase classname="src/ui/hooks/atCommandProcessor.test.ts" name="handleAtCommand &gt; punctuation termination in @ commands &gt; should terminate @path at &apos;closing parenthesis&apos;" time="0.014322291">
        </testcase>
        <testcase classname="src/ui/hooks/atCommandProcessor.test.ts" name="handleAtCommand &gt; punctuation termination in @ commands &gt; should terminate @path at &apos;opening square bracket&apos;" time="0.013136417">
        </testcase>
        <testcase classname="src/ui/hooks/atCommandProcessor.test.ts" name="handleAtCommand &gt; punctuation termination in @ commands &gt; should terminate @path at &apos;closing square bracket&apos;" time="0.011550958">
        </testcase>
        <testcase classname="src/ui/hooks/atCommandProcessor.test.ts" name="handleAtCommand &gt; punctuation termination in @ commands &gt; should terminate @path at &apos;opening curly brace&apos;" time="0.007859959">
        </testcase>
        <testcase classname="src/ui/hooks/atCommandProcessor.test.ts" name="handleAtCommand &gt; punctuation termination in @ commands &gt; should terminate @path at &apos;closing curly brace&apos;" time="0.010221">
        </testcase>
        <testcase classname="src/ui/hooks/atCommandProcessor.test.ts" name="handleAtCommand &gt; punctuation termination in @ commands &gt; should handle multiple @paths terminated by different punctuation" time="0.012981291">
        </testcase>
        <testcase classname="src/ui/hooks/atCommandProcessor.test.ts" name="handleAtCommand &gt; punctuation termination in @ commands &gt; should still handle escaped spaces in paths before punctuation" time="0.006460166">
        </testcase>
        <testcase classname="src/ui/hooks/atCommandProcessor.test.ts" name="handleAtCommand &gt; punctuation termination in @ commands &gt; should not break file paths with periods in extensions" time="0.017877666">
        </testcase>
        <testcase classname="src/ui/hooks/atCommandProcessor.test.ts" name="handleAtCommand &gt; punctuation termination in @ commands &gt; should handle file paths ending with period followed by space" time="0.013887166">
        </testcase>
        <testcase classname="src/ui/hooks/atCommandProcessor.test.ts" name="handleAtCommand &gt; punctuation termination in @ commands &gt; should handle comma termination with complex file paths" time="0.010884708">
        </testcase>
        <testcase classname="src/ui/hooks/atCommandProcessor.test.ts" name="handleAtCommand &gt; punctuation termination in @ commands &gt; should not terminate at period within file name" time="0.021667">
        </testcase>
        <testcase classname="src/ui/hooks/atCommandProcessor.test.ts" name="handleAtCommand &gt; punctuation termination in @ commands &gt; should handle end of string termination for period and comma" time="0.011869125">
        </testcase>
        <testcase classname="src/ui/hooks/atCommandProcessor.test.ts" name="handleAtCommand &gt; punctuation termination in @ commands &gt; should handle files with special characters in names" time="0.011156709">
        </testcase>
        <testcase classname="src/ui/hooks/atCommandProcessor.test.ts" name="handleAtCommand &gt; punctuation termination in @ commands &gt; should handle basic file names without special characters" time="0.008627625">
        </testcase>
        <testcase classname="src/ui/hooks/atCommandProcessor.test.ts" name="handleAtCommand &gt; should not add the user&apos;s turn to history, as that is the caller&apos;s responsibility" time="0.016419916">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/hooks/shellCommandProcessor.test.ts" timestamp="2025-11-26T16:27:33.816Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/hooks/shellCommandProcessor.test.ts" name="src/ui/hooks/shellCommandProcessor.test.ts" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/hooks/slashCommandProcessor.test.ts" timestamp="2025-11-26T16:27:33.816Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/hooks/slashCommandProcessor.test.ts" name="src/ui/hooks/slashCommandProcessor.test.ts" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/hooks/useAtCompletion.test.ts" timestamp="2025-11-26T16:27:33.817Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/hooks/useAtCompletion.test.ts" name="src/ui/hooks/useAtCompletion.test.ts" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/hooks/useAttentionNotifications.test.ts" timestamp="2025-11-26T16:27:33.817Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/hooks/useAttentionNotifications.test.ts" name="src/ui/hooks/useAttentionNotifications.test.ts" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/hooks/useAutoAcceptIndicator.test.ts" timestamp="2025-11-26T16:27:33.818Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/hooks/useAutoAcceptIndicator.test.ts" name="src/ui/hooks/useAutoAcceptIndicator.test.ts" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/hooks/useCommandCompletion.test.ts" timestamp="2025-11-26T16:27:33.818Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/hooks/useCommandCompletion.test.ts" name="src/ui/hooks/useCommandCompletion.test.ts" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/hooks/useConsoleMessages.test.ts" timestamp="2025-11-26T16:27:33.819Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/hooks/useConsoleMessages.test.ts" name="src/ui/hooks/useConsoleMessages.test.ts" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/hooks/useEditorSettings.test.ts" timestamp="2025-11-26T16:27:33.819Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/hooks/useEditorSettings.test.ts" name="src/ui/hooks/useEditorSettings.test.ts" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/hooks/useExtensionUpdates.test.ts" timestamp="2025-11-26T16:27:33.820Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/hooks/useExtensionUpdates.test.ts" name="src/ui/hooks/useExtensionUpdates.test.ts" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/hooks/useFocus.test.ts" timestamp="2025-11-26T16:27:33.821Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/hooks/useFocus.test.ts" name="src/ui/hooks/useFocus.test.ts" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/hooks/useFolderTrust.test.ts" timestamp="2025-11-26T16:27:33.822Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/hooks/useFolderTrust.test.ts" name="src/ui/hooks/useFolderTrust.test.ts" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/hooks/useGeminiStream.test.tsx" timestamp="2025-11-26T16:27:33.823Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/hooks/useGeminiStream.test.tsx" name="src/ui/hooks/useGeminiStream.test.tsx" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/hooks/useGitBranchName.test.ts" timestamp="2025-11-26T16:27:33.825Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/hooks/useGitBranchName.test.ts" name="src/ui/hooks/useGitBranchName.test.ts" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/hooks/useHistoryManager.test.ts" timestamp="2025-11-26T16:27:33.825Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/hooks/useHistoryManager.test.ts" name="src/ui/hooks/useHistoryManager.test.ts" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/hooks/useIdeTrustListener.test.ts" timestamp="2025-11-26T16:27:33.826Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/hooks/useIdeTrustListener.test.ts" name="src/ui/hooks/useIdeTrustListener.test.ts" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/hooks/useInputHistory.test.ts" timestamp="2025-11-26T16:27:33.828Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/hooks/useInputHistory.test.ts" name="src/ui/hooks/useInputHistory.test.ts" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/hooks/useInputHistoryStore.test.ts" timestamp="2025-11-26T16:27:33.829Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/hooks/useInputHistoryStore.test.ts" name="src/ui/hooks/useInputHistoryStore.test.ts" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/hooks/useKeypress.test.ts" timestamp="2025-11-26T16:27:33.830Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/hooks/useKeypress.test.ts" name="src/ui/hooks/useKeypress.test.ts" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/hooks/useLoadingIndicator.test.ts" timestamp="2025-11-26T16:27:33.831Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/hooks/useLoadingIndicator.test.ts" name="src/ui/hooks/useLoadingIndicator.test.ts" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/hooks/useMemoryMonitor.test.ts" timestamp="2025-11-26T16:27:33.832Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/hooks/useMemoryMonitor.test.ts" name="src/ui/hooks/useMemoryMonitor.test.ts" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/hooks/useMessageQueue.test.ts" timestamp="2025-11-26T16:27:33.833Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/hooks/useMessageQueue.test.ts" name="src/ui/hooks/useMessageQueue.test.ts" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/hooks/useModelCommand.test.ts" timestamp="2025-11-26T16:27:33.836Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/hooks/useModelCommand.test.ts" name="src/ui/hooks/useModelCommand.test.ts" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/hooks/usePermissionsModifyTrust.test.ts" timestamp="2025-11-26T16:27:33.838Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/hooks/usePermissionsModifyTrust.test.ts" name="src/ui/hooks/usePermissionsModifyTrust.test.ts" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/hooks/usePhraseCycler.test.ts" timestamp="2025-11-26T16:27:33.839Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/hooks/usePhraseCycler.test.ts" name="src/ui/hooks/usePhraseCycler.test.ts" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/hooks/useQuotaAndFallback.test.ts" timestamp="2025-11-26T16:27:33.839Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/hooks/useQuotaAndFallback.test.ts" name="src/ui/hooks/useQuotaAndFallback.test.ts" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/hooks/useQwenAuth.test.ts" timestamp="2025-11-26T16:27:33.840Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/hooks/useQwenAuth.test.ts" name="src/ui/hooks/useQwenAuth.test.ts" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/hooks/useReverseSearchCompletion.test.tsx" timestamp="2025-11-26T16:27:33.840Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/hooks/useReverseSearchCompletion.test.tsx" name="src/ui/hooks/useReverseSearchCompletion.test.tsx" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/hooks/useSelectionList.test.ts" timestamp="2025-11-26T16:27:33.840Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/hooks/useSelectionList.test.ts" name="src/ui/hooks/useSelectionList.test.ts" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/hooks/useShellHistory.test.ts" timestamp="2025-11-26T16:27:33.841Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/hooks/useShellHistory.test.ts" name="src/ui/hooks/useShellHistory.test.ts" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/hooks/useSlashCompletion.test.ts" timestamp="2025-11-26T16:27:33.841Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/hooks/useSlashCompletion.test.ts" name="src/ui/hooks/useSlashCompletion.test.ts" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/hooks/useTimer.test.ts" timestamp="2025-11-26T16:27:33.842Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/hooks/useTimer.test.ts" name="src/ui/hooks/useTimer.test.ts" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/hooks/useToolScheduler.test.ts" timestamp="2025-11-26T16:27:33.842Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/hooks/useToolScheduler.test.ts" name="src/ui/hooks/useToolScheduler.test.ts" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/hooks/useVisionAutoSwitch.test.ts" timestamp="2025-11-26T16:27:33.843Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/hooks/useVisionAutoSwitch.test.ts" name="src/ui/hooks/useVisionAutoSwitch.test.ts" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/hooks/vim.test.ts" timestamp="2025-11-26T16:27:33.843Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/hooks/vim.test.ts" name="src/ui/hooks/vim.test.ts" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/themes/color-utils.test.ts" timestamp="2025-11-26T16:27:33.843Z" hostname="MacBook-Pro-6.local" tests="16" failures="0" errors="0" skipped="0" time="0.006934083">
        <testcase classname="src/ui/themes/color-utils.test.ts" name="Color Utils &gt; isValidColor &gt; should validate hex colors" time="0.001045416">
        </testcase>
        <testcase classname="src/ui/themes/color-utils.test.ts" name="Color Utils &gt; isValidColor &gt; should validate Ink-supported color names" time="0.000291792">
        </testcase>
        <testcase classname="src/ui/themes/color-utils.test.ts" name="Color Utils &gt; isValidColor &gt; should validate Ink-supported color names case insensitive" time="0.000079667">
        </testcase>
        <testcase classname="src/ui/themes/color-utils.test.ts" name="Color Utils &gt; isValidColor &gt; should validate CSS color names" time="0.000148">
        </testcase>
        <testcase classname="src/ui/themes/color-utils.test.ts" name="Color Utils &gt; isValidColor &gt; should validate CSS color names case insensitive" time="0.000089917">
        </testcase>
        <testcase classname="src/ui/themes/color-utils.test.ts" name="Color Utils &gt; isValidColor &gt; should reject invalid color names" time="0.000158834">
        </testcase>
        <testcase classname="src/ui/themes/color-utils.test.ts" name="Color Utils &gt; resolveColor &gt; should resolve hex colors" time="0.000129416">
        </testcase>
        <testcase classname="src/ui/themes/color-utils.test.ts" name="Color Utils &gt; resolveColor &gt; should resolve Ink-supported color names" time="0.0001445">
        </testcase>
        <testcase classname="src/ui/themes/color-utils.test.ts" name="Color Utils &gt; resolveColor &gt; should resolve CSS color names to hex" time="0.000134333">
        </testcase>
        <testcase classname="src/ui/themes/color-utils.test.ts" name="Color Utils &gt; resolveColor &gt; should handle case insensitive color names" time="0.000067416">
        </testcase>
        <testcase classname="src/ui/themes/color-utils.test.ts" name="Color Utils &gt; resolveColor &gt; should return undefined for invalid colors" time="0.0011005">
            <system-err>
[ColorUtils] Could not resolve color &quot;invalidcolor&quot; to an Ink-compatible format.
[ColorUtils] Could not resolve color &quot;notacolor&quot; to an Ink-compatible format.
[ColorUtils] Could not resolve color &quot;&quot; to an Ink-compatible format.

            </system-err>
        </testcase>
        <testcase classname="src/ui/themes/color-utils.test.ts" name="Color Utils &gt; CSS_NAME_TO_HEX_MAP &gt; should contain expected CSS color mappings" time="0.000104042">
        </testcase>
        <testcase classname="src/ui/themes/color-utils.test.ts" name="Color Utils &gt; CSS_NAME_TO_HEX_MAP &gt; should not contain Ink-supported color names" time="0.000072375">
        </testcase>
        <testcase classname="src/ui/themes/color-utils.test.ts" name="Color Utils &gt; INK_SUPPORTED_NAMES &gt; should contain all Ink-supported color names" time="0.000213416">
        </testcase>
        <testcase classname="src/ui/themes/color-utils.test.ts" name="Color Utils &gt; INK_SUPPORTED_NAMES &gt; should not contain CSS color names" time="0.00007475">
        </testcase>
        <testcase classname="src/ui/themes/color-utils.test.ts" name="Color Utils &gt; Consistency between validation and resolution &gt; should have consistent behavior between isValidColor and resolveColor" time="0.000668">
            <system-err>
[ColorUtils] Could not resolve color &quot;invalidcolor&quot; to an Ink-compatible format.
[ColorUtils] Could not resolve color &quot;notacolor&quot; to an Ink-compatible format.
[ColorUtils] Could not resolve color &quot;&quot; to an Ink-compatible format.

            </system-err>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/themes/theme-manager.test.ts" timestamp="2025-11-26T16:27:33.844Z" hostname="MacBook-Pro-6.local" tests="12" failures="0" errors="0" skipped="0" time="0.015674625">
        <testcase classname="src/ui/themes/theme-manager.test.ts" name="ThemeManager &gt; should load valid custom themes" time="0.006987292">
        </testcase>
        <testcase classname="src/ui/themes/theme-manager.test.ts" name="ThemeManager &gt; should set and get the active theme" time="0.001461958">
        </testcase>
        <testcase classname="src/ui/themes/theme-manager.test.ts" name="ThemeManager &gt; should set and get a custom active theme" time="0.000429625">
        </testcase>
        <testcase classname="src/ui/themes/theme-manager.test.ts" name="ThemeManager &gt; should return false when setting a non-existent theme" time="0.000540708">
        </testcase>
        <testcase classname="src/ui/themes/theme-manager.test.ts" name="ThemeManager &gt; should list available themes including custom themes" time="0.000607791">
        </testcase>
        <testcase classname="src/ui/themes/theme-manager.test.ts" name="ThemeManager &gt; should get a theme by name" time="0.000223083">
        </testcase>
        <testcase classname="src/ui/themes/theme-manager.test.ts" name="ThemeManager &gt; should fall back to default theme if active theme is invalid" time="0.000149875">
        </testcase>
        <testcase classname="src/ui/themes/theme-manager.test.ts" name="ThemeManager &gt; should return NoColorTheme if NO_COLOR is set" time="0.000161333">
        </testcase>
        <testcase classname="src/ui/themes/theme-manager.test.ts" name="ThemeManager &gt; when loading a theme from a file &gt; should load a theme from a valid file path" time="0.001936417">
        </testcase>
        <testcase classname="src/ui/themes/theme-manager.test.ts" name="ThemeManager &gt; when loading a theme from a file &gt; should not load a theme if the file does not exist" time="0.001404791">
            <system-err>
Theme file at &quot;./my-theme.json&quot; is outside your home directory. Only load themes from trusted sources.

            </system-err>
        </testcase>
        <testcase classname="src/ui/themes/theme-manager.test.ts" name="ThemeManager &gt; when loading a theme from a file &gt; should not load a theme from a file with invalid JSON" time="0.000369292">
            <system-err>
Theme file at &quot;./my-theme.json&quot; is outside your home directory. Only load themes from trusted sources.

            </system-err>
        </testcase>
        <testcase classname="src/ui/themes/theme-manager.test.ts" name="ThemeManager &gt; when loading a theme from a file &gt; should not load a theme from an untrusted file path and log a message" time="0.000437041">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/themes/theme.test.ts" timestamp="2025-11-26T16:27:33.846Z" hostname="MacBook-Pro-6.local" tests="5" failures="0" errors="0" skipped="0" time="0.005234">
        <testcase classname="src/ui/themes/theme.test.ts" name="validateCustomTheme &gt; should return isValid: true for a valid theme" time="0.000917542">
        </testcase>
        <testcase classname="src/ui/themes/theme.test.ts" name="validateCustomTheme &gt; should return isValid: false for a theme with an invalid name" time="0.000097458">
        </testcase>
        <testcase classname="src/ui/themes/theme.test.ts" name="validateCustomTheme &gt; should return isValid: true for a theme missing optional DiffAdded and DiffRemoved colors" time="0.000070916">
        </testcase>
        <testcase classname="src/ui/themes/theme.test.ts" name="validateCustomTheme &gt; should return isValid: false for a theme with a very long name" time="0.000070458">
        </testcase>
        <testcase classname="src/ui/themes/theme.test.ts" name="themeManager.loadCustomThemes &gt; should use values from DEFAULT_THEME when DiffAdded and DiffRemoved are not provided" time="0.001612167">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/utils/MarkdownDisplay.test.tsx" timestamp="2025-11-26T16:27:33.846Z" hostname="MacBook-Pro-6.local" tests="31" failures="0" errors="0" skipped="0" time="0.391923667">
        <testcase classname="src/ui/utils/MarkdownDisplay.test.tsx" name="&lt;MarkdownDisplay /&gt; &gt; renders nothing for empty text" time="0.015237208">
        </testcase>
        <testcase classname="src/ui/utils/MarkdownDisplay.test.tsx" name="&lt;MarkdownDisplay /&gt; &gt; renders a simple paragraph" time="0.007186458">
        </testcase>
        <testcase classname="src/ui/utils/MarkdownDisplay.test.tsx" name="&lt;MarkdownDisplay /&gt; &gt; with &apos;Windows&apos; line endings &gt; renders headers with correct levels" time="0.003682083">
        </testcase>
        <testcase classname="src/ui/utils/MarkdownDisplay.test.tsx" name="&lt;MarkdownDisplay /&gt; &gt; with &apos;Windows&apos; line endings &gt; renders a fenced code block with a language" time="0.0179735">
        </testcase>
        <testcase classname="src/ui/utils/MarkdownDisplay.test.tsx" name="&lt;MarkdownDisplay /&gt; &gt; with &apos;Windows&apos; line endings &gt; renders a fenced code block without a language" time="0.192436166">
        </testcase>
        <testcase classname="src/ui/utils/MarkdownDisplay.test.tsx" name="&lt;MarkdownDisplay /&gt; &gt; with &apos;Windows&apos; line endings &gt; handles unclosed (pending) code blocks" time="0.002472667">
        </testcase>
        <testcase classname="src/ui/utils/MarkdownDisplay.test.tsx" name="&lt;MarkdownDisplay /&gt; &gt; with &apos;Windows&apos; line endings &gt; renders unordered lists with different markers" time="0.00220225">
        </testcase>
        <testcase classname="src/ui/utils/MarkdownDisplay.test.tsx" name="&lt;MarkdownDisplay /&gt; &gt; with &apos;Windows&apos; line endings &gt; renders nested unordered lists" time="0.001735625">
        </testcase>
        <testcase classname="src/ui/utils/MarkdownDisplay.test.tsx" name="&lt;MarkdownDisplay /&gt; &gt; with &apos;Windows&apos; line endings &gt; renders ordered lists" time="0.001815167">
        </testcase>
        <testcase classname="src/ui/utils/MarkdownDisplay.test.tsx" name="&lt;MarkdownDisplay /&gt; &gt; with &apos;Windows&apos; line endings &gt; renders horizontal rules" time="0.001852458">
        </testcase>
        <testcase classname="src/ui/utils/MarkdownDisplay.test.tsx" name="&lt;MarkdownDisplay /&gt; &gt; with &apos;Windows&apos; line endings &gt; renders tables correctly" time="0.004983375">
        </testcase>
        <testcase classname="src/ui/utils/MarkdownDisplay.test.tsx" name="&lt;MarkdownDisplay /&gt; &gt; with &apos;Windows&apos; line endings &gt; handles a table at the end of the input" time="0.001565084">
        </testcase>
        <testcase classname="src/ui/utils/MarkdownDisplay.test.tsx" name="&lt;MarkdownDisplay /&gt; &gt; with &apos;Windows&apos; line endings &gt; inserts a single space between paragraphs" time="0.001069167">
        </testcase>
        <testcase classname="src/ui/utils/MarkdownDisplay.test.tsx" name="&lt;MarkdownDisplay /&gt; &gt; with &apos;Windows&apos; line endings &gt; correctly parses a mix of markdown elements" time="0.077573375">
        </testcase>
        <testcase classname="src/ui/utils/MarkdownDisplay.test.tsx" name="&lt;MarkdownDisplay /&gt; &gt; with &apos;Windows&apos; line endings &gt; hides line numbers in code blocks when showLineNumbers is false" time="0.001915083">
        </testcase>
        <testcase classname="src/ui/utils/MarkdownDisplay.test.tsx" name="&lt;MarkdownDisplay /&gt; &gt; with &apos;Windows&apos; line endings &gt; shows line numbers in code blocks by default" time="0.001228916">
        </testcase>
        <testcase classname="src/ui/utils/MarkdownDisplay.test.tsx" name="&lt;MarkdownDisplay /&gt; &gt; with &apos;Unix&apos; line endings &gt; renders headers with correct levels" time="0.014175666">
        </testcase>
        <testcase classname="src/ui/utils/MarkdownDisplay.test.tsx" name="&lt;MarkdownDisplay /&gt; &gt; with &apos;Unix&apos; line endings &gt; renders a fenced code block with a language" time="0.006141708">
        </testcase>
        <testcase classname="src/ui/utils/MarkdownDisplay.test.tsx" name="&lt;MarkdownDisplay /&gt; &gt; with &apos;Unix&apos; line endings &gt; renders a fenced code block without a language" time="0.002147166">
        </testcase>
        <testcase classname="src/ui/utils/MarkdownDisplay.test.tsx" name="&lt;MarkdownDisplay /&gt; &gt; with &apos;Unix&apos; line endings &gt; handles unclosed (pending) code blocks" time="0.001503125">
        </testcase>
        <testcase classname="src/ui/utils/MarkdownDisplay.test.tsx" name="&lt;MarkdownDisplay /&gt; &gt; with &apos;Unix&apos; line endings &gt; renders unordered lists with different markers" time="0.003517708">
        </testcase>
        <testcase classname="src/ui/utils/MarkdownDisplay.test.tsx" name="&lt;MarkdownDisplay /&gt; &gt; with &apos;Unix&apos; line endings &gt; renders nested unordered lists" time="0.002836666">
        </testcase>
        <testcase classname="src/ui/utils/MarkdownDisplay.test.tsx" name="&lt;MarkdownDisplay /&gt; &gt; with &apos;Unix&apos; line endings &gt; renders ordered lists" time="0.007125583">
        </testcase>
        <testcase classname="src/ui/utils/MarkdownDisplay.test.tsx" name="&lt;MarkdownDisplay /&gt; &gt; with &apos;Unix&apos; line endings &gt; renders horizontal rules" time="0.001731125">
        </testcase>
        <testcase classname="src/ui/utils/MarkdownDisplay.test.tsx" name="&lt;MarkdownDisplay /&gt; &gt; with &apos;Unix&apos; line endings &gt; renders tables correctly" time="0.005479542">
        </testcase>
        <testcase classname="src/ui/utils/MarkdownDisplay.test.tsx" name="&lt;MarkdownDisplay /&gt; &gt; with &apos;Unix&apos; line endings &gt; handles a table at the end of the input" time="0.00159875">
        </testcase>
        <testcase classname="src/ui/utils/MarkdownDisplay.test.tsx" name="&lt;MarkdownDisplay /&gt; &gt; with &apos;Unix&apos; line endings &gt; inserts a single space between paragraphs" time="0.001204708">
        </testcase>
        <testcase classname="src/ui/utils/MarkdownDisplay.test.tsx" name="&lt;MarkdownDisplay /&gt; &gt; with &apos;Unix&apos; line endings &gt; correctly parses a mix of markdown elements" time="0.004108042">
        </testcase>
        <testcase classname="src/ui/utils/MarkdownDisplay.test.tsx" name="&lt;MarkdownDisplay /&gt; &gt; with &apos;Unix&apos; line endings &gt; hides line numbers in code blocks when showLineNumbers is false" time="0.001392875">
        </testcase>
        <testcase classname="src/ui/utils/MarkdownDisplay.test.tsx" name="&lt;MarkdownDisplay /&gt; &gt; with &apos;Unix&apos; line endings &gt; shows line numbers in code blocks by default" time="0.00124675">
        </testcase>
        <testcase classname="src/ui/utils/MarkdownDisplay.test.tsx" name="&lt;MarkdownDisplay /&gt; &gt; correctly splits lines using \n regardless of platform EOL" time="0.001332292">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/utils/clipboardUtils.test.ts" timestamp="2025-11-26T16:27:33.855Z" hostname="MacBook-Pro-6.local" tests="6" failures="0" errors="0" skipped="0" time="0.3233235">
        <testcase classname="src/ui/utils/clipboardUtils.test.ts" name="clipboardUtils &gt; clipboardHasImage &gt; should return false on non-macOS platforms" time="0.0008755">
        </testcase>
        <testcase classname="src/ui/utils/clipboardUtils.test.ts" name="clipboardUtils &gt; clipboardHasImage &gt; should return boolean on macOS" time="0.311613291">
        </testcase>
        <testcase classname="src/ui/utils/clipboardUtils.test.ts" name="clipboardUtils &gt; saveClipboardImage &gt; should return null on non-macOS platforms" time="0.000105416">
        </testcase>
        <testcase classname="src/ui/utils/clipboardUtils.test.ts" name="clipboardUtils &gt; saveClipboardImage &gt; should handle errors gracefully" time="0.004842417">
            <system-err>
Error saving clipboard image: Error: ENOENT: no such file or directory, mkdir &apos;/invalid&apos;
[90m    at Proxy.mkdir (node:internal/fs/promises:857:10)[39m
    at saveClipboardImage [90m(/Users/user/qwen-masters-code/packages/cli/[39msrc/ui/utils/clipboardUtils.ts:48:5[90m)[39m
    at [90m/Users/user/qwen-masters-code/packages/cli/[39msrc/ui/utils/clipboardUtils.test.ts:50:22
    at file:///Users/user/qwen-masters-code/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:20 {
  errno: [33m-2[39m,
  code: [32m&apos;ENOENT&apos;[39m,
  syscall: [32m&apos;mkdir&apos;[39m,
  path: [32m&apos;/invalid&apos;[39m
}

            </system-err>
        </testcase>
        <testcase classname="src/ui/utils/clipboardUtils.test.ts" name="clipboardUtils &gt; cleanupOldClipboardImages &gt; should not throw errors" time="0.003570041">
        </testcase>
        <testcase classname="src/ui/utils/clipboardUtils.test.ts" name="clipboardUtils &gt; cleanupOldClipboardImages &gt; should complete without errors on valid directory" time="0.000321042">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/utils/commandUtils.test.ts" timestamp="2025-11-26T16:27:33.856Z" hostname="MacBook-Pro-6.local" tests="26" failures="0" errors="0" skipped="0" time="0.050251625">
        <testcase classname="src/ui/utils/commandUtils.test.ts" name="commandUtils &gt; isAtCommand &gt; should return true when query starts with @" time="0.001241666">
        </testcase>
        <testcase classname="src/ui/utils/commandUtils.test.ts" name="commandUtils &gt; isAtCommand &gt; should return true when query contains @ preceded by whitespace" time="0.000249917">
        </testcase>
        <testcase classname="src/ui/utils/commandUtils.test.ts" name="commandUtils &gt; isAtCommand &gt; should return false when query does not start with @ and has no spaced @" time="0.000173">
        </testcase>
        <testcase classname="src/ui/utils/commandUtils.test.ts" name="commandUtils &gt; isAtCommand &gt; should return false when @ is not preceded by whitespace" time="0.000121875">
        </testcase>
        <testcase classname="src/ui/utils/commandUtils.test.ts" name="commandUtils &gt; isSlashCommand &gt; should return true when query starts with /" time="0.000177583">
        </testcase>
        <testcase classname="src/ui/utils/commandUtils.test.ts" name="commandUtils &gt; isSlashCommand &gt; should return false when query does not start with /" time="0.00026025">
        </testcase>
        <testcase classname="src/ui/utils/commandUtils.test.ts" name="commandUtils &gt; isSlashCommand &gt; should return false for line comments starting with //" time="0.000143542">
        </testcase>
        <testcase classname="src/ui/utils/commandUtils.test.ts" name="commandUtils &gt; isSlashCommand &gt; should return false for block comments starting with /*" time="0.000140417">
        </testcase>
        <testcase classname="src/ui/utils/commandUtils.test.ts" name="commandUtils &gt; copyToClipboard &gt; on macOS (darwin) &gt; should successfully copy text to clipboard using pbcopy" time="0.003940166">
        </testcase>
        <testcase classname="src/ui/utils/commandUtils.test.ts" name="commandUtils &gt; copyToClipboard &gt; on macOS (darwin) &gt; should handle pbcopy command failure" time="0.003081833">
        </testcase>
        <testcase classname="src/ui/utils/commandUtils.test.ts" name="commandUtils &gt; copyToClipboard &gt; on macOS (darwin) &gt; should handle spawn error" time="0.001761792">
        </testcase>
        <testcase classname="src/ui/utils/commandUtils.test.ts" name="commandUtils &gt; copyToClipboard &gt; on macOS (darwin) &gt; should handle stdin write error" time="0.001639333">
        </testcase>
        <testcase classname="src/ui/utils/commandUtils.test.ts" name="commandUtils &gt; copyToClipboard &gt; on Windows (win32) &gt; should successfully copy text to clipboard using clip" time="0.00197575">
        </testcase>
        <testcase classname="src/ui/utils/commandUtils.test.ts" name="commandUtils &gt; copyToClipboard &gt; on Linux &gt; should successfully copy text to clipboard using xclip" time="0.001125708">
        </testcase>
        <testcase classname="src/ui/utils/commandUtils.test.ts" name="commandUtils &gt; copyToClipboard &gt; on Linux &gt; should fall back to xsel when xclip fails" time="0.004071792">
        </testcase>
        <testcase classname="src/ui/utils/commandUtils.test.ts" name="commandUtils &gt; copyToClipboard &gt; on Linux &gt; should throw error when both xclip and xsel are not found" time="0.003632459">
        </testcase>
        <testcase classname="src/ui/utils/commandUtils.test.ts" name="commandUtils &gt; copyToClipboard &gt; on Linux &gt; should emit error when xclip or xsel fail with stderr output (command installed)" time="0.011453459">
        </testcase>
        <testcase classname="src/ui/utils/commandUtils.test.ts" name="commandUtils &gt; copyToClipboard &gt; on unsupported platform &gt; should throw error for unsupported platform" time="0.000413333">
        </testcase>
        <testcase classname="src/ui/utils/commandUtils.test.ts" name="commandUtils &gt; copyToClipboard &gt; error handling &gt; should handle command exit without stderr" time="0.003394417">
        </testcase>
        <testcase classname="src/ui/utils/commandUtils.test.ts" name="commandUtils &gt; copyToClipboard &gt; error handling &gt; should handle empty text" time="0.001829833">
        </testcase>
        <testcase classname="src/ui/utils/commandUtils.test.ts" name="commandUtils &gt; copyToClipboard &gt; error handling &gt; should handle multiline text" time="0.001788791">
        </testcase>
        <testcase classname="src/ui/utils/commandUtils.test.ts" name="commandUtils &gt; copyToClipboard &gt; error handling &gt; should handle special characters" time="0.003148792">
        </testcase>
        <testcase classname="src/ui/utils/commandUtils.test.ts" name="commandUtils &gt; getUrlOpenCommand &gt; on macOS (darwin) &gt; should return open" time="0.000295709">
        </testcase>
        <testcase classname="src/ui/utils/commandUtils.test.ts" name="commandUtils &gt; getUrlOpenCommand &gt; on Windows (win32) &gt; should return start" time="0.000124666">
        </testcase>
        <testcase classname="src/ui/utils/commandUtils.test.ts" name="commandUtils &gt; getUrlOpenCommand &gt; on Linux (linux) &gt; should return xdg-open" time="0.000130708">
        </testcase>
        <testcase classname="src/ui/utils/commandUtils.test.ts" name="commandUtils &gt; getUrlOpenCommand &gt; on unmatched OS &gt; should return xdg-open" time="0.002659333">
            <system-err>
Unknown platform: unmatched. Attempting to open URLs with: xdg-open.

            </system-err>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/utils/computeStats.test.ts" timestamp="2025-11-26T16:27:33.859Z" hostname="MacBook-Pro-6.local" tests="12" failures="0" errors="0" skipped="0" time="0.005231375">
        <testcase classname="src/ui/utils/computeStats.test.ts" name="calculateErrorRate &gt; should return 0 if totalRequests is 0" time="0.0009045">
        </testcase>
        <testcase classname="src/ui/utils/computeStats.test.ts" name="calculateErrorRate &gt; should calculate the error rate correctly" time="0.000085166">
        </testcase>
        <testcase classname="src/ui/utils/computeStats.test.ts" name="calculateAverageLatency &gt; should return 0 if totalRequests is 0" time="0.000080583">
        </testcase>
        <testcase classname="src/ui/utils/computeStats.test.ts" name="calculateAverageLatency &gt; should calculate the average latency correctly" time="0.000052459">
        </testcase>
        <testcase classname="src/ui/utils/computeStats.test.ts" name="calculateCacheHitRate &gt; should return 0 if prompt tokens is 0" time="0.000060583">
        </testcase>
        <testcase classname="src/ui/utils/computeStats.test.ts" name="calculateCacheHitRate &gt; should calculate the cache hit rate correctly" time="0.000046584">
        </testcase>
        <testcase classname="src/ui/utils/computeStats.test.ts" name="computeSessionStats &gt; should return all zeros for initial empty metrics" time="0.000494792">
        </testcase>
        <testcase classname="src/ui/utils/computeStats.test.ts" name="computeSessionStats &gt; should correctly calculate API and tool time percentages" time="0.000151667">
        </testcase>
        <testcase classname="src/ui/utils/computeStats.test.ts" name="computeSessionStats &gt; should correctly calculate cache efficiency" time="0.000104875">
        </testcase>
        <testcase classname="src/ui/utils/computeStats.test.ts" name="computeSessionStats &gt; should correctly calculate success and agreement rates" time="0.000073375">
        </testcase>
        <testcase classname="src/ui/utils/computeStats.test.ts" name="computeSessionStats &gt; should handle division by zero gracefully" time="0.000098542">
        </testcase>
        <testcase classname="src/ui/utils/computeStats.test.ts" name="computeSessionStats &gt; should correctly include line counts" time="0.000058291">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/utils/displayUtils.test.ts" timestamp="2025-11-26T16:27:33.861Z" hostname="MacBook-Pro-6.local" tests="8" failures="0" errors="0" skipped="0" time="0.003576625">
        <testcase classname="src/ui/utils/displayUtils.test.ts" name="displayUtils &gt; getStatusColor &gt; with red threshold &gt; should return green for values &gt;= green threshold" time="0.000959333">
        </testcase>
        <testcase classname="src/ui/utils/displayUtils.test.ts" name="displayUtils &gt; getStatusColor &gt; with red threshold &gt; should return yellow for values &lt; green and &gt;= yellow threshold" time="0.000156958">
        </testcase>
        <testcase classname="src/ui/utils/displayUtils.test.ts" name="displayUtils &gt; getStatusColor &gt; with red threshold &gt; should return red for values &lt; yellow and &gt;= red threshold" time="0.000098292">
        </testcase>
        <testcase classname="src/ui/utils/displayUtils.test.ts" name="displayUtils &gt; getStatusColor &gt; with red threshold &gt; should return error for values &lt; red threshold" time="0.000077958">
        </testcase>
        <testcase classname="src/ui/utils/displayUtils.test.ts" name="displayUtils &gt; getStatusColor &gt; with red threshold &gt; should return defaultColor for values &lt; red threshold when provided" time="0.000071709">
        </testcase>
        <testcase classname="src/ui/utils/displayUtils.test.ts" name="displayUtils &gt; getStatusColor &gt; when red threshold is not provided &gt; should return error color for values &lt; yellow threshold" time="0.000057708">
        </testcase>
        <testcase classname="src/ui/utils/displayUtils.test.ts" name="displayUtils &gt; getStatusColor &gt; when red threshold is not provided &gt; should return defaultColor for values &lt; yellow threshold when provided" time="0.00050375">
        </testcase>
        <testcase classname="src/ui/utils/displayUtils.test.ts" name="displayUtils &gt; Threshold Constants &gt; should have the correct values" time="0.0006275">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/utils/formatters.test.ts" timestamp="2025-11-26T16:27:33.861Z" hostname="MacBook-Pro-6.local" tests="14" failures="0" errors="0" skipped="0" time="0.003048083">
        <testcase classname="src/ui/utils/formatters.test.ts" name="formatters &gt; formatMemoryUsage &gt; should format bytes into KB" time="0.000829834">
        </testcase>
        <testcase classname="src/ui/utils/formatters.test.ts" name="formatters &gt; formatMemoryUsage &gt; should format bytes into MB" time="0.000081375">
        </testcase>
        <testcase classname="src/ui/utils/formatters.test.ts" name="formatters &gt; formatMemoryUsage &gt; should format bytes into GB" time="0.000271291">
        </testcase>
        <testcase classname="src/ui/utils/formatters.test.ts" name="formatters &gt; formatDuration &gt; should format milliseconds less than a second" time="0.000145333">
        </testcase>
        <testcase classname="src/ui/utils/formatters.test.ts" name="formatters &gt; formatDuration &gt; should format a duration of 0" time="0.000059625">
        </testcase>
        <testcase classname="src/ui/utils/formatters.test.ts" name="formatters &gt; formatDuration &gt; should format an exact number of seconds" time="0.000051458">
        </testcase>
        <testcase classname="src/ui/utils/formatters.test.ts" name="formatters &gt; formatDuration &gt; should format a duration in seconds with one decimal place" time="0.000045208">
        </testcase>
        <testcase classname="src/ui/utils/formatters.test.ts" name="formatters &gt; formatDuration &gt; should format an exact number of minutes" time="0.000050791">
        </testcase>
        <testcase classname="src/ui/utils/formatters.test.ts" name="formatters &gt; formatDuration &gt; should format a duration in minutes and seconds" time="0.000046667">
        </testcase>
        <testcase classname="src/ui/utils/formatters.test.ts" name="formatters &gt; formatDuration &gt; should format an exact number of hours" time="0.000042792">
        </testcase>
        <testcase classname="src/ui/utils/formatters.test.ts" name="formatters &gt; formatDuration &gt; should format a duration in hours and seconds" time="0.000040542">
        </testcase>
        <testcase classname="src/ui/utils/formatters.test.ts" name="formatters &gt; formatDuration &gt; should format a duration in hours, minutes, and seconds" time="0.000039584">
        </testcase>
        <testcase classname="src/ui/utils/formatters.test.ts" name="formatters &gt; formatDuration &gt; should handle large durations" time="0.000043708">
        </testcase>
        <testcase classname="src/ui/utils/formatters.test.ts" name="formatters &gt; formatDuration &gt; should handle negative durations" time="0.000038542">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/utils/highlight.test.ts" timestamp="2025-11-26T16:27:33.863Z" hostname="MacBook-Pro-6.local" tests="16" failures="0" errors="0" skipped="0" time="0.004199583">
        <testcase classname="src/ui/utils/highlight.test.ts" name="parseInputForHighlighting &gt; should handle an empty string" time="0.001183542">
        </testcase>
        <testcase classname="src/ui/utils/highlight.test.ts" name="parseInputForHighlighting &gt; should handle text with no commands or files" time="0.000156583">
        </testcase>
        <testcase classname="src/ui/utils/highlight.test.ts" name="parseInputForHighlighting &gt; should highlight a single command at the beginning when index is 0" time="0.000128208">
        </testcase>
        <testcase classname="src/ui/utils/highlight.test.ts" name="parseInputForHighlighting &gt; should NOT highlight a command at the beginning when index is not 0" time="0.000142">
        </testcase>
        <testcase classname="src/ui/utils/highlight.test.ts" name="parseInputForHighlighting &gt; should highlight a single file path at the beginning" time="0.000081833">
        </testcase>
        <testcase classname="src/ui/utils/highlight.test.ts" name="parseInputForHighlighting &gt; should not highlight a command in the middle" time="0.000061">
        </testcase>
        <testcase classname="src/ui/utils/highlight.test.ts" name="parseInputForHighlighting &gt; should highlight a file path in the middle" time="0.000112041">
        </testcase>
        <testcase classname="src/ui/utils/highlight.test.ts" name="parseInputForHighlighting &gt; should highlight files but not commands not at the start" time="0.000103041">
        </testcase>
        <testcase classname="src/ui/utils/highlight.test.ts" name="parseInputForHighlighting &gt; should handle adjacent highlights at start" time="0.000078375">
        </testcase>
        <testcase classname="src/ui/utils/highlight.test.ts" name="parseInputForHighlighting &gt; should not highlight command at the end of the string" time="0.000064333">
        </testcase>
        <testcase classname="src/ui/utils/highlight.test.ts" name="parseInputForHighlighting &gt; should handle file paths with dots and dashes" time="0.000065292">
        </testcase>
        <testcase classname="src/ui/utils/highlight.test.ts" name="parseInputForHighlighting &gt; should not highlight command with dashes and numbers not at start" time="0.000053542">
        </testcase>
        <testcase classname="src/ui/utils/highlight.test.ts" name="parseInputForHighlighting &gt; should highlight command with dashes and numbers at start" time="0.00009975">
        </testcase>
        <testcase classname="src/ui/utils/highlight.test.ts" name="parseInputForHighlighting &gt; should still highlight a file path on a non-zero line" time="0.000072292">
        </testcase>
        <testcase classname="src/ui/utils/highlight.test.ts" name="parseInputForHighlighting &gt; should not highlight command but highlight file on a non-zero line" time="0.000294083">
        </testcase>
        <testcase classname="src/ui/utils/highlight.test.ts" name="parseInputForHighlighting &gt; should highlight a file path with escaped spaces" time="0.000345042">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/utils/markdownUtilities.test.ts" timestamp="2025-11-26T16:27:33.864Z" hostname="MacBook-Pro-6.local" tests="7" failures="0" errors="0" skipped="0" time="0.002073416">
        <testcase classname="src/ui/utils/markdownUtilities.test.ts" name="markdownUtilities &gt; findLastSafeSplitPoint &gt; should split at the last double newline if not in a code block" time="0.0009715">
        </testcase>
        <testcase classname="src/ui/utils/markdownUtilities.test.ts" name="markdownUtilities &gt; findLastSafeSplitPoint &gt; should return content.length if no safe split point is found" time="0.000078792">
        </testcase>
        <testcase classname="src/ui/utils/markdownUtilities.test.ts" name="markdownUtilities &gt; findLastSafeSplitPoint &gt; should prioritize splitting at 

 over being at the very end of the string if the end is not in a code block" time="0.000054917">
        </testcase>
        <testcase classname="src/ui/utils/markdownUtilities.test.ts" name="markdownUtilities &gt; findLastSafeSplitPoint &gt; should return content.length if the only 

 is inside a code block and the end of content is not" time="0.000047041">
        </testcase>
        <testcase classname="src/ui/utils/markdownUtilities.test.ts" name="markdownUtilities &gt; findLastSafeSplitPoint &gt; should correctly identify the last 

 even if it is followed by text not in a code block" time="0.000044167">
        </testcase>
        <testcase classname="src/ui/utils/markdownUtilities.test.ts" name="markdownUtilities &gt; findLastSafeSplitPoint &gt; should return content.length if content is empty" time="0.000040959">
        </testcase>
        <testcase classname="src/ui/utils/markdownUtilities.test.ts" name="markdownUtilities &gt; findLastSafeSplitPoint &gt; should return content.length if content has no newlines and no code blocks" time="0.000041542">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/utils/textUtils.test.ts" timestamp="2025-11-26T16:27:33.865Z" hostname="MacBook-Pro-6.local" tests="9" failures="0" errors="0" skipped="0" time="0.021826958">
        <testcase classname="src/ui/utils/textUtils.test.ts" name="textUtils &gt; escapeAnsiCtrlCodes &gt; escapeAnsiCtrlCodes string case study &gt; should replace ANSI escape codes with a visible representation" time="0.012690125">
        </testcase>
        <testcase classname="src/ui/utils/textUtils.test.ts" name="textUtils &gt; escapeAnsiCtrlCodes &gt; escapeAnsiCtrlCodes string case study &gt; should not change a string with no ANSI codes" time="0.000092083">
        </testcase>
        <testcase classname="src/ui/utils/textUtils.test.ts" name="textUtils &gt; escapeAnsiCtrlCodes &gt; escapeAnsiCtrlCodes string case study &gt; should handle an empty string" time="0.000056708">
        </testcase>
        <testcase classname="src/ui/utils/textUtils.test.ts" name="textUtils &gt; escapeAnsiCtrlCodes &gt; escapeAnsiCtrlCodes string case study &gt; toolConfirmationDetails case study &gt; should sanitize command and rootCommand for exec type" time="0.000112041">
        </testcase>
        <testcase classname="src/ui/utils/textUtils.test.ts" name="textUtils &gt; escapeAnsiCtrlCodes &gt; escapeAnsiCtrlCodes string case study &gt; toolConfirmationDetails case study &gt; should sanitize properties for edit type" time="0.000116666">
        </testcase>
        <testcase classname="src/ui/utils/textUtils.test.ts" name="textUtils &gt; escapeAnsiCtrlCodes &gt; escapeAnsiCtrlCodes string case study &gt; toolConfirmationDetails case study &gt; should sanitize properties for mcp type" time="0.000106166">
        </testcase>
        <testcase classname="src/ui/utils/textUtils.test.ts" name="textUtils &gt; escapeAnsiCtrlCodes &gt; escapeAnsiCtrlCodes string case study &gt; toolConfirmationDetails case study &gt; should sanitize properties for info type" time="0.00009775">
        </testcase>
        <testcase classname="src/ui/utils/textUtils.test.ts" name="textUtils &gt; escapeAnsiCtrlCodes &gt; escapeAnsiCtrlCodes string case study &gt; should not change the object if no sanitization is needed" time="0.000059875">
        </testcase>
        <testcase classname="src/ui/utils/textUtils.test.ts" name="textUtils &gt; escapeAnsiCtrlCodes &gt; escapeAnsiCtrlCodes string case study &gt; should handle nested objects and arrays" time="0.000299333">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/utils/updateCheck.test.ts" timestamp="2025-11-26T16:27:33.865Z" hostname="MacBook-Pro-6.local" tests="9" failures="0" errors="0" skipped="0" time="0.007522166">
        <testcase classname="src/ui/utils/updateCheck.test.ts" name="checkForUpdates &gt; should return null when running from source (DEV=true)" time="0.002204625">
        </testcase>
        <testcase classname="src/ui/utils/updateCheck.test.ts" name="checkForUpdates &gt; should return null if package.json is missing" time="0.000301208">
        </testcase>
        <testcase classname="src/ui/utils/updateCheck.test.ts" name="checkForUpdates &gt; should return null if there is no update" time="0.000219917">
        </testcase>
        <testcase classname="src/ui/utils/updateCheck.test.ts" name="checkForUpdates &gt; should return a message if a newer version is available" time="0.0007295">
        </testcase>
        <testcase classname="src/ui/utils/updateCheck.test.ts" name="checkForUpdates &gt; should return null if the latest version is the same as the current version" time="0.000295">
        </testcase>
        <testcase classname="src/ui/utils/updateCheck.test.ts" name="checkForUpdates &gt; should return null if the latest version is older than the current version" time="0.000175291">
        </testcase>
        <testcase classname="src/ui/utils/updateCheck.test.ts" name="checkForUpdates &gt; should return null if fetchInfo rejects" time="0.001210542">
            <system-err>
Failed to check for updates: Error: Timeout

            </system-err>
        </testcase>
        <testcase classname="src/ui/utils/updateCheck.test.ts" name="checkForUpdates &gt; should handle errors gracefully" time="0.000242">
            <system-err>
Failed to check for updates: Error: test error

            </system-err>
        </testcase>
        <testcase classname="src/ui/utils/updateCheck.test.ts" name="checkForUpdates &gt; nightly updates &gt; should notify for a newer nightly version when current is nightly" time="0.001306167">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/messages/CompressionMessage.test.tsx" timestamp="2025-11-26T16:27:33.866Z" hostname="MacBook-Pro-6.local" tests="8" failures="0" errors="0" skipped="0" time="0.035953542">
        <testcase classname="src/ui/components/messages/CompressionMessage.test.tsx" name="&lt;CompressionMessage /&gt; &gt; pending state &gt; renders pending message when compression is in progress" time="0.015903667">
        </testcase>
        <testcase classname="src/ui/components/messages/CompressionMessage.test.tsx" name="&lt;CompressionMessage /&gt; &gt; normal compression (successful token reduction) &gt; renders success message when tokens are reduced" time="0.001556541">
        </testcase>
        <testcase classname="src/ui/components/messages/CompressionMessage.test.tsx" name="&lt;CompressionMessage /&gt; &gt; normal compression (successful token reduction) &gt; renders success message for large successful compressions" time="0.002502916">
        </testcase>
        <testcase classname="src/ui/components/messages/CompressionMessage.test.tsx" name="&lt;CompressionMessage /&gt; &gt; skipped compression (tokens increased or same) &gt; renders skip message when compression would increase token count" time="0.001221833">
        </testcase>
        <testcase classname="src/ui/components/messages/CompressionMessage.test.tsx" name="&lt;CompressionMessage /&gt; &gt; skipped compression (tokens increased or same) &gt; renders skip message when token counts are equal" time="0.001099">
        </testcase>
        <testcase classname="src/ui/components/messages/CompressionMessage.test.tsx" name="&lt;CompressionMessage /&gt; &gt; message content validation &gt; displays correct compression statistics" time="0.002789875">
        </testcase>
        <testcase classname="src/ui/components/messages/CompressionMessage.test.tsx" name="&lt;CompressionMessage /&gt; &gt; message content validation &gt; shows skip message for small histories when new tokens &gt;= original tokens" time="0.002691875">
        </testcase>
        <testcase classname="src/ui/components/messages/CompressionMessage.test.tsx" name="&lt;CompressionMessage /&gt; &gt; message content validation &gt; shows compression failure message for large histories when new tokens &gt;= original tokens" time="0.00727625">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/messages/DiffRenderer.test.tsx" timestamp="2025-11-26T16:27:33.867Z" hostname="MacBook-Pro-6.local" tests="13" failures="0" errors="0" skipped="0" time="0.374989584">
        <testcase classname="src/ui/components/messages/DiffRenderer.test.tsx" name="&lt;OverflowProvider&gt;&lt;DiffRenderer /&gt;&lt;/OverflowProvider&gt; &gt; should call colorizeCode with correct language for new file with known extension" time="0.090695917">
        </testcase>
        <testcase classname="src/ui/components/messages/DiffRenderer.test.tsx" name="&lt;OverflowProvider&gt;&lt;DiffRenderer /&gt;&lt;/OverflowProvider&gt; &gt; should call colorizeCode with null language for new file with unknown extension" time="0.131058875">
        </testcase>
        <testcase classname="src/ui/components/messages/DiffRenderer.test.tsx" name="&lt;OverflowProvider&gt;&lt;DiffRenderer /&gt;&lt;/OverflowProvider&gt; &gt; should call colorizeCode with null language for new file if no filename is provided" time="0.011474708">
        </testcase>
        <testcase classname="src/ui/components/messages/DiffRenderer.test.tsx" name="&lt;OverflowProvider&gt;&lt;DiffRenderer /&gt;&lt;/OverflowProvider&gt; &gt; should render diff content for existing file (not calling colorizeCode directly for the whole block)" time="0.003537625">
        </testcase>
        <testcase classname="src/ui/components/messages/DiffRenderer.test.tsx" name="&lt;OverflowProvider&gt;&lt;DiffRenderer /&gt;&lt;/OverflowProvider&gt; &gt; should handle diff with only header and no changes" time="0.003909375">
        </testcase>
        <testcase classname="src/ui/components/messages/DiffRenderer.test.tsx" name="&lt;OverflowProvider&gt;&lt;DiffRenderer /&gt;&lt;/OverflowProvider&gt; &gt; should handle empty diff content" time="0.000818667">
        </testcase>
        <testcase classname="src/ui/components/messages/DiffRenderer.test.tsx" name="&lt;OverflowProvider&gt;&lt;DiffRenderer /&gt;&lt;/OverflowProvider&gt; &gt; should render a gap indicator for skipped lines" time="0.044768833">
        </testcase>
        <testcase classname="src/ui/components/messages/DiffRenderer.test.tsx" name="&lt;OverflowProvider&gt;&lt;DiffRenderer /&gt;&lt;/OverflowProvider&gt; &gt; should not render a gap indicator for small gaps (&lt;= MAX_CONTEXT_LINES_WITHOUT_GAP)" time="0.006513334">
        </testcase>
        <testcase classname="src/ui/components/messages/DiffRenderer.test.tsx" name="&lt;OverflowProvider&gt;&lt;DiffRenderer /&gt;&lt;/OverflowProvider&gt; &gt; should correctly render a diff with multiple hunks and a gap indicator &gt; with terminalWidth 80 and height undefined" time="0.015157583">
        </testcase>
        <testcase classname="src/ui/components/messages/DiffRenderer.test.tsx" name="&lt;OverflowProvider&gt;&lt;DiffRenderer /&gt;&lt;/OverflowProvider&gt; &gt; should correctly render a diff with multiple hunks and a gap indicator &gt; with terminalWidth 80 and height 6" time="0.016049792">
        </testcase>
        <testcase classname="src/ui/components/messages/DiffRenderer.test.tsx" name="&lt;OverflowProvider&gt;&lt;DiffRenderer /&gt;&lt;/OverflowProvider&gt; &gt; should correctly render a diff with multiple hunks and a gap indicator &gt; with terminalWidth 30 and height 6" time="0.013397291">
        </testcase>
        <testcase classname="src/ui/components/messages/DiffRenderer.test.tsx" name="&lt;OverflowProvider&gt;&lt;DiffRenderer /&gt;&lt;/OverflowProvider&gt; &gt; should correctly render a diff with a SVN diff format" time="0.019062334">
        </testcase>
        <testcase classname="src/ui/components/messages/DiffRenderer.test.tsx" name="&lt;OverflowProvider&gt;&lt;DiffRenderer /&gt;&lt;/OverflowProvider&gt; &gt; should correctly render a new file with no file extension correctly" time="0.016717834">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/messages/ToolConfirmationMessage.test.tsx" timestamp="2025-11-26T16:27:33.868Z" hostname="MacBook-Pro-6.local" tests="13" failures="0" errors="0" skipped="0" time="0.174870708">
        <testcase classname="src/ui/components/messages/ToolConfirmationMessage.test.tsx" name="ToolConfirmationMessage &gt; should not display urls if prompt and url are the same" time="0.079710167">
        </testcase>
        <testcase classname="src/ui/components/messages/ToolConfirmationMessage.test.tsx" name="ToolConfirmationMessage &gt; should display urls if prompt and url are different" time="0.006024584">
        </testcase>
        <testcase classname="src/ui/components/messages/ToolConfirmationMessage.test.tsx" name="ToolConfirmationMessage &gt; should render plan confirmation with markdown plan content" time="0.010717">
        </testcase>
        <testcase classname="src/ui/components/messages/ToolConfirmationMessage.test.tsx" name="ToolConfirmationMessage &gt; with folder trust &gt; &apos;for edit confirmations&apos; &gt; should show &quot;allow always&quot; when folder is trusted" time="0.005355625">
        </testcase>
        <testcase classname="src/ui/components/messages/ToolConfirmationMessage.test.tsx" name="ToolConfirmationMessage &gt; with folder trust &gt; &apos;for edit confirmations&apos; &gt; should NOT show &quot;allow always&quot; when folder is untrusted" time="0.014236459">
        </testcase>
        <testcase classname="src/ui/components/messages/ToolConfirmationMessage.test.tsx" name="ToolConfirmationMessage &gt; with folder trust &gt; &apos;for exec confirmations&apos; &gt; should show &quot;allow always&quot; when folder is trusted" time="0.005111083">
        </testcase>
        <testcase classname="src/ui/components/messages/ToolConfirmationMessage.test.tsx" name="ToolConfirmationMessage &gt; with folder trust &gt; &apos;for exec confirmations&apos; &gt; should NOT show &quot;allow always&quot; when folder is untrusted" time="0.002630458">
        </testcase>
        <testcase classname="src/ui/components/messages/ToolConfirmationMessage.test.tsx" name="ToolConfirmationMessage &gt; with folder trust &gt; &apos;for info confirmations&apos; &gt; should show &quot;allow always&quot; when folder is trusted" time="0.002971667">
        </testcase>
        <testcase classname="src/ui/components/messages/ToolConfirmationMessage.test.tsx" name="ToolConfirmationMessage &gt; with folder trust &gt; &apos;for info confirmations&apos; &gt; should NOT show &quot;allow always&quot; when folder is untrusted" time="0.012812125">
        </testcase>
        <testcase classname="src/ui/components/messages/ToolConfirmationMessage.test.tsx" name="ToolConfirmationMessage &gt; with folder trust &gt; &apos;for mcp confirmations&apos; &gt; should show &quot;allow always&quot; when folder is trusted" time="0.014710084">
        </testcase>
        <testcase classname="src/ui/components/messages/ToolConfirmationMessage.test.tsx" name="ToolConfirmationMessage &gt; with folder trust &gt; &apos;for mcp confirmations&apos; &gt; should NOT show &quot;allow always&quot; when folder is untrusted" time="0.003294042">
        </testcase>
        <testcase classname="src/ui/components/messages/ToolConfirmationMessage.test.tsx" name="ToolConfirmationMessage &gt; external editor option &gt; should show &quot;Modify with external editor&quot; when preferredEditor is set" time="0.004508083">
        </testcase>
        <testcase classname="src/ui/components/messages/ToolConfirmationMessage.test.tsx" name="ToolConfirmationMessage &gt; external editor option &gt; should NOT show &quot;Modify with external editor&quot; when preferredEditor is not set" time="0.008611125">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/messages/ToolGroupMessage.test.tsx" timestamp="2025-11-26T16:27:33.869Z" hostname="MacBook-Pro-6.local" tests="14" failures="0" errors="0" skipped="0" time="0.156010209">
        <testcase classname="src/ui/components/messages/ToolGroupMessage.test.tsx" name="&lt;ToolGroupMessage /&gt; &gt; Golden Snapshots &gt; renders single successful tool call" time="0.0167915">
        </testcase>
        <testcase classname="src/ui/components/messages/ToolGroupMessage.test.tsx" name="&lt;ToolGroupMessage /&gt; &gt; Golden Snapshots &gt; renders multiple tool calls with different statuses" time="0.017455083">
        </testcase>
        <testcase classname="src/ui/components/messages/ToolGroupMessage.test.tsx" name="&lt;ToolGroupMessage /&gt; &gt; Golden Snapshots &gt; renders tool call awaiting confirmation" time="0.003985583">
        </testcase>
        <testcase classname="src/ui/components/messages/ToolGroupMessage.test.tsx" name="&lt;ToolGroupMessage /&gt; &gt; Golden Snapshots &gt; renders shell command with yellow border" time="0.002513958">
        </testcase>
        <testcase classname="src/ui/components/messages/ToolGroupMessage.test.tsx" name="&lt;ToolGroupMessage /&gt; &gt; Golden Snapshots &gt; renders mixed tool calls including shell command" time="0.00351775">
        </testcase>
        <testcase classname="src/ui/components/messages/ToolGroupMessage.test.tsx" name="&lt;ToolGroupMessage /&gt; &gt; Golden Snapshots &gt; renders with limited terminal height" time="0.026896">
        </testcase>
        <testcase classname="src/ui/components/messages/ToolGroupMessage.test.tsx" name="&lt;ToolGroupMessage /&gt; &gt; Golden Snapshots &gt; renders when not focused" time="0.002074459">
        </testcase>
        <testcase classname="src/ui/components/messages/ToolGroupMessage.test.tsx" name="&lt;ToolGroupMessage /&gt; &gt; Golden Snapshots &gt; renders with narrow terminal width" time="0.0248635">
        </testcase>
        <testcase classname="src/ui/components/messages/ToolGroupMessage.test.tsx" name="&lt;ToolGroupMessage /&gt; &gt; Golden Snapshots &gt; renders empty tool calls array" time="0.001584375">
        </testcase>
        <testcase classname="src/ui/components/messages/ToolGroupMessage.test.tsx" name="&lt;ToolGroupMessage /&gt; &gt; Border Color Logic &gt; uses yellow border when tools are pending" time="0.001910459">
        </testcase>
        <testcase classname="src/ui/components/messages/ToolGroupMessage.test.tsx" name="&lt;ToolGroupMessage /&gt; &gt; Border Color Logic &gt; uses yellow border for shell commands even when successful" time="0.002040083">
        </testcase>
        <testcase classname="src/ui/components/messages/ToolGroupMessage.test.tsx" name="&lt;ToolGroupMessage /&gt; &gt; Border Color Logic &gt; uses gray border when all tools are successful and no shell commands" time="0.013598166">
        </testcase>
        <testcase classname="src/ui/components/messages/ToolGroupMessage.test.tsx" name="&lt;ToolGroupMessage /&gt; &gt; Height Calculation &gt; calculates available height correctly with multiple tools with results" time="0.006787292">
        </testcase>
        <testcase classname="src/ui/components/messages/ToolGroupMessage.test.tsx" name="&lt;ToolGroupMessage /&gt; &gt; Confirmation Handling &gt; shows confirmation dialog for first confirming tool only" time="0.010820042">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/messages/ToolMessage.test.tsx" timestamp="2025-11-26T16:27:33.870Z" hostname="MacBook-Pro-6.local" tests="13" failures="0" errors="0" skipped="0" time="0.088792958">
        <testcase classname="src/ui/components/messages/ToolMessage.test.tsx" name="&lt;ToolMessage /&gt; &gt; renders basic tool information" time="0.018280333">
        </testcase>
        <testcase classname="src/ui/components/messages/ToolMessage.test.tsx" name="&lt;ToolMessage /&gt; &gt; ToolStatusIndicator rendering &gt; shows  for Success status" time="0.002200375">
        </testcase>
        <testcase classname="src/ui/components/messages/ToolMessage.test.tsx" name="&lt;ToolMessage /&gt; &gt; ToolStatusIndicator rendering &gt; shows o for Pending status" time="0.001814875">
        </testcase>
        <testcase classname="src/ui/components/messages/ToolMessage.test.tsx" name="&lt;ToolMessage /&gt; &gt; ToolStatusIndicator rendering &gt; shows ? for Confirming status" time="0.001645">
        </testcase>
        <testcase classname="src/ui/components/messages/ToolMessage.test.tsx" name="&lt;ToolMessage /&gt; &gt; ToolStatusIndicator rendering &gt; shows - for Canceled status" time="0.001591875">
        </testcase>
        <testcase classname="src/ui/components/messages/ToolMessage.test.tsx" name="&lt;ToolMessage /&gt; &gt; ToolStatusIndicator rendering &gt; shows x for Error status" time="0.001391166">
        </testcase>
        <testcase classname="src/ui/components/messages/ToolMessage.test.tsx" name="&lt;ToolMessage /&gt; &gt; ToolStatusIndicator rendering &gt; shows paused spinner for Executing status when streamingState is Idle" time="0.005633292">
        </testcase>
        <testcase classname="src/ui/components/messages/ToolMessage.test.tsx" name="&lt;ToolMessage /&gt; &gt; ToolStatusIndicator rendering &gt; shows paused spinner for Executing status when streamingState is WaitingForConfirmation" time="0.008950958">
        </testcase>
        <testcase classname="src/ui/components/messages/ToolMessage.test.tsx" name="&lt;ToolMessage /&gt; &gt; ToolStatusIndicator rendering &gt; shows MockRespondingSpinner for Executing status when streamingState is Responding" time="0.018906792">
        </testcase>
        <testcase classname="src/ui/components/messages/ToolMessage.test.tsx" name="&lt;ToolMessage /&gt; &gt; renders DiffRenderer for diff results" time="0.001983583">
        </testcase>
        <testcase classname="src/ui/components/messages/ToolMessage.test.tsx" name="&lt;ToolMessage /&gt; &gt; renders emphasis correctly" time="0.003022916">
        </testcase>
        <testcase classname="src/ui/components/messages/ToolMessage.test.tsx" name="&lt;ToolMessage /&gt; &gt; shows subagent execution display for task tool with proper result display" time="0.009502375">
        </testcase>
        <testcase classname="src/ui/components/messages/ToolMessage.test.tsx" name="&lt;ToolMessage /&gt; &gt; renders AnsiOutputText for AnsiOutput results" time="0.0127845">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/shared/BaseSelectionList.test.tsx" timestamp="2025-11-26T16:27:33.874Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/components/shared/BaseSelectionList.test.tsx" name="src/ui/components/shared/BaseSelectionList.test.tsx" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/shared/DescriptiveRadioButtonSelect.test.tsx" timestamp="2025-11-26T16:27:33.874Z" hostname="MacBook-Pro-6.local" tests="2" failures="0" errors="0" skipped="0" time="0.026948166">
        <testcase classname="src/ui/components/shared/DescriptiveRadioButtonSelect.test.tsx" name="DescriptiveRadioButtonSelect &gt; should render correctly with default props" time="0.021197916">
        </testcase>
        <testcase classname="src/ui/components/shared/DescriptiveRadioButtonSelect.test.tsx" name="DescriptiveRadioButtonSelect &gt; should render correctly with custom props" time="0.004470042">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/shared/EnumSelector.test.tsx" timestamp="2025-11-26T16:27:33.875Z" hostname="MacBook-Pro-6.local" tests="9" failures="0" errors="0" skipped="0" time="0.028445833">
        <testcase classname="src/ui/components/shared/EnumSelector.test.tsx" name="&lt;EnumSelector /&gt; &gt; renders with string options and matches snapshot" time="0.0176775">
        </testcase>
        <testcase classname="src/ui/components/shared/EnumSelector.test.tsx" name="&lt;EnumSelector /&gt; &gt; renders with numeric options and matches snapshot" time="0.0012315">
        </testcase>
        <testcase classname="src/ui/components/shared/EnumSelector.test.tsx" name="&lt;EnumSelector /&gt; &gt; renders inactive state and matches snapshot" time="0.001025625">
        </testcase>
        <testcase classname="src/ui/components/shared/EnumSelector.test.tsx" name="&lt;EnumSelector /&gt; &gt; renders with single option and matches snapshot" time="0.000948625">
        </testcase>
        <testcase classname="src/ui/components/shared/EnumSelector.test.tsx" name="&lt;EnumSelector /&gt; &gt; renders nothing when no options are provided" time="0.0006045">
        </testcase>
        <testcase classname="src/ui/components/shared/EnumSelector.test.tsx" name="&lt;EnumSelector /&gt; &gt; handles currentValue not found in options" time="0.000903125">
        </testcase>
        <testcase classname="src/ui/components/shared/EnumSelector.test.tsx" name="&lt;EnumSelector /&gt; &gt; updates when currentValue changes externally" time="0.002672042">
        </testcase>
        <testcase classname="src/ui/components/shared/EnumSelector.test.tsx" name="&lt;EnumSelector /&gt; &gt; shows navigation arrows when multiple options available" time="0.001275125">
        </testcase>
        <testcase classname="src/ui/components/shared/EnumSelector.test.tsx" name="&lt;EnumSelector /&gt; &gt; hides navigation arrows when single option available" time="0.001156875">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/shared/MaxSizedBox.test.tsx" timestamp="2025-11-26T16:27:33.876Z" hostname="MacBook-Pro-6.local" tests="21" failures="0" errors="0" skipped="0" time="0.069614792">
        <testcase classname="src/ui/components/shared/MaxSizedBox.test.tsx" name="&lt;MaxSizedBox /&gt; &gt; renders children without truncation when they fit" time="0.019934375">
        </testcase>
        <testcase classname="src/ui/components/shared/MaxSizedBox.test.tsx" name="&lt;MaxSizedBox /&gt; &gt; hides lines when content exceeds maxHeight" time="0.002249375">
        </testcase>
        <testcase classname="src/ui/components/shared/MaxSizedBox.test.tsx" name="&lt;MaxSizedBox /&gt; &gt; hides lines at the end when content exceeds maxHeight and overflowDirection is bottom" time="0.001449959">
        </testcase>
        <testcase classname="src/ui/components/shared/MaxSizedBox.test.tsx" name="&lt;MaxSizedBox /&gt; &gt; wraps text that exceeds maxWidth" time="0.001831208">
        </testcase>
        <testcase classname="src/ui/components/shared/MaxSizedBox.test.tsx" name="&lt;MaxSizedBox /&gt; &gt; handles mixed wrapping and non-wrapping segments" time="0.005881833">
        </testcase>
        <testcase classname="src/ui/components/shared/MaxSizedBox.test.tsx" name="&lt;MaxSizedBox /&gt; &gt; handles words longer than maxWidth by splitting them" time="0.003268416">
        </testcase>
        <testcase classname="src/ui/components/shared/MaxSizedBox.test.tsx" name="&lt;MaxSizedBox /&gt; &gt; does not truncate when maxHeight is undefined" time="0.000936584">
        </testcase>
        <testcase classname="src/ui/components/shared/MaxSizedBox.test.tsx" name="&lt;MaxSizedBox /&gt; &gt; shows plural &quot;lines&quot; when more than one line is hidden" time="0.00109275">
        </testcase>
        <testcase classname="src/ui/components/shared/MaxSizedBox.test.tsx" name="&lt;MaxSizedBox /&gt; &gt; shows plural &quot;lines&quot; when more than one line is hidden and overflowDirection is bottom" time="0.001182209">
        </testcase>
        <testcase classname="src/ui/components/shared/MaxSizedBox.test.tsx" name="&lt;MaxSizedBox /&gt; &gt; renders an empty box for empty children" time="0.000382">
        </testcase>
        <testcase classname="src/ui/components/shared/MaxSizedBox.test.tsx" name="&lt;MaxSizedBox /&gt; &gt; wraps text with multi-byte unicode characters correctly" time="0.001454125">
        </testcase>
        <testcase classname="src/ui/components/shared/MaxSizedBox.test.tsx" name="&lt;MaxSizedBox /&gt; &gt; wraps text with multi-byte emoji characters correctly" time="0.000978666">
        </testcase>
        <testcase classname="src/ui/components/shared/MaxSizedBox.test.tsx" name="&lt;MaxSizedBox /&gt; &gt; falls back to an ellipsis when width is extremely small" time="0.000822459">
        </testcase>
        <testcase classname="src/ui/components/shared/MaxSizedBox.test.tsx" name="&lt;MaxSizedBox /&gt; &gt; truncates long non-wrapping text with ellipsis" time="0.000841333">
        </testcase>
        <testcase classname="src/ui/components/shared/MaxSizedBox.test.tsx" name="&lt;MaxSizedBox /&gt; &gt; truncates non-wrapping text containing line breaks" time="0.000849583">
        </testcase>
        <testcase classname="src/ui/components/shared/MaxSizedBox.test.tsx" name="&lt;MaxSizedBox /&gt; &gt; truncates emoji characters correctly with ellipsis" time="0.000675417">
        </testcase>
        <testcase classname="src/ui/components/shared/MaxSizedBox.test.tsx" name="&lt;MaxSizedBox /&gt; &gt; shows ellipsis for multiple rows with long non-wrapping text" time="0.007915583">
        </testcase>
        <testcase classname="src/ui/components/shared/MaxSizedBox.test.tsx" name="&lt;MaxSizedBox /&gt; &gt; accounts for additionalHiddenLinesCount" time="0.004595666">
        </testcase>
        <testcase classname="src/ui/components/shared/MaxSizedBox.test.tsx" name="&lt;MaxSizedBox /&gt; &gt; handles React.Fragment as a child" time="0.0015395">
        </testcase>
        <testcase classname="src/ui/components/shared/MaxSizedBox.test.tsx" name="&lt;MaxSizedBox /&gt; &gt; clips a long single text child from the top" time="0.003275458">
        </testcase>
        <testcase classname="src/ui/components/shared/MaxSizedBox.test.tsx" name="&lt;MaxSizedBox /&gt; &gt; clips a long single text child from the bottom" time="0.007444125">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/shared/RadioButtonSelect.test.tsx" timestamp="2025-11-26T16:27:33.878Z" hostname="MacBook-Pro-6.local" tests="5" failures="0" errors="0" skipped="0" time="0.038175583">
        <testcase classname="src/ui/components/shared/RadioButtonSelect.test.tsx" name="RadioButtonSelect &gt; Prop forwarding to BaseSelectionList &gt; should forward all props correctly when provided" time="0.034283708">
        </testcase>
        <testcase classname="src/ui/components/shared/RadioButtonSelect.test.tsx" name="RadioButtonSelect &gt; Prop forwarding to BaseSelectionList &gt; should use default props if not provided" time="0.00141175">
        </testcase>
        <testcase classname="src/ui/components/shared/RadioButtonSelect.test.tsx" name="RadioButtonSelect &gt; renderItem implementation &gt; should render the standard label display with correct color and truncation" time="0.000659917">
        </testcase>
        <testcase classname="src/ui/components/shared/RadioButtonSelect.test.tsx" name="RadioButtonSelect &gt; renderItem implementation &gt; should render the special theme display when theme props are present" time="0.000535333">
        </testcase>
        <testcase classname="src/ui/components/shared/RadioButtonSelect.test.tsx" name="RadioButtonSelect &gt; renderItem implementation &gt; should fall back to standard display if only one theme prop is present" time="0.000435291">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/shared/text-buffer.test.ts" timestamp="2025-11-26T16:27:33.879Z" hostname="MacBook-Pro-6.local" tests="1" failures="1" errors="0" skipped="0" time="0">
        <testcase classname="src/ui/components/shared/text-buffer.test.ts" name="src/ui/components/shared/text-buffer.test.ts" time="0">
            <failure message="require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules." type="Error">
Error: require() of ES Module /Users/user/qwen-masters-code/node_modules/ansi-regex/index.js from /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js not supported.
Instead change the require of index.js in /Users/user/qwen-masters-code/node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js to a dynamic import() which is available in all CommonJS modules.
  Object.&lt;anonymous&gt; ../../node_modules/@testing-library/dom/node_modules/pretty-format/build/plugins/ConvertAnsi.js:8:41


Serialized Error: { code: &apos;ERR_REQUIRE_ESM&apos; }
            </failure>
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/shared/vim-buffer-actions.test.ts" timestamp="2025-11-26T16:27:33.879Z" hostname="MacBook-Pro-6.local" tests="74" failures="0" errors="0" skipped="0" time="0.013535584">
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Movement commands &gt; vim_move_left &gt; should move cursor left by count" time="0.001684417">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Movement commands &gt; vim_move_left &gt; should not move past beginning of line" time="0.000166167">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Movement commands &gt; vim_move_left &gt; should wrap to previous line when at beginning" time="0.000144375">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Movement commands &gt; vim_move_left &gt; should handle multiple line wrapping" time="0.000090666">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Movement commands &gt; vim_move_left &gt; should correctly handle h/l movement between lines" time="0.000131375">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Movement commands &gt; vim_move_right &gt; should move cursor right by count" time="0.0002195">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Movement commands &gt; vim_move_right &gt; should not move past last character of line" time="0.0000755">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Movement commands &gt; vim_move_right &gt; should wrap to next line when at end" time="0.000172">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Movement commands &gt; vim_move_right &gt; should skip over combining marks to avoid cursor disappearing" time="0.000223917">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Movement commands &gt; vim_move_up &gt; should move cursor up by count" time="0.000085166">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Movement commands &gt; vim_move_up &gt; should not move past first line" time="0.000062916">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Movement commands &gt; vim_move_up &gt; should adjust column for shorter lines" time="0.000074708">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Movement commands &gt; vim_move_down &gt; should move cursor down by count" time="0.000101583">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Movement commands &gt; vim_move_down &gt; should not move past last line" time="0.000068167">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Movement commands &gt; vim_move_word_forward &gt; should move to start of next word" time="0.000813875">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Movement commands &gt; vim_move_word_forward &gt; should handle multiple words" time="0.000082291">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Movement commands &gt; vim_move_word_forward &gt; should handle punctuation correctly" time="0.000074542">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Movement commands &gt; vim_move_word_forward &gt; should move across empty lines when starting from within a word" time="0.000078334">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Movement commands &gt; vim_move_word_backward &gt; should move to start of previous word" time="0.000137916">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Movement commands &gt; vim_move_word_backward &gt; should handle multiple words" time="0.000071875">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Movement commands &gt; vim_move_word_end &gt; should move to end of current word" time="0.000173791">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Movement commands &gt; vim_move_word_end &gt; should move to end of next word if already at word end" time="0.000083792">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Movement commands &gt; vim_move_word_end &gt; should move across empty lines when at word end" time="0.000090583">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Movement commands &gt; vim_move_word_end &gt; should handle consecutive word-end movements across empty lines" time="0.000121541">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Movement commands &gt; vim_move_word_end &gt; should handle combining characters - advance from end of base character" time="0.000311292">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Movement commands &gt; vim_move_word_end &gt; should handle precomposed characters with diacritics" time="0.000114625">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Movement commands &gt; Position commands &gt; vim_move_to_line_start should move to column 0" time="0.000067125">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Movement commands &gt; Position commands &gt; vim_move_to_line_end should move to last character" time="0.000061834">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Movement commands &gt; Position commands &gt; vim_move_to_first_nonwhitespace should skip leading whitespace" time="0.000153375">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Movement commands &gt; Position commands &gt; vim_move_to_first_line should move to row 0" time="0.000073417">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Movement commands &gt; Position commands &gt; vim_move_to_last_line should move to last row" time="0.000072625">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Movement commands &gt; Position commands &gt; vim_move_to_line should move to specific line" time="0.000078458">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Movement commands &gt; Position commands &gt; vim_move_to_line should clamp to valid range" time="0.000058417">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Edit commands &gt; vim_delete_char &gt; should delete single character" time="0.000263459">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Edit commands &gt; vim_delete_char &gt; should delete multiple characters" time="0.000086958">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Edit commands &gt; vim_delete_char &gt; should not delete past end of line" time="0.000077792">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Edit commands &gt; vim_delete_char &gt; should do nothing at end of line" time="0.00006725">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Edit commands &gt; vim_delete_word_forward &gt; should delete from cursor to next word start" time="0.000089416">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Edit commands &gt; vim_delete_word_forward &gt; should delete multiple words" time="0.000085125">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Edit commands &gt; vim_delete_word_forward &gt; should delete to end if no more words" time="0.000092875">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Edit commands &gt; vim_delete_word_backward &gt; should delete from cursor to previous word start" time="0.000082416">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Edit commands &gt; vim_delete_word_backward &gt; should delete multiple words backward" time="0.000084125">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Edit commands &gt; vim_delete_line &gt; should delete current line" time="0.000470625">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Edit commands &gt; vim_delete_line &gt; should delete multiple lines" time="0.000105375">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Edit commands &gt; vim_delete_line &gt; should leave empty line when deleting all lines" time="0.000092375">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Edit commands &gt; vim_delete_to_end_of_line &gt; should delete from cursor to end of line" time="0.0000955">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Edit commands &gt; vim_delete_to_end_of_line &gt; should do nothing at end of line" time="0.000058959">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Insert mode commands &gt; vim_insert_at_cursor &gt; should not change cursor position" time="0.00006825">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Insert mode commands &gt; vim_append_at_cursor &gt; should move cursor right by one" time="0.000059416">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Insert mode commands &gt; vim_append_at_cursor &gt; should not move past end of line" time="0.000055542">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Insert mode commands &gt; vim_append_at_line_end &gt; should move cursor to end of line" time="0.000056834">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Insert mode commands &gt; vim_insert_at_line_start &gt; should move to first non-whitespace character" time="0.000063417">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Insert mode commands &gt; vim_insert_at_line_start &gt; should move to column 0 for line with only whitespace" time="0.000056625">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Insert mode commands &gt; vim_open_line_below &gt; should insert a new line below the current one" time="0.000109">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Insert mode commands &gt; vim_open_line_above &gt; should insert a new line above the current one" time="0.000100042">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Insert mode commands &gt; vim_escape_insert_mode &gt; should move cursor left" time="0.000061334">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Insert mode commands &gt; vim_escape_insert_mode &gt; should not move past beginning of line" time="0.000057292">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Change commands &gt; vim_change_word_forward &gt; should delete from cursor to next word start" time="0.000107417">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Change commands &gt; vim_change_line &gt; should delete entire line content" time="0.000454042">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Change commands &gt; vim_change_movement &gt; should change characters to the left" time="0.000138208">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Change commands &gt; vim_change_movement &gt; should change characters to the right" time="0.000092666">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Change commands &gt; vim_change_movement &gt; should change multiple lines down" time="0.00011425">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Edge cases &gt; should handle empty text" time="0.000077208">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Edge cases &gt; should handle single character line" time="0.000059875">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Edge cases &gt; should handle empty lines in multi-line text" time="0.000325833">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; Edge cases &gt; should preserve undo stack in operations" time="0.00064425">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; UTF-32 character handling in word/line operations &gt; Right-to-left text handling &gt; should handle Arabic text in word movements" time="0.000379875">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; UTF-32 character handling in word/line operations &gt; Chinese character handling &gt; should handle Chinese characters in word movements" time="0.000111458">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; UTF-32 character handling in word/line operations &gt; Mixed script handling &gt; should handle mixed Latin and non-Latin scripts with word end commands" time="0.000107084">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; UTF-32 character handling in word/line operations &gt; Mixed script handling &gt; should handle mixed Latin and non-Latin scripts with word forward commands" time="0.000096208">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; UTF-32 character handling in word/line operations &gt; Mixed script handling &gt; should handle mixed Latin and non-Latin scripts with word backward commands" time="0.000294583">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; UTF-32 character handling in word/line operations &gt; Mixed script handling &gt; should handle Unicode block characters consistently with w and e commands" time="0.000242875">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; UTF-32 character handling in word/line operations &gt; Mixed script handling &gt; should handle strings starting with Chinese characters" time="0.000161083">
        </testcase>
        <testcase classname="src/ui/components/shared/vim-buffer-actions.test.ts" name="vim-buffer-actions &gt; UTF-32 character handling in word/line operations &gt; Mixed script handling &gt; should handle strings starting with Arabic characters" time="0.000140291">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/views/ExtensionsList.test.tsx" timestamp="2025-11-26T16:27:33.888Z" hostname="MacBook-Pro-6.local" tests="9" failures="0" errors="0" skipped="0" time="0.036089042">
        <testcase classname="src/ui/components/views/ExtensionsList.test.tsx" name="&lt;ExtensionsList /&gt; &gt; should render &quot;No extensions installed.&quot; if there are no extensions" time="0.020382084">
        </testcase>
        <testcase classname="src/ui/components/views/ExtensionsList.test.tsx" name="&lt;ExtensionsList /&gt; &gt; should render a list of extensions with their version and status" time="0.00498225">
            <system-err>
Unhandled ExtensionUpdateState undefined
Unhandled ExtensionUpdateState undefined
Unhandled ExtensionUpdateState undefined

            </system-err>
        </testcase>
        <testcase classname="src/ui/components/views/ExtensionsList.test.tsx" name="&lt;ExtensionsList /&gt; &gt; should display &quot;unknown state&quot; if an extension has no update state" time="0.00167225">
            <system-err>
Unhandled ExtensionUpdateState undefined

            </system-err>
        </testcase>
        <testcase classname="src/ui/components/views/ExtensionsList.test.tsx" name="&lt;ExtensionsList /&gt; &gt; should correctly display the state: checking for updates" time="0.001417708">
        </testcase>
        <testcase classname="src/ui/components/views/ExtensionsList.test.tsx" name="&lt;ExtensionsList /&gt; &gt; should correctly display the state: updating" time="0.00125525">
        </testcase>
        <testcase classname="src/ui/components/views/ExtensionsList.test.tsx" name="&lt;ExtensionsList /&gt; &gt; should correctly display the state: update available" time="0.001399042">
        </testcase>
        <testcase classname="src/ui/components/views/ExtensionsList.test.tsx" name="&lt;ExtensionsList /&gt; &gt; should correctly display the state: updated, needs restart" time="0.001306">
        </testcase>
        <testcase classname="src/ui/components/views/ExtensionsList.test.tsx" name="&lt;ExtensionsList /&gt; &gt; should correctly display the state: error" time="0.001228667">
        </testcase>
        <testcase classname="src/ui/components/views/ExtensionsList.test.tsx" name="&lt;ExtensionsList /&gt; &gt; should correctly display the state: up to date" time="0.001497625">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/views/McpStatus.test.tsx" timestamp="2025-11-26T16:27:33.889Z" hostname="MacBook-Pro-6.local" tests="12" failures="0" errors="0" skipped="0" time="0.083836125">
        <testcase classname="src/ui/components/views/McpStatus.test.tsx" name="McpStatus &gt; renders correctly with a connected server" time="0.017946625">
        </testcase>
        <testcase classname="src/ui/components/views/McpStatus.test.tsx" name="McpStatus &gt; renders correctly with authenticated OAuth status" time="0.004324709">
        </testcase>
        <testcase classname="src/ui/components/views/McpStatus.test.tsx" name="McpStatus &gt; renders correctly with expired OAuth status" time="0.004611791">
        </testcase>
        <testcase classname="src/ui/components/views/McpStatus.test.tsx" name="McpStatus &gt; renders correctly with unauthenticated OAuth status" time="0.009046042">
        </testcase>
        <testcase classname="src/ui/components/views/McpStatus.test.tsx" name="McpStatus &gt; renders correctly with a disconnected server" time="0.002929083">
        </testcase>
        <testcase classname="src/ui/components/views/McpStatus.test.tsx" name="McpStatus &gt; renders correctly when discovery is in progress" time="0.003083125">
        </testcase>
        <testcase classname="src/ui/components/views/McpStatus.test.tsx" name="McpStatus &gt; renders correctly with schema enabled" time="0.004735375">
        </testcase>
        <testcase classname="src/ui/components/views/McpStatus.test.tsx" name="McpStatus &gt; renders correctly with parametersJsonSchema" time="0.0031745">
        </testcase>
        <testcase classname="src/ui/components/views/McpStatus.test.tsx" name="McpStatus &gt; renders correctly with tips enabled" time="0.025073541">
        </testcase>
        <testcase classname="src/ui/components/views/McpStatus.test.tsx" name="McpStatus &gt; renders correctly with prompts" time="0.003099583">
        </testcase>
        <testcase classname="src/ui/components/views/McpStatus.test.tsx" name="McpStatus &gt; renders correctly with a blocked server" time="0.002910666">
        </testcase>
        <testcase classname="src/ui/components/views/McpStatus.test.tsx" name="McpStatus &gt; renders correctly with a connecting server" time="0.001887917">
        </testcase>
    </testsuite>
    <testsuite name="src/ui/components/views/ToolsList.test.tsx" timestamp="2025-11-26T16:27:33.890Z" hostname="MacBook-Pro-6.local" tests="3" failures="0" errors="0" skipped="0" time="0.033327">
        <testcase classname="src/ui/components/views/ToolsList.test.tsx" name="&lt;ToolsList /&gt; &gt; renders correctly with descriptions" time="0.02906825">
        </testcase>
        <testcase classname="src/ui/components/views/ToolsList.test.tsx" name="&lt;ToolsList /&gt; &gt; renders correctly without descriptions" time="0.002331167">
        </testcase>
        <testcase classname="src/ui/components/views/ToolsList.test.tsx" name="&lt;ToolsList /&gt; &gt; renders correctly with no tools" time="0.001106334">
        </testcase>
    </testsuite>
</testsuites>
